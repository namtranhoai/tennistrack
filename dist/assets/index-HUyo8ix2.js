var Lw=e=>{throw TypeError(e)};var Nm=(e,t,r)=>t.has(e)||Lw("Cannot "+r);var C=(e,t,r)=>(Nm(e,t,"read from private field"),r?r.call(e):t.get(e)),ce=(e,t,r)=>t.has(e)?Lw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),re=(e,t,r,n)=>(Nm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),be=(e,t,r)=>(Nm(e,t,"access private method"),r);var bd=(e,t,r,n)=>({set _(i){re(e,t,i,r)},get _(){return C(e,t,n)}});function wP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var _P={exports:{}},lp={},jP={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=Symbol.for("react.element"),_R=Symbol.for("react.portal"),jR=Symbol.for("react.fragment"),SR=Symbol.for("react.strict_mode"),NR=Symbol.for("react.profiler"),OR=Symbol.for("react.provider"),PR=Symbol.for("react.context"),ER=Symbol.for("react.forward_ref"),kR=Symbol.for("react.suspense"),AR=Symbol.for("react.memo"),TR=Symbol.for("react.lazy"),Dw=Symbol.iterator;function CR(e){return e===null||typeof e!="object"?null:(e=Dw&&e[Dw]||e["@@iterator"],typeof e=="function"?e:null)}var SP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NP=Object.assign,OP={};function El(e,t,r){this.props=e,this.context=t,this.refs=OP,this.updater=r||SP}El.prototype.isReactComponent={};El.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};El.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PP(){}PP.prototype=El.prototype;function tx(e,t,r){this.props=e,this.context=t,this.refs=OP,this.updater=r||SP}var rx=tx.prototype=new PP;rx.constructor=tx;NP(rx,El.prototype);rx.isPureReactComponent=!0;var Fw=Array.isArray,EP=Object.prototype.hasOwnProperty,nx={current:null},kP={key:!0,ref:!0,__self:!0,__source:!0};function AP(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)EP.call(t,n)&&!kP.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:td,type:e,key:a,ref:s,props:i,_owner:nx.current}}function $R(e,t){return{$$typeof:td,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ix(e){return typeof e=="object"&&e!==null&&e.$$typeof===td}function RR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bw=/\/+/g;function Om(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RR(""+e.key):t.toString(36)}function uf(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case td:case _R:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Om(s,0):n,Fw(i)?(r="",e!=null&&(r=e.replace(Bw,"$&/")+"/"),uf(i,t,r,"",function(u){return u})):i!=null&&(ix(i)&&(i=$R(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Bw,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Fw(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Om(a,o);s+=uf(a,t,r,c,i)}else if(c=CR(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Om(a,o++),s+=uf(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function _d(e,t,r){if(e==null)return e;var n=[],i=0;return uf(e,n,"","",function(a){return t.call(r,a,i++)}),n}function MR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vr={current:null},df={transition:null},IR={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:df,ReactCurrentOwner:nx};function TP(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:_d,forEach:function(e,t,r){_d(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _d(e,function(){t++}),t},toArray:function(e){return _d(e,function(t){return t})||[]},only:function(e){if(!ix(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};je.Component=El;je.Fragment=jR;je.Profiler=NR;je.PureComponent=tx;je.StrictMode=SR;je.Suspense=kR;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IR;je.act=TP;je.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=NP({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=nx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)EP.call(t,c)&&!kP.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:td,type:e.type,key:i,ref:a,props:n,_owner:s}};je.createContext=function(e){return e={$$typeof:PR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OR,_context:e},e.Consumer=e};je.createElement=AP;je.createFactory=function(e){var t=AP.bind(null,e);return t.type=e,t};je.createRef=function(){return{current:null}};je.forwardRef=function(e){return{$$typeof:ER,render:e}};je.isValidElement=ix;je.lazy=function(e){return{$$typeof:TR,_payload:{_status:-1,_result:e},_init:MR}};je.memo=function(e,t){return{$$typeof:AR,type:e,compare:t===void 0?null:t}};je.startTransition=function(e){var t=df.transition;df.transition={};try{e()}finally{df.transition=t}};je.unstable_act=TP;je.useCallback=function(e,t){return vr.current.useCallback(e,t)};je.useContext=function(e){return vr.current.useContext(e)};je.useDebugValue=function(){};je.useDeferredValue=function(e){return vr.current.useDeferredValue(e)};je.useEffect=function(e,t){return vr.current.useEffect(e,t)};je.useId=function(){return vr.current.useId()};je.useImperativeHandle=function(e,t,r){return vr.current.useImperativeHandle(e,t,r)};je.useInsertionEffect=function(e,t){return vr.current.useInsertionEffect(e,t)};je.useLayoutEffect=function(e,t){return vr.current.useLayoutEffect(e,t)};je.useMemo=function(e,t){return vr.current.useMemo(e,t)};je.useReducer=function(e,t,r){return vr.current.useReducer(e,t,r)};je.useRef=function(e){return vr.current.useRef(e)};je.useState=function(e){return vr.current.useState(e)};je.useSyncExternalStore=function(e,t,r){return vr.current.useSyncExternalStore(e,t,r)};je.useTransition=function(){return vr.current.useTransition()};je.version="18.3.1";jP.exports=je;var O=jP.exports;const E=Ie(O),CP=wP({__proto__:null,default:E},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LR=O,DR=Symbol.for("react.element"),FR=Symbol.for("react.fragment"),BR=Object.prototype.hasOwnProperty,UR=LR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zR={key:!0,ref:!0,__self:!0,__source:!0};function $P(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)BR.call(t,n)&&!zR.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:DR,type:e,key:a,ref:s,props:i,_owner:UR.current}}lp.Fragment=FR;lp.jsx=$P;lp.jsxs=$P;_P.exports=lp;var l=_P.exports,Gg={},RP={exports:{}},Vr={},MP={exports:{}},IP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,B){var U=R.length;R.push(B);e:for(;0<U;){var V=U-1>>>1,K=R[V];if(0<i(K,B))R[V]=B,R[U]=K,U=V;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var B=R[0],U=R.pop();if(U!==B){R[0]=U;e:for(var V=0,K=R.length,le=K>>>1;V<le;){var Ne=2*(V+1)-1,Fe=R[Ne],st=Ne+1,Jt=R[st];if(0>i(Fe,U))st<K&&0>i(Jt,Fe)?(R[V]=Jt,R[st]=U,V=st):(R[V]=Fe,R[Ne]=U,V=Ne);else if(st<K&&0>i(Jt,U))R[V]=Jt,R[st]=U,V=st;else break e}}return B}function i(R,B){var U=R.sortIndex-B.sortIndex;return U!==0?U:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(R){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=R)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function _(R){if(y=!1,b(R),!v)if(r(c)!==null)v=!0,F(w);else{var B=r(u);B!==null&&q(_,B.startTime-R)}}function w(R,B){v=!1,y&&(y=!1,m(N),N=-1),p=!0;var U=h;try{for(b(B),f=r(c);f!==null&&(!(f.expirationTime>B)||R&&!k());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var K=V(f.expirationTime<=B);B=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(c)&&n(c),b(B)}else n(c);f=r(c)}if(f!==null)var le=!0;else{var Ne=r(u);Ne!==null&&q(_,Ne.startTime-B),le=!1}return le}finally{f=null,h=U,p=!1}}var j=!1,S=null,N=-1,P=5,A=-1;function k(){return!(e.unstable_now()-A<P)}function T(){if(S!==null){var R=e.unstable_now();A=R;var B=!0;try{B=S(!0,R)}finally{B?M():(j=!1,S=null)}}else j=!1}var M;if(typeof g=="function")M=function(){g(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=T,M=function(){D.postMessage(null)}}else M=function(){x(T,0)};function F(R){S=R,j||(j=!0,M())}function q(R,B){N=x(function(){R(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,F(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var U=h;h=B;try{return R()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=h;h=R;try{return B()}finally{h=U}},e.unstable_scheduleCallback=function(R,B,U){var V=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,R={id:d++,callback:B,priorityLevel:R,startTime:U,expirationTime:K,sortIndex:-1},U>V?(R.sortIndex=U,t(u,R),r(c)===null&&R===r(u)&&(y?(m(N),N=-1):y=!0,q(_,U-V))):(R.sortIndex=K,t(c,R),v||p||(v=!0,F(w))),R},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(R){var B=h;return function(){var U=h;h=B;try{return R.apply(this,arguments)}finally{h=U}}}})(IP);MP.exports=IP;var WR=MP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qR=O,qr=WR;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LP=new Set,Vc={};function Rs(e,t){Ho(e,t),Ho(e+"Capture",t)}function Ho(e,t){for(Vc[e]=t,e=0;e<t.length;e++)LP.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qg=Object.prototype.hasOwnProperty,VR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uw={},zw={};function HR(e){return Qg.call(zw,e)?!0:Qg.call(Uw,e)?!1:VR.test(e)?zw[e]=!0:(Uw[e]=!0,!1)}function KR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GR(e,t,r,n){if(t===null||typeof t>"u"||KR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var ax=/[\-:]([a-z])/g;function sx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ax,sx);Yt[t]=new yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ax,sx);Yt[t]=new yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ax,sx);Yt[t]=new yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new yr(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ox(e,t,r,n){var i=Yt.hasOwnProperty(t)?Yt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GR(t,r,i,n)&&(r=null),n||i===null?HR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $i=qR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),no=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),Yg=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),FP=Symbol.for("react.context"),cx=Symbol.for("react.forward_ref"),Xg=Symbol.for("react.suspense"),Jg=Symbol.for("react.suspense_list"),ux=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),BP=Symbol.for("react.offscreen"),Ww=Symbol.iterator;function Zl(e){return e===null||typeof e!="object"?null:(e=Ww&&e[Ww]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,Pm;function bc(e){if(Pm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pm=t&&t[1]||""}return`
`+Pm+e}var Em=!1;function km(e,t){if(!e||Em)return"";Em=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Em=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bc(e):""}function QR(e){switch(e.tag){case 5:return bc(e.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return e=km(e.type,!1),e;case 11:return e=km(e.type.render,!1),e;case 1:return e=km(e.type,!0),e;default:return""}}function Zg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case io:return"Fragment";case no:return"Portal";case Yg:return"Profiler";case lx:return"StrictMode";case Xg:return"Suspense";case Jg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FP:return(e.displayName||"Context")+".Consumer";case DP:return(e._context.displayName||"Context")+".Provider";case cx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ux:return t=e.displayName||null,t!==null?t:Zg(e.type)||"Memo";case Vi:t=e._payload,e=e._init;try{return Zg(e(t))}catch{}}return null}function YR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zg(t);case 8:return t===lx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XR(e){var t=UP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sd(e){e._valueTracker||(e._valueTracker=XR(e))}function zP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=UP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Sf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ev(e,t){var r=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ja(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WP(e,t){t=t.checked,t!=null&&ox(e,"checked",t,!1)}function tv(e,t){WP(e,t);var r=ja(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rv(e,t.type,r):t.hasOwnProperty("defaultValue")&&rv(e,t.type,ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rv(e,t,r){(t!=="number"||Sf(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wc=Array.isArray;function _o(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ja(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function nv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(wc(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ja(r)}}function qP(e,t){var r=ja(t.value),n=ja(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Kw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nd,HP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nd=Nd||document.createElement("div"),Nd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JR=["Webkit","ms","Moz","O"];Object.keys(Pc).forEach(function(e){JR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pc[t]=Pc[e]})});function KP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Pc.hasOwnProperty(e)&&Pc[e]?(""+t).trim():t+"px"}function GP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=KP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var ZR=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function av(e,t){if(t){if(ZR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function sv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function dx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lv=null,jo=null,So=null;function Gw(e){if(e=id(e)){if(typeof lv!="function")throw Error(G(280));var t=e.stateNode;t&&(t=hp(t),lv(e.stateNode,e.type,t))}}function QP(e){jo?So?So.push(e):So=[e]:jo=e}function YP(){if(jo){var e=jo,t=So;if(So=jo=null,Gw(e),t)for(e=0;e<t.length;e++)Gw(t[e])}}function XP(e,t){return e(t)}function JP(){}var Am=!1;function ZP(e,t,r){if(Am)return e(t,r);Am=!0;try{return XP(e,t,r)}finally{Am=!1,(jo!==null||So!==null)&&(JP(),YP())}}function Kc(e,t){var r=e.stateNode;if(r===null)return null;var n=hp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var cv=!1;if(Oi)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){cv=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{cv=!1}function eM(e,t,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ec=!1,Nf=null,Of=!1,uv=null,tM={onError:function(e){Ec=!0,Nf=e}};function rM(e,t,r,n,i,a,s,o,c){Ec=!1,Nf=null,eM.apply(tM,arguments)}function nM(e,t,r,n,i,a,s,o,c){if(rM.apply(this,arguments),Ec){if(Ec){var u=Nf;Ec=!1,Nf=null}else throw Error(G(198));Of||(Of=!0,uv=u)}}function Ms(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qw(e){if(Ms(e)!==e)throw Error(G(188))}function iM(e){var t=e.alternate;if(!t){if(t=Ms(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Qw(i),e;if(a===n)return Qw(i),t;a=a.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function tE(e){return e=iM(e),e!==null?rE(e):null}function rE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rE(e);if(t!==null)return t;e=e.sibling}return null}var nE=qr.unstable_scheduleCallback,Yw=qr.unstable_cancelCallback,aM=qr.unstable_shouldYield,sM=qr.unstable_requestPaint,xt=qr.unstable_now,oM=qr.unstable_getCurrentPriorityLevel,fx=qr.unstable_ImmediatePriority,iE=qr.unstable_UserBlockingPriority,Pf=qr.unstable_NormalPriority,lM=qr.unstable_LowPriority,aE=qr.unstable_IdlePriority,cp=null,Wn=null;function cM(e){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(cp,e,void 0,(e.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:fM,uM=Math.log,dM=Math.LN2;function fM(e){return e>>>=0,e===0?32:31-(uM(e)/dM|0)|0}var Od=64,Pd=4194304;function _c(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ef(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=_c(o):(a&=s,a!==0&&(n=_c(a)))}else s=r&~i,s!==0?n=_c(s):a!==0&&(n=_c(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-kn(t),i=1<<r,n|=e[r],t&=~i;return n}function hM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-kn(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=hM(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function dv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sE(){var e=Od;return Od<<=1,!(Od&4194240)&&(Od=64),e}function Tm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kn(t),e[t]=r}function mM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-kn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function hx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-kn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Me=0;function oE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lE,px,cE,uE,dE,fv=!1,Ed=[],fa=null,ha=null,pa=null,Gc=new Map,Qc=new Map,Gi=[],gM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xw(e,t){switch(e){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Gc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(t.pointerId)}}function tc(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=id(t),t!==null&&px(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vM(e,t,r,n,i){switch(t){case"focusin":return fa=tc(fa,e,t,r,n,i),!0;case"dragenter":return ha=tc(ha,e,t,r,n,i),!0;case"mouseover":return pa=tc(pa,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Gc.set(a,tc(Gc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Qc.set(a,tc(Qc.get(a)||null,e,t,r,n,i)),!0}return!1}function fE(e){var t=Ya(e.target);if(t!==null){var r=Ms(t);if(r!==null){if(t=r.tag,t===13){if(t=eE(r),t!==null){e.blockedOn=t,dE(e.priority,function(){cE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ff(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ov=n,r.target.dispatchEvent(n),ov=null}else return t=id(r),t!==null&&px(t),e.blockedOn=r,!1;t.shift()}return!0}function Jw(e,t,r){ff(e)&&r.delete(t)}function yM(){fv=!1,fa!==null&&ff(fa)&&(fa=null),ha!==null&&ff(ha)&&(ha=null),pa!==null&&ff(pa)&&(pa=null),Gc.forEach(Jw),Qc.forEach(Jw)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,fv||(fv=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,yM)))}function Yc(e){function t(i){return rc(i,e)}if(0<Ed.length){rc(Ed[0],e);for(var r=1;r<Ed.length;r++){var n=Ed[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fa!==null&&rc(fa,e),ha!==null&&rc(ha,e),pa!==null&&rc(pa,e),Gc.forEach(t),Qc.forEach(t),r=0;r<Gi.length;r++)n=Gi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gi.length&&(r=Gi[0],r.blockedOn===null);)fE(r),r.blockedOn===null&&Gi.shift()}var No=$i.ReactCurrentBatchConfig,kf=!0;function xM(e,t,r,n){var i=Me,a=No.transition;No.transition=null;try{Me=1,mx(e,t,r,n)}finally{Me=i,No.transition=a}}function bM(e,t,r,n){var i=Me,a=No.transition;No.transition=null;try{Me=4,mx(e,t,r,n)}finally{Me=i,No.transition=a}}function mx(e,t,r,n){if(kf){var i=hv(e,t,r,n);if(i===null)Um(e,t,n,Af,r),Xw(e,n);else if(vM(i,e,t,r,n))n.stopPropagation();else if(Xw(e,n),t&4&&-1<gM.indexOf(e)){for(;i!==null;){var a=id(i);if(a!==null&&lE(a),a=hv(e,t,r,n),a===null&&Um(e,t,n,Af,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Um(e,t,n,null,r)}}var Af=null;function hv(e,t,r,n){if(Af=null,e=dx(n),e=Ya(e),e!==null)if(t=Ms(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Af=e,null}function hE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oM()){case fx:return 1;case iE:return 4;case Pf:case lM:return 16;case aE:return 536870912;default:return 16}default:return 16}}var la=null,gx=null,hf=null;function pE(){if(hf)return hf;var e,t=gx,r=t.length,n,i="value"in la?la.value:la.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return hf=i.slice(e,1<n?1-n:void 0)}function pf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kd(){return!0}function Zw(){return!1}function Hr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?kd:Zw,this.isPropagationStopped=Zw,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),t}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vx=Hr(kl),nd=ut({},kl,{view:0,detail:0}),wM=Hr(nd),Cm,$m,nc,up=ut({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nc&&(nc&&e.type==="mousemove"?(Cm=e.screenX-nc.screenX,$m=e.screenY-nc.screenY):$m=Cm=0,nc=e),Cm)},movementY:function(e){return"movementY"in e?e.movementY:$m}}),e_=Hr(up),_M=ut({},up,{dataTransfer:0}),jM=Hr(_M),SM=ut({},nd,{relatedTarget:0}),Rm=Hr(SM),NM=ut({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),OM=Hr(NM),PM=ut({},kl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EM=Hr(PM),kM=ut({},kl,{data:0}),t_=Hr(kM),AM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $M(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CM[e])?!!t[e]:!1}function yx(){return $M}var RM=ut({},nd,{key:function(e){if(e.key){var t=AM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yx,charCode:function(e){return e.type==="keypress"?pf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MM=Hr(RM),IM=ut({},up,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r_=Hr(IM),LM=ut({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yx}),DM=Hr(LM),FM=ut({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),BM=Hr(FM),UM=ut({},up,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zM=Hr(UM),WM=[9,13,27,32],xx=Oi&&"CompositionEvent"in window,kc=null;Oi&&"documentMode"in document&&(kc=document.documentMode);var qM=Oi&&"TextEvent"in window&&!kc,mE=Oi&&(!xx||kc&&8<kc&&11>=kc),n_=" ",i_=!1;function gE(e,t){switch(e){case"keyup":return WM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ao=!1;function VM(e,t){switch(e){case"compositionend":return vE(t);case"keypress":return t.which!==32?null:(i_=!0,n_);case"textInput":return e=t.data,e===n_&&i_?null:e;default:return null}}function HM(e,t){if(ao)return e==="compositionend"||!xx&&gE(e,t)?(e=pE(),hf=gx=la=null,ao=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mE&&t.locale!=="ko"?null:t.data;default:return null}}var KM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KM[e.type]:t==="textarea"}function yE(e,t,r,n){QP(n),t=Tf(t,"onChange"),0<t.length&&(r=new vx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ac=null,Xc=null;function GM(e){kE(e,0)}function dp(e){var t=lo(e);if(zP(t))return e}function QM(e,t){if(e==="change")return t}var xE=!1;if(Oi){var Mm;if(Oi){var Im="oninput"in document;if(!Im){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),Im=typeof s_.oninput=="function"}Mm=Im}else Mm=!1;xE=Mm&&(!document.documentMode||9<document.documentMode)}function o_(){Ac&&(Ac.detachEvent("onpropertychange",bE),Xc=Ac=null)}function bE(e){if(e.propertyName==="value"&&dp(Xc)){var t=[];yE(t,Xc,e,dx(e)),ZP(GM,t)}}function YM(e,t,r){e==="focusin"?(o_(),Ac=t,Xc=r,Ac.attachEvent("onpropertychange",bE)):e==="focusout"&&o_()}function XM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dp(Xc)}function JM(e,t){if(e==="click")return dp(t)}function ZM(e,t){if(e==="input"||e==="change")return dp(t)}function eI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:eI;function Jc(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Qg.call(t,i)||!Cn(e[i],t[i]))return!1}return!0}function l_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c_(e,t){var r=l_(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=l_(r)}}function wE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _E(){for(var e=window,t=Sf();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Sf(e.document)}return t}function bx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tI(e){var t=_E(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wE(r.ownerDocument.documentElement,r)){if(n!==null&&bx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=c_(r,a);var s=c_(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rI=Oi&&"documentMode"in document&&11>=document.documentMode,so=null,pv=null,Tc=null,mv=!1;function u_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mv||so==null||so!==Sf(n)||(n=so,"selectionStart"in n&&bx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tc&&Jc(Tc,n)||(Tc=n,n=Tf(pv,"onSelect"),0<n.length&&(t=new vx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=so)))}function Ad(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var oo={animationend:Ad("Animation","AnimationEnd"),animationiteration:Ad("Animation","AnimationIteration"),animationstart:Ad("Animation","AnimationStart"),transitionend:Ad("Transition","TransitionEnd")},Lm={},jE={};Oi&&(jE=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function fp(e){if(Lm[e])return Lm[e];if(!oo[e])return e;var t=oo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jE)return Lm[e]=t[r];return e}var SE=fp("animationend"),NE=fp("animationiteration"),OE=fp("animationstart"),PE=fp("transitionend"),EE=new Map,d_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oa(e,t){EE.set(e,t),Rs(t,[e])}for(var Dm=0;Dm<d_.length;Dm++){var Fm=d_[Dm],nI=Fm.toLowerCase(),iI=Fm[0].toUpperCase()+Fm.slice(1);Oa(nI,"on"+iI)}Oa(SE,"onAnimationEnd");Oa(NE,"onAnimationIteration");Oa(OE,"onAnimationStart");Oa("dblclick","onDoubleClick");Oa("focusin","onFocus");Oa("focusout","onBlur");Oa(PE,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aI=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function f_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nM(n,t,void 0,e),e.currentTarget=null}function kE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;f_(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;f_(i,o,u),a=c}}}if(Of)throw e=uv,Of=!1,uv=null,e}function Xe(e,t){var r=t[bv];r===void 0&&(r=t[bv]=new Set);var n=e+"__bubble";r.has(n)||(AE(t,e,2,!1),r.add(n))}function Bm(e,t,r){var n=0;t&&(n|=4),AE(r,e,n,t)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[Td]){e[Td]=!0,LP.forEach(function(r){r!=="selectionchange"&&(aI.has(r)||Bm(r,!1,e),Bm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Td]||(t[Td]=!0,Bm("selectionchange",!1,t))}}function AE(e,t,r,n){switch(hE(t)){case 1:var i=xM;break;case 4:i=bM;break;default:i=mx}r=i.bind(null,t,r,e),i=void 0,!cv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Um(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ya(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}ZP(function(){var u=a,d=dx(r),f=[];e:{var h=EE.get(e);if(h!==void 0){var p=vx,v=e;switch(e){case"keypress":if(pf(r)===0)break e;case"keydown":case"keyup":p=MM;break;case"focusin":v="focus",p=Rm;break;case"focusout":v="blur",p=Rm;break;case"beforeblur":case"afterblur":p=Rm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=e_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DM;break;case SE:case NE:case OE:p=OM;break;case PE:p=BM;break;case"scroll":p=wM;break;case"wheel":p=zM;break;case"copy":case"cut":case"paste":p=EM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=r_}var y=(t&4)!==0,x=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,b;g!==null;){b=g;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,m!==null&&(_=Kc(g,m),_!=null&&y.push(eu(g,_,b)))),x)break;g=g.return}0<y.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==ov&&(v=r.relatedTarget||r.fromElement)&&(Ya(v)||v[Pi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Ya(v):null,v!==null&&(x=Ms(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=e_,_="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=r_,_="onPointerLeave",m="onPointerEnter",g="pointer"),x=p==null?h:lo(p),b=v==null?h:lo(v),h=new y(_,g+"leave",p,r,d),h.target=x,h.relatedTarget=b,_=null,Ya(d)===u&&(y=new y(m,g+"enter",v,r,d),y.target=b,y.relatedTarget=x,_=y),x=_,p&&v)t:{for(y=p,m=v,g=0,b=y;b;b=Ws(b))g++;for(b=0,_=m;_;_=Ws(_))b++;for(;0<g-b;)y=Ws(y),g--;for(;0<b-g;)m=Ws(m),b--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Ws(y),m=Ws(m)}y=null}else y=null;p!==null&&h_(f,h,p,y,!1),v!==null&&x!==null&&h_(f,x,v,y,!0)}}e:{if(h=u?lo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=QM;else if(a_(h))if(xE)w=ZM;else{w=XM;var j=YM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=JM);if(w&&(w=w(e,u))){yE(f,w,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&rv(h,"number",h.value)}switch(j=u?lo(u):window,e){case"focusin":(a_(j)||j.contentEditable==="true")&&(so=j,pv=u,Tc=null);break;case"focusout":Tc=pv=so=null;break;case"mousedown":mv=!0;break;case"contextmenu":case"mouseup":case"dragend":mv=!1,u_(f,r,d);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":u_(f,r,d)}var S;if(xx)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ao?gE(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(mE&&r.locale!=="ko"&&(ao||N!=="onCompositionStart"?N==="onCompositionEnd"&&ao&&(S=pE()):(la=d,gx="value"in la?la.value:la.textContent,ao=!0)),j=Tf(u,N),0<j.length&&(N=new t_(N,e,null,r,d),f.push({event:N,listeners:j}),S?N.data=S:(S=vE(r),S!==null&&(N.data=S)))),(S=qM?VM(e,r):HM(e,r))&&(u=Tf(u,"onBeforeInput"),0<u.length&&(d=new t_("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}kE(f,t)})}function eu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Kc(e,r),a!=null&&n.unshift(eu(e,a,i)),a=Kc(e,t),a!=null&&n.push(eu(e,a,i))),e=e.return}return n}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function h_(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=Kc(r,a),c!=null&&s.unshift(eu(r,c,o))):i||(c=Kc(r,a),c!=null&&s.push(eu(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var sI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function p_(e){return(typeof e=="string"?e:""+e).replace(sI,`
`).replace(oI,"")}function Cd(e,t,r){if(t=p_(t),p_(e)!==t&&r)throw Error(G(425))}function Cf(){}var gv=null,vv=null;function yv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xv=typeof setTimeout=="function"?setTimeout:void 0,lI=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,cI=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(e){return m_.resolve(null).then(e).catch(uI)}:xv;function uI(e){setTimeout(function(){throw e})}function zm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Yc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Yc(t)}function ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function g_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Al=Math.random().toString(36).slice(2),Un="__reactFiber$"+Al,tu="__reactProps$"+Al,Pi="__reactContainer$"+Al,bv="__reactEvents$"+Al,dI="__reactListeners$"+Al,fI="__reactHandles$"+Al;function Ya(e){var t=e[Un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pi]||r[Un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=g_(e);e!==null;){if(r=e[Un])return r;e=g_(e)}return t}e=r,r=e.parentNode}return null}function id(e){return e=e[Un]||e[Pi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function hp(e){return e[tu]||null}var wv=[],co=-1;function Pa(e){return{current:e}}function tt(e){0>co||(e.current=wv[co],wv[co]=null,co--)}function He(e,t){co++,wv[co]=e.current,e.current=t}var Sa={},or=Pa(Sa),Or=Pa(!1),bs=Sa;function Ko(e,t){var r=e.type.contextTypes;if(!r)return Sa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return e=e.childContextTypes,e!=null}function $f(){tt(Or),tt(or)}function v_(e,t,r){if(or.current!==Sa)throw Error(G(168));He(or,t),He(Or,r)}function TE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,YR(e)||"Unknown",i));return ut({},r,n)}function Rf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sa,bs=or.current,He(or,e),He(Or,Or.current),!0}function y_(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=TE(e,t,bs),n.__reactInternalMemoizedMergedChildContext=e,tt(Or),tt(or),He(or,e)):tt(Or),He(Or,r)}var ci=null,pp=!1,Wm=!1;function CE(e){ci===null?ci=[e]:ci.push(e)}function hI(e){pp=!0,CE(e)}function Ea(){if(!Wm&&ci!==null){Wm=!0;var e=0,t=Me;try{var r=ci;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ci=null,pp=!1}catch(i){throw ci!==null&&(ci=ci.slice(e+1)),nE(fx,Ea),i}finally{Me=t,Wm=!1}}return null}var uo=[],fo=0,Mf=null,If=0,en=[],tn=0,ws=null,pi=1,mi="";function Ba(e,t){uo[fo++]=If,uo[fo++]=Mf,Mf=e,If=t}function $E(e,t,r){en[tn++]=pi,en[tn++]=mi,en[tn++]=ws,ws=e;var n=pi;e=mi;var i=32-kn(n)-1;n&=~(1<<i),r+=1;var a=32-kn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,pi=1<<32-kn(t)+i|r<<i|n,mi=a+e}else pi=1<<a|r<<i|n,mi=e}function wx(e){e.return!==null&&(Ba(e,1),$E(e,1,0))}function _x(e){for(;e===Mf;)Mf=uo[--fo],uo[fo]=null,If=uo[--fo],uo[fo]=null;for(;e===ws;)ws=en[--tn],en[tn]=null,mi=en[--tn],en[tn]=null,pi=en[--tn],en[tn]=null}var Ur=null,Br=null,it=!1,On=null;function RE(e,t){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function x_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,Br=ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ws!==null?{id:pi,overflow:mi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ur=e,Br=null,!0):!1;default:return!1}}function _v(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jv(e){if(it){var t=Br;if(t){var r=t;if(!x_(e,t)){if(_v(e))throw Error(G(418));t=ma(r.nextSibling);var n=Ur;t&&x_(e,t)?RE(n,r):(e.flags=e.flags&-4097|2,it=!1,Ur=e)}}else{if(_v(e))throw Error(G(418));e.flags=e.flags&-4097|2,it=!1,Ur=e}}}function b_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function $d(e){if(e!==Ur)return!1;if(!it)return b_(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yv(e.type,e.memoizedProps)),t&&(t=Br)){if(_v(e))throw ME(),Error(G(418));for(;t;)RE(e,t),t=ma(t.nextSibling)}if(b_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Br=ma(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=Ur?ma(e.stateNode.nextSibling):null;return!0}function ME(){for(var e=Br;e;)e=ma(e.nextSibling)}function Go(){Br=Ur=null,it=!1}function jx(e){On===null?On=[e]:On.push(e)}var pI=$i.ReactCurrentBatchConfig;function ic(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Rd(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function w_(e){var t=e._init;return t(e._payload)}function IE(e){function t(m,g){if(e){var b=m.deletions;b===null?(m.deletions=[g],m.flags|=16):b.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=xa(m,g),m.index=0,m.sibling=null,m}function a(m,g,b){return m.index=b,e?(b=m.alternate,b!==null?(b=b.index,b<g?(m.flags|=2,g):b):(m.flags|=2,g)):(m.flags|=1048576,g)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,g,b,_){return g===null||g.tag!==6?(g=Ym(b,m.mode,_),g.return=m,g):(g=i(g,b),g.return=m,g)}function c(m,g,b,_){var w=b.type;return w===io?d(m,g,b.props.children,_,b.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Vi&&w_(w)===g.type)?(_=i(g,b.props),_.ref=ic(m,g,b),_.return=m,_):(_=wf(b.type,b.key,b.props,null,m.mode,_),_.ref=ic(m,g,b),_.return=m,_)}function u(m,g,b,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Xm(b,m.mode,_),g.return=m,g):(g=i(g,b.children||[]),g.return=m,g)}function d(m,g,b,_,w){return g===null||g.tag!==7?(g=gs(b,m.mode,_,w),g.return=m,g):(g=i(g,b),g.return=m,g)}function f(m,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ym(""+g,m.mode,b),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case jd:return b=wf(g.type,g.key,g.props,null,m.mode,b),b.ref=ic(m,null,g),b.return=m,b;case no:return g=Xm(g,m.mode,b),g.return=m,g;case Vi:var _=g._init;return f(m,_(g._payload),b)}if(wc(g)||Zl(g))return g=gs(g,m.mode,b,null),g.return=m,g;Rd(m,g)}return null}function h(m,g,b,_){var w=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(m,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jd:return b.key===w?c(m,g,b,_):null;case no:return b.key===w?u(m,g,b,_):null;case Vi:return w=b._init,h(m,g,w(b._payload),_)}if(wc(b)||Zl(b))return w!==null?null:d(m,g,b,_,null);Rd(m,b)}return null}function p(m,g,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(b)||null,o(g,m,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jd:return m=m.get(_.key===null?b:_.key)||null,c(g,m,_,w);case no:return m=m.get(_.key===null?b:_.key)||null,u(g,m,_,w);case Vi:var j=_._init;return p(m,g,b,j(_._payload),w)}if(wc(_)||Zl(_))return m=m.get(b)||null,d(g,m,_,w,null);Rd(g,_)}return null}function v(m,g,b,_){for(var w=null,j=null,S=g,N=g=0,P=null;S!==null&&N<b.length;N++){S.index>N?(P=S,S=null):P=S.sibling;var A=h(m,S,b[N],_);if(A===null){S===null&&(S=P);break}e&&S&&A.alternate===null&&t(m,S),g=a(A,g,N),j===null?w=A:j.sibling=A,j=A,S=P}if(N===b.length)return r(m,S),it&&Ba(m,N),w;if(S===null){for(;N<b.length;N++)S=f(m,b[N],_),S!==null&&(g=a(S,g,N),j===null?w=S:j.sibling=S,j=S);return it&&Ba(m,N),w}for(S=n(m,S);N<b.length;N++)P=p(S,m,N,b[N],_),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?N:P.key),g=a(P,g,N),j===null?w=P:j.sibling=P,j=P);return e&&S.forEach(function(k){return t(m,k)}),it&&Ba(m,N),w}function y(m,g,b,_){var w=Zl(b);if(typeof w!="function")throw Error(G(150));if(b=w.call(b),b==null)throw Error(G(151));for(var j=w=null,S=g,N=g=0,P=null,A=b.next();S!==null&&!A.done;N++,A=b.next()){S.index>N?(P=S,S=null):P=S.sibling;var k=h(m,S,A.value,_);if(k===null){S===null&&(S=P);break}e&&S&&k.alternate===null&&t(m,S),g=a(k,g,N),j===null?w=k:j.sibling=k,j=k,S=P}if(A.done)return r(m,S),it&&Ba(m,N),w;if(S===null){for(;!A.done;N++,A=b.next())A=f(m,A.value,_),A!==null&&(g=a(A,g,N),j===null?w=A:j.sibling=A,j=A);return it&&Ba(m,N),w}for(S=n(m,S);!A.done;N++,A=b.next())A=p(S,m,N,A.value,_),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?N:A.key),g=a(A,g,N),j===null?w=A:j.sibling=A,j=A);return e&&S.forEach(function(T){return t(m,T)}),it&&Ba(m,N),w}function x(m,g,b,_){if(typeof b=="object"&&b!==null&&b.type===io&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case jd:e:{for(var w=b.key,j=g;j!==null;){if(j.key===w){if(w=b.type,w===io){if(j.tag===7){r(m,j.sibling),g=i(j,b.props.children),g.return=m,m=g;break e}}else if(j.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Vi&&w_(w)===j.type){r(m,j.sibling),g=i(j,b.props),g.ref=ic(m,j,b),g.return=m,m=g;break e}r(m,j);break}else t(m,j);j=j.sibling}b.type===io?(g=gs(b.props.children,m.mode,_,b.key),g.return=m,m=g):(_=wf(b.type,b.key,b.props,null,m.mode,_),_.ref=ic(m,g,b),_.return=m,m=_)}return s(m);case no:e:{for(j=b.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(m,g.sibling),g=i(g,b.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=Xm(b,m.mode,_),g.return=m,m=g}return s(m);case Vi:return j=b._init,x(m,g,j(b._payload),_)}if(wc(b))return v(m,g,b,_);if(Zl(b))return y(m,g,b,_);Rd(m,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(m,g.sibling),g=i(g,b),g.return=m,m=g):(r(m,g),g=Ym(b,m.mode,_),g.return=m,m=g),s(m)):r(m,g)}return x}var Qo=IE(!0),LE=IE(!1),Lf=Pa(null),Df=null,ho=null,Sx=null;function Nx(){Sx=ho=Df=null}function Ox(e){var t=Lf.current;tt(Lf),e._currentValue=t}function Sv(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oo(e,t){Df=e,Sx=ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jr=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Sx!==e)if(e={context:e,memoizedValue:t,next:null},ho===null){if(Df===null)throw Error(G(308));ho=e,Df.dependencies={lanes:0,firstContext:e}}else ho=ho.next=e;return t}var Xa=null;function Px(e){Xa===null?Xa=[e]:Xa.push(e)}function DE(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Px(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ei(e,n)}function Ei(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hi=!1;function Ex(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ga(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ei(e,r)}return i=n.interleaved,i===null?(t.next=t,Px(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ei(e,r)}function mf(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hx(e,r)}}function __(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ff(e,t,r,n){var i=e.updateQueue;Hi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,y=o;switch(h=t,p=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=ut({},f,h);break e;case 2:Hi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);js|=s,e.lanes=s,e.memoizedState=f}}function j_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var ad={},qn=Pa(ad),ru=Pa(ad),nu=Pa(ad);function Ja(e){if(e===ad)throw Error(G(174));return e}function kx(e,t){switch(He(nu,t),He(ru,e),He(qn,ad),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iv(t,e)}tt(qn),He(qn,t)}function Yo(){tt(qn),tt(ru),tt(nu)}function BE(e){Ja(nu.current);var t=Ja(qn.current),r=iv(t,e.type);t!==r&&(He(ru,e),He(qn,r))}function Ax(e){ru.current===e&&(tt(qn),tt(ru))}var lt=Pa(0);function Bf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qm=[];function Tx(){for(var e=0;e<qm.length;e++)qm[e]._workInProgressVersionPrimary=null;qm.length=0}var gf=$i.ReactCurrentDispatcher,Vm=$i.ReactCurrentBatchConfig,_s=0,ct=null,Tt=null,Bt=null,Uf=!1,Cc=!1,iu=0,mI=0;function er(){throw Error(G(321))}function Cx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cn(e[r],t[r]))return!1;return!0}function $x(e,t,r,n,i,a){if(_s=a,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gf.current=e===null||e.memoizedState===null?xI:bI,e=r(n,i),Cc){a=0;do{if(Cc=!1,iu=0,25<=a)throw Error(G(301));a+=1,Bt=Tt=null,t.updateQueue=null,gf.current=wI,e=r(n,i)}while(Cc)}if(gf.current=zf,t=Tt!==null&&Tt.next!==null,_s=0,Bt=Tt=ct=null,Uf=!1,t)throw Error(G(300));return e}function Rx(){var e=iu!==0;return iu=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ct.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function un(){if(Tt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=Bt===null?ct.memoizedState:Bt.next;if(t!==null)Bt=t,Tt=e;else{if(e===null)throw Error(G(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Bt===null?ct.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function au(e,t){return typeof t=="function"?t(e):t}function Hm(e){var t=un(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=Tt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((_s&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,ct.lanes|=d,js|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,Cn(n,t.memoizedState)||(jr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ct.lanes|=a,js|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Km(e){var t=un(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Cn(a,t.memoizedState)||(jr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function UE(){}function zE(e,t){var r=ct,n=un(),i=t(),a=!Cn(n.memoizedState,i);if(a&&(n.memoizedState=i,jr=!0),n=n.queue,Mx(VE.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,su(9,qE.bind(null,r,n,i,t),void 0,null),zt===null)throw Error(G(349));_s&30||WE(r,t,i)}return i}function WE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qE(e,t,r,n){t.value=r,t.getSnapshot=n,HE(t)&&KE(e)}function VE(e,t,r){return r(function(){HE(t)&&KE(e)})}function HE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cn(e,r)}catch{return!0}}function KE(e){var t=Ei(e,1);t!==null&&An(t,e,1,-1)}function S_(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:e},t.queue=e,e=e.dispatch=yI.bind(null,ct,e),[t.memoizedState,e]}function su(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function GE(){return un().memoizedState}function vf(e,t,r,n){var i=In();ct.flags|=e,i.memoizedState=su(1|t,r,void 0,n===void 0?null:n)}function mp(e,t,r,n){var i=un();n=n===void 0?null:n;var a=void 0;if(Tt!==null){var s=Tt.memoizedState;if(a=s.destroy,n!==null&&Cx(n,s.deps)){i.memoizedState=su(t,r,a,n);return}}ct.flags|=e,i.memoizedState=su(1|t,r,a,n)}function N_(e,t){return vf(8390656,8,e,t)}function Mx(e,t){return mp(2048,8,e,t)}function QE(e,t){return mp(4,2,e,t)}function YE(e,t){return mp(4,4,e,t)}function XE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JE(e,t,r){return r=r!=null?r.concat([e]):null,mp(4,4,XE.bind(null,t,e),r)}function Ix(){}function ZE(e,t){var r=un();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ek(e,t){var r=un();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function tk(e,t,r){return _s&21?(Cn(r,t)||(r=sE(),ct.lanes|=r,js|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jr=!0),e.memoizedState=r)}function gI(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=Vm.transition;Vm.transition={};try{e(!1),t()}finally{Me=r,Vm.transition=n}}function rk(){return un().memoizedState}function vI(e,t,r){var n=ya(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nk(e))ik(t,r);else if(r=DE(e,t,r,n),r!==null){var i=gr();An(r,e,n,i),ak(r,t,n)}}function yI(e,t,r){var n=ya(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nk(e))ik(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Cn(o,s)){var c=t.interleaved;c===null?(i.next=i,Px(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=DE(e,t,i,n),r!==null&&(i=gr(),An(r,e,n,i),ak(r,t,n))}}function nk(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function ik(e,t){Cc=Uf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ak(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,hx(e,r)}}var zf={readContext:cn,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},xI={readContext:cn,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:N_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vf(4194308,4,XE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vf(4194308,4,e,t)},useInsertionEffect:function(e,t){return vf(4,2,e,t)},useMemo:function(e,t){var r=In();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=In();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=vI.bind(null,ct,e),[n.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:S_,useDebugValue:Ix,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=S_(!1),t=e[0];return e=gI.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ct,i=In();if(it){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),zt===null)throw Error(G(349));_s&30||WE(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,N_(VE.bind(null,n,a,e),[e]),n.flags|=2048,su(9,qE.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=In(),t=zt.identifierPrefix;if(it){var r=mi,n=pi;r=(n&~(1<<32-kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=iu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mI++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bI={readContext:cn,useCallback:ZE,useContext:cn,useEffect:Mx,useImperativeHandle:JE,useInsertionEffect:QE,useLayoutEffect:YE,useMemo:ek,useReducer:Hm,useRef:GE,useState:function(){return Hm(au)},useDebugValue:Ix,useDeferredValue:function(e){var t=un();return tk(t,Tt.memoizedState,e)},useTransition:function(){var e=Hm(au)[0],t=un().memoizedState;return[e,t]},useMutableSource:UE,useSyncExternalStore:zE,useId:rk,unstable_isNewReconciler:!1},wI={readContext:cn,useCallback:ZE,useContext:cn,useEffect:Mx,useImperativeHandle:JE,useInsertionEffect:QE,useLayoutEffect:YE,useMemo:ek,useReducer:Km,useRef:GE,useState:function(){return Km(au)},useDebugValue:Ix,useDeferredValue:function(e){var t=un();return Tt===null?t.memoizedState=e:tk(t,Tt.memoizedState,e)},useTransition:function(){var e=Km(au)[0],t=un().memoizedState;return[e,t]},useMutableSource:UE,useSyncExternalStore:zE,useId:rk,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ut({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gp={isMounted:function(e){return(e=e._reactInternals)?Ms(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gr(),i=ya(e),a=bi(n,i);a.payload=t,r!=null&&(a.callback=r),t=ga(e,a,i),t!==null&&(An(t,e,i,n),mf(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gr(),i=ya(e),a=bi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ga(e,a,i),t!==null&&(An(t,e,i,n),mf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gr(),n=ya(e),i=bi(r,n);i.tag=2,t!=null&&(i.callback=t),t=ga(e,i,n),t!==null&&(An(t,e,n,r),mf(t,e,n))}};function O_(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Jc(r,n)||!Jc(i,a):!0}function sk(e,t,r){var n=!1,i=Sa,a=t.contextType;return typeof a=="object"&&a!==null?a=cn(a):(i=Pr(t)?bs:or.current,n=t.contextTypes,a=(n=n!=null)?Ko(e,i):Sa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gp,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function P_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gp.enqueueReplaceState(t,t.state,null)}function Ov(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Ex(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=cn(a):(a=Pr(t)?bs:or.current,i.context=Ko(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Nv(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gp.enqueueReplaceState(i,i.state,null),Ff(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xo(e,t){try{var r="",n=t;do r+=QR(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Gm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Pv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _I=typeof WeakMap=="function"?WeakMap:Map;function ok(e,t,r){r=bi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){qf||(qf=!0,Lv=n),Pv(e,t)},r}function lk(e,t,r){r=bi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Pv(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Pv(e,t),typeof n!="function"&&(va===null?va=new Set([this]):va.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function E_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _I;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=II.bind(null,e,t,r),t.then(e,e))}function k_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function A_(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bi(-1,1),t.tag=2,ga(r,t,1))),r.lanes|=1),e)}var jI=$i.ReactCurrentOwner,jr=!1;function ur(e,t,r,n){t.child=e===null?LE(t,null,r,n):Qo(t,e.child,r,n)}function T_(e,t,r,n,i){r=r.render;var a=t.ref;return Oo(t,i),n=$x(e,t,r,n,a,i),r=Rx(),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ki(e,t,i)):(it&&r&&wx(t),t.flags|=1,ur(e,t,n,i),t.child)}function C_(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!qx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ck(e,t,a,n,i)):(e=wf(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Jc,r(s,n)&&e.ref===t.ref)return ki(e,t,i)}return t.flags|=1,e=xa(a,n),e.ref=t.ref,e.return=t,t.child=e}function ck(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Jc(a,n)&&e.ref===t.ref)if(jr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(jr=!0);else return t.lanes=e.lanes,ki(e,t,i)}return Ev(e,t,r,n,i)}function uk(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(mo,$r),$r|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(mo,$r),$r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,He(mo,$r),$r|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,He(mo,$r),$r|=n;return ur(e,t,i,r),t.child}function dk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ev(e,t,r,n,i){var a=Pr(r)?bs:or.current;return a=Ko(t,a),Oo(t,i),r=$x(e,t,r,n,a,i),n=Rx(),e!==null&&!jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ki(e,t,i)):(it&&n&&wx(t),t.flags|=1,ur(e,t,r,i),t.child)}function $_(e,t,r,n,i){if(Pr(r)){var a=!0;Rf(t)}else a=!1;if(Oo(t,i),t.stateNode===null)yf(e,t),sk(t,r,n),Ov(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Pr(r)?bs:or.current,u=Ko(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&P_(t,s,n,u),Hi=!1;var h=t.memoizedState;s.state=h,Ff(t,n,s,i),c=t.memoizedState,o!==n||h!==c||Or.current||Hi?(typeof d=="function"&&(Nv(t,r,d,n),c=t.memoizedState),(o=Hi||O_(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,FE(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:yn(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=cn(c):(c=Pr(r)?bs:or.current,c=Ko(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&P_(t,s,n,c),Hi=!1,h=t.memoizedState,s.state=h,Ff(t,n,s,i);var v=t.memoizedState;o!==f||h!==v||Or.current||Hi?(typeof p=="function"&&(Nv(t,r,p,n),v=t.memoizedState),(u=Hi||O_(t,r,u,n,h,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return kv(e,t,r,n,a,i)}function kv(e,t,r,n,i,a){dk(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&y_(t,r,!1),ki(e,t,a);n=t.stateNode,jI.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Qo(t,e.child,null,a),t.child=Qo(t,null,o,a)):ur(e,t,o,a),t.memoizedState=n.state,i&&y_(t,r,!0),t.child}function fk(e){var t=e.stateNode;t.pendingContext?v_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&v_(e,t.context,!1),kx(e,t.containerInfo)}function R_(e,t,r,n,i){return Go(),jx(i),t.flags|=256,ur(e,t,r,n),t.child}var Av={dehydrated:null,treeContext:null,retryLane:0};function Tv(e){return{baseLanes:e,cachePool:null,transitions:null}}function hk(e,t,r){var n=t.pendingProps,i=lt.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),He(lt,i&1),e===null)return jv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=xp(s,n,0,null),e=gs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Tv(r),t.memoizedState=Av,e):Lx(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return SI(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xa(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=xa(o,a):(a=gs(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Tv(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Av,n}return a=e.child,e=a.sibling,n=xa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Lx(e,t){return t=xp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Md(e,t,r,n){return n!==null&&jx(n),Qo(t,e.child,null,r),e=Lx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SI(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Gm(Error(G(422))),Md(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=xp({mode:"visible",children:n.children},i,0,null),a=gs(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Qo(t,e.child,null,s),t.child.memoizedState=Tv(s),t.memoizedState=Av,a);if(!(t.mode&1))return Md(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(G(419)),n=Gm(a,n,void 0),Md(e,t,s,n)}if(o=(s&e.childLanes)!==0,jr||o){if(n=zt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ei(e,i),An(n,e,i,-1))}return Wx(),n=Gm(Error(G(421))),Md(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=LI.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Br=ma(i.nextSibling),Ur=t,it=!0,On=null,e!==null&&(en[tn++]=pi,en[tn++]=mi,en[tn++]=ws,pi=e.id,mi=e.overflow,ws=t),t=Lx(t,n.children),t.flags|=4096,t)}function M_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sv(e.return,t,r)}function Qm(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function pk(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ur(e,t,n.children,r),n=lt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&M_(e,r,t);else if(e.tag===19)M_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(lt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Bf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Qm(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Bf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Qm(t,!0,r,null,a);break;case"together":Qm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ki(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),js|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=xa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function NI(e,t,r){switch(t.tag){case 3:fk(t),Go();break;case 5:BE(t);break;case 1:Pr(t.type)&&Rf(t);break;case 4:kx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;He(Lf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(lt,lt.current&1),t.flags|=128,null):r&t.child.childLanes?hk(e,t,r):(He(lt,lt.current&1),e=ki(e,t,r),e!==null?e.sibling:null);He(lt,lt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return pk(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(lt,lt.current),n)break;return null;case 22:case 23:return t.lanes=0,uk(e,t,r)}return ki(e,t,r)}var mk,Cv,gk,vk;mk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cv=function(){};gk=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ja(qn.current);var a=null;switch(r){case"input":i=ev(e,i),n=ev(e,n),a=[];break;case"select":i=ut({},i,{value:void 0}),n=ut({},n,{value:void 0}),a=[];break;case"textarea":i=nv(e,i),n=nv(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cf)}av(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xe("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};vk=function(e,t,r,n){r!==n&&(t.flags|=4)};function ac(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function OI(e,t,r){var n=t.pendingProps;switch(_x(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(t),null;case 1:return Pr(t.type)&&$f(),tr(t),null;case 3:return n=t.stateNode,Yo(),tt(Or),tt(or),Tx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($d(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(Bv(On),On=null))),Cv(e,t),tr(t),null;case 5:Ax(t);var i=Ja(nu.current);if(r=t.type,e!==null&&t.stateNode!=null)gk(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return tr(t),null}if(e=Ja(qn.current),$d(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Un]=t,n[tu]=a,e=(t.mode&1)!==0,r){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(i=0;i<jc.length;i++)Xe(jc[i],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":qw(n,a),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xe("invalid",n);break;case"textarea":Hw(n,a),Xe("invalid",n)}av(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Cd(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Cd(n.textContent,o,e),i=["children",""+o]):Vc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Xe("scroll",n)}switch(r){case"input":Sd(n),Vw(n,a,!0);break;case"textarea":Sd(n),Kw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Cf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Un]=t,e[tu]=n,mk(e,t,!1,!1),t.stateNode=e;e:{switch(s=sv(r,n),r){case"dialog":Xe("cancel",e),Xe("close",e),i=n;break;case"iframe":case"object":case"embed":Xe("load",e),i=n;break;case"video":case"audio":for(i=0;i<jc.length;i++)Xe(jc[i],e);i=n;break;case"source":Xe("error",e),i=n;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),i=n;break;case"details":Xe("toggle",e),i=n;break;case"input":qw(e,n),i=ev(e,n),Xe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ut({},n,{value:void 0}),Xe("invalid",e);break;case"textarea":Hw(e,n),i=nv(e,n),Xe("invalid",e);break;default:i=n}av(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?GP(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&HP(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Hc(e,c):typeof c=="number"&&Hc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Xe("scroll",e):c!=null&&ox(e,a,c,s))}switch(r){case"input":Sd(e),Vw(e,n,!1);break;case"textarea":Sd(e),Kw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ja(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?_o(e,!!n.multiple,a,!1):n.defaultValue!=null&&_o(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tr(t),null;case 6:if(e&&t.stateNode!=null)vk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Ja(nu.current),Ja(qn.current),$d(t)){if(n=t.stateNode,r=t.memoizedProps,n[Un]=t,(a=n.nodeValue!==r)&&(e=Ur,e!==null))switch(e.tag){case 3:Cd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cd(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=t,t.stateNode=n}return tr(t),null;case 13:if(tt(lt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&Br!==null&&t.mode&1&&!(t.flags&128))ME(),Go(),t.flags|=98560,a=!1;else if(a=$d(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Un]=t}else Go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tr(t),a=!1}else On!==null&&(Bv(On),On=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?Rt===0&&(Rt=3):Wx())),t.updateQueue!==null&&(t.flags|=4),tr(t),null);case 4:return Yo(),Cv(e,t),e===null&&Zc(t.stateNode.containerInfo),tr(t),null;case 10:return Ox(t.type._context),tr(t),null;case 17:return Pr(t.type)&&$f(),tr(t),null;case 19:if(tt(lt),a=t.memoizedState,a===null)return tr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)ac(a,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Bf(e),s!==null){for(t.flags|=128,ac(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(lt,lt.current&1|2),t.child}e=e.sibling}a.tail!==null&&xt()>Jo&&(t.flags|=128,n=!0,ac(a,!1),t.lanes=4194304)}else{if(!n)if(e=Bf(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ac(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!it)return tr(t),null}else 2*xt()-a.renderingStartTime>Jo&&r!==1073741824&&(t.flags|=128,n=!0,ac(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xt(),t.sibling=null,r=lt.current,He(lt,n?r&1|2:r&1),t):(tr(t),null);case 22:case 23:return zx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$r&1073741824&&(tr(t),t.subtreeFlags&6&&(t.flags|=8192)):tr(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function PI(e,t){switch(_x(t),t.tag){case 1:return Pr(t.type)&&$f(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yo(),tt(Or),tt(or),Tx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ax(t),null;case 13:if(tt(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(lt),null;case 4:return Yo(),null;case 10:return Ox(t.type._context),null;case 22:case 23:return zx(),null;case 24:return null;default:return null}}var Id=!1,ar=!1,EI=typeof WeakSet=="function"?WeakSet:Set,ie=null;function po(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pt(e,t,n)}else r.current=null}function $v(e,t,r){try{r()}catch(n){pt(e,t,n)}}var I_=!1;function kI(e,t){if(gv=kf,e=_E(),bx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vv={focusedElem:e,selectionRange:r},kf=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:yn(t.type,y),x);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){pt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return v=I_,I_=!1,v}function $c(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&$v(t,r,a)}i=i.next}while(i!==n)}}function vp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Rv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yk(e){var t=e.alternate;t!==null&&(e.alternate=null,yk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Un],delete t[tu],delete t[bv],delete t[dI],delete t[fI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xk(e){return e.tag===5||e.tag===3||e.tag===4}function L_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cf));else if(n!==4&&(e=e.child,e!==null))for(Mv(e,t,r),e=e.sibling;e!==null;)Mv(e,t,r),e=e.sibling}function Iv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Iv(e,t,r),e=e.sibling;e!==null;)Iv(e,t,r),e=e.sibling}var Gt=null,_n=!1;function Fi(e,t,r){for(r=r.child;r!==null;)bk(e,t,r),r=r.sibling}function bk(e,t,r){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(cp,r)}catch{}switch(r.tag){case 5:ar||po(r,t);case 6:var n=Gt,i=_n;Gt=null,Fi(e,t,r),Gt=n,_n=i,Gt!==null&&(_n?(e=Gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Gt.removeChild(r.stateNode));break;case 18:Gt!==null&&(_n?(e=Gt,r=r.stateNode,e.nodeType===8?zm(e.parentNode,r):e.nodeType===1&&zm(e,r),Yc(e)):zm(Gt,r.stateNode));break;case 4:n=Gt,i=_n,Gt=r.stateNode.containerInfo,_n=!0,Fi(e,t,r),Gt=n,_n=i;break;case 0:case 11:case 14:case 15:if(!ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&$v(r,t,s),i=i.next}while(i!==n)}Fi(e,t,r);break;case 1:if(!ar&&(po(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){pt(r,t,o)}Fi(e,t,r);break;case 21:Fi(e,t,r);break;case 22:r.mode&1?(ar=(n=ar)||r.memoizedState!==null,Fi(e,t,r),ar=n):Fi(e,t,r);break;default:Fi(e,t,r)}}function D_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new EI),t.forEach(function(n){var i=DI.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function mn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Gt=o.stateNode,_n=!1;break e;case 3:Gt=o.stateNode.containerInfo,_n=!0;break e;case 4:Gt=o.stateNode.containerInfo,_n=!0;break e}o=o.return}if(Gt===null)throw Error(G(160));bk(a,s,i),Gt=null,_n=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){pt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wk(t,e),t=t.sibling}function wk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),Mn(e),n&4){try{$c(3,e,e.return),vp(3,e)}catch(y){pt(e,e.return,y)}try{$c(5,e,e.return)}catch(y){pt(e,e.return,y)}}break;case 1:mn(t,e),Mn(e),n&512&&r!==null&&po(r,r.return);break;case 5:if(mn(t,e),Mn(e),n&512&&r!==null&&po(r,r.return),e.flags&32){var i=e.stateNode;try{Hc(i,"")}catch(y){pt(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&WP(i,a),sv(o,s);var u=sv(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?GP(i,f):d==="dangerouslySetInnerHTML"?HP(i,f):d==="children"?Hc(i,f):ox(i,d,f,u)}switch(o){case"input":tv(i,a);break;case"textarea":qP(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?_o(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?_o(i,!!a.multiple,a.defaultValue,!0):_o(i,!!a.multiple,a.multiple?[]:"",!1))}i[tu]=a}catch(y){pt(e,e.return,y)}}break;case 6:if(mn(t,e),Mn(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){pt(e,e.return,y)}}break;case 3:if(mn(t,e),Mn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yc(t.containerInfo)}catch(y){pt(e,e.return,y)}break;case 4:mn(t,e),Mn(e);break;case 13:mn(t,e),Mn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Bx=xt())),n&4&&D_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ar=(u=ar)||d,mn(t,e),ar=u):mn(t,e),Mn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(h=ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:$c(4,h,h.return);break;case 1:po(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){pt(n,r,y)}}break;case 5:po(h,h.return);break;case 22:if(h.memoizedState!==null){B_(f);continue}}p!==null?(p.return=h,ie=p):B_(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=KP("display",s))}catch(y){pt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){pt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mn(t,e),Mn(e),n&4&&D_(e);break;case 21:break;default:mn(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xk(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hc(i,""),n.flags&=-33);var a=L_(e);Iv(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=L_(e);Mv(e,o,s);break;default:throw Error(G(161))}}catch(c){pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AI(e,t,r){ie=e,_k(e)}function _k(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var i=ie,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Id;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||ar;o=Id;var u=ar;if(Id=s,(ar=c)&&!u)for(ie=i;ie!==null;)s=ie,c=s.child,s.tag===22&&s.memoizedState!==null?U_(i):c!==null?(c.return=s,ie=c):U_(i);for(;a!==null;)ie=a,_k(a),a=a.sibling;ie=i,Id=o,ar=u}F_(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ie=a):F_(e)}}function F_(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ar||vp(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ar)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:yn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&j_(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}j_(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}ar||t.flags&512&&Rv(t)}catch(h){pt(t,t.return,h)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function B_(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function U_(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vp(4,t)}catch(c){pt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){pt(t,i,c)}}var a=t.return;try{Rv(t)}catch(c){pt(t,a,c)}break;case 5:var s=t.return;try{Rv(t)}catch(c){pt(t,s,c)}}}catch(c){pt(t,t.return,c)}if(t===e){ie=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ie=o;break}ie=t.return}}var TI=Math.ceil,Wf=$i.ReactCurrentDispatcher,Dx=$i.ReactCurrentOwner,on=$i.ReactCurrentBatchConfig,Pe=0,zt=null,Nt=null,Qt=0,$r=0,mo=Pa(0),Rt=0,ou=null,js=0,yp=0,Fx=0,Rc=null,_r=null,Bx=0,Jo=1/0,si=null,qf=!1,Lv=null,va=null,Ld=!1,ca=null,Vf=0,Mc=0,Dv=null,xf=-1,bf=0;function gr(){return Pe&6?xt():xf!==-1?xf:xf=xt()}function ya(e){return e.mode&1?Pe&2&&Qt!==0?Qt&-Qt:pI.transition!==null?(bf===0&&(bf=sE()),bf):(e=Me,e!==0||(e=window.event,e=e===void 0?16:hE(e.type)),e):1}function An(e,t,r,n){if(50<Mc)throw Mc=0,Dv=null,Error(G(185));rd(e,r,n),(!(Pe&2)||e!==zt)&&(e===zt&&(!(Pe&2)&&(yp|=r),Rt===4&&Qi(e,Qt)),Er(e,n),r===1&&Pe===0&&!(t.mode&1)&&(Jo=xt()+500,pp&&Ea()))}function Er(e,t){var r=e.callbackNode;pM(e,t);var n=Ef(e,e===zt?Qt:0);if(n===0)r!==null&&Yw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yw(r),t===1)e.tag===0?hI(z_.bind(null,e)):CE(z_.bind(null,e)),cI(function(){!(Pe&6)&&Ea()}),r=null;else{switch(oE(n)){case 1:r=fx;break;case 4:r=iE;break;case 16:r=Pf;break;case 536870912:r=aE;break;default:r=Pf}r=Ak(r,jk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jk(e,t){if(xf=-1,bf=0,Pe&6)throw Error(G(327));var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var n=Ef(e,e===zt?Qt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Hf(e,n);else{t=n;var i=Pe;Pe|=2;var a=Nk();(zt!==e||Qt!==t)&&(si=null,Jo=xt()+500,ms(e,t));do try{RI();break}catch(o){Sk(e,o)}while(!0);Nx(),Wf.current=a,Pe=i,Nt!==null?t=0:(zt=null,Qt=0,t=Rt)}if(t!==0){if(t===2&&(i=dv(e),i!==0&&(n=i,t=Fv(e,i))),t===1)throw r=ou,ms(e,0),Qi(e,n),Er(e,xt()),r;if(t===6)Qi(e,n);else{if(i=e.current.alternate,!(n&30)&&!CI(i)&&(t=Hf(e,n),t===2&&(a=dv(e),a!==0&&(n=a,t=Fv(e,a))),t===1))throw r=ou,ms(e,0),Qi(e,n),Er(e,xt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Ua(e,_r,si);break;case 3:if(Qi(e,n),(n&130023424)===n&&(t=Bx+500-xt(),10<t)){if(Ef(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){gr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=xv(Ua.bind(null,e,_r,si),t);break}Ua(e,_r,si);break;case 4:if(Qi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-kn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TI(n/1960))-n,10<n){e.timeoutHandle=xv(Ua.bind(null,e,_r,si),n);break}Ua(e,_r,si);break;case 5:Ua(e,_r,si);break;default:throw Error(G(329))}}}return Er(e,xt()),e.callbackNode===r?jk.bind(null,e):null}function Fv(e,t){var r=Rc;return e.current.memoizedState.isDehydrated&&(ms(e,t).flags|=256),e=Hf(e,t),e!==2&&(t=_r,_r=r,t!==null&&Bv(t)),e}function Bv(e){_r===null?_r=e:_r.push.apply(_r,e)}function CI(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Cn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qi(e,t){for(t&=~Fx,t&=~yp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kn(t),n=1<<r;e[r]=-1,t&=~n}}function z_(e){if(Pe&6)throw Error(G(327));Po();var t=Ef(e,0);if(!(t&1))return Er(e,xt()),null;var r=Hf(e,t);if(e.tag!==0&&r===2){var n=dv(e);n!==0&&(t=n,r=Fv(e,n))}if(r===1)throw r=ou,ms(e,0),Qi(e,t),Er(e,xt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ua(e,_r,si),Er(e,xt()),null}function Ux(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Jo=xt()+500,pp&&Ea())}}function Ss(e){ca!==null&&ca.tag===0&&!(Pe&6)&&Po();var t=Pe;Pe|=1;var r=on.transition,n=Me;try{if(on.transition=null,Me=1,e)return e()}finally{Me=n,on.transition=r,Pe=t,!(Pe&6)&&Ea()}}function zx(){$r=mo.current,tt(mo)}function ms(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lI(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(_x(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$f();break;case 3:Yo(),tt(Or),tt(or),Tx();break;case 5:Ax(n);break;case 4:Yo();break;case 13:tt(lt);break;case 19:tt(lt);break;case 10:Ox(n.type._context);break;case 22:case 23:zx()}r=r.return}if(zt=e,Nt=e=xa(e.current,null),Qt=$r=t,Rt=0,ou=null,Fx=yp=js=0,_r=Rc=null,Xa!==null){for(t=0;t<Xa.length;t++)if(r=Xa[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Xa=null}return e}function Sk(e,t){do{var r=Nt;try{if(Nx(),gf.current=zf,Uf){for(var n=ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Uf=!1}if(_s=0,Bt=Tt=ct=null,Cc=!1,iu=0,Dx.current=null,r===null||r.return===null){Rt=1,ou=t,Nt=null;break}e:{var a=e,s=r.return,o=r,c=t;if(t=Qt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=k_(s);if(p!==null){p.flags&=-257,A_(p,s,o,a,t),p.mode&1&&E_(a,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){E_(a,u,t),Wx();break e}c=Error(G(426))}}else if(it&&o.mode&1){var x=k_(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),A_(x,s,o,a,t),jx(Xo(c,o));break e}}a=c=Xo(c,o),Rt!==4&&(Rt=2),Rc===null?Rc=[a]:Rc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=ok(a,c,t);__(a,m);break e;case 1:o=c;var g=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(va===null||!va.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=lk(a,o,t);__(a,_);break e}}a=a.return}while(a!==null)}Pk(r)}catch(w){t=w,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(!0)}function Nk(){var e=Wf.current;return Wf.current=zf,e===null?zf:e}function Wx(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),zt===null||!(js&268435455)&&!(yp&268435455)||Qi(zt,Qt)}function Hf(e,t){var r=Pe;Pe|=2;var n=Nk();(zt!==e||Qt!==t)&&(si=null,ms(e,t));do try{$I();break}catch(i){Sk(e,i)}while(!0);if(Nx(),Pe=r,Wf.current=n,Nt!==null)throw Error(G(261));return zt=null,Qt=0,Rt}function $I(){for(;Nt!==null;)Ok(Nt)}function RI(){for(;Nt!==null&&!aM();)Ok(Nt)}function Ok(e){var t=kk(e.alternate,e,$r);e.memoizedProps=e.pendingProps,t===null?Pk(e):Nt=t,Dx.current=null}function Pk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=PI(r,t),r!==null){r.flags&=32767,Nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Nt=null;return}}else if(r=OI(r,t,$r),r!==null){Nt=r;return}if(t=t.sibling,t!==null){Nt=t;return}Nt=t=e}while(t!==null);Rt===0&&(Rt=5)}function Ua(e,t,r){var n=Me,i=on.transition;try{on.transition=null,Me=1,MI(e,t,r,n)}finally{on.transition=i,Me=n}return null}function MI(e,t,r,n){do Po();while(ca!==null);if(Pe&6)throw Error(G(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(mM(e,a),e===zt&&(Nt=zt=null,Qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ld||(Ld=!0,Ak(Pf,function(){return Po(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=on.transition,on.transition=null;var s=Me;Me=1;var o=Pe;Pe|=4,Dx.current=null,kI(e,r),wk(r,e),tI(vv),kf=!!gv,vv=gv=null,e.current=r,AI(r),sM(),Pe=o,Me=s,on.transition=a}else e.current=r;if(Ld&&(Ld=!1,ca=e,Vf=i),a=e.pendingLanes,a===0&&(va=null),cM(r.stateNode),Er(e,xt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qf)throw qf=!1,e=Lv,Lv=null,e;return Vf&1&&e.tag!==0&&Po(),a=e.pendingLanes,a&1?e===Dv?Mc++:(Mc=0,Dv=e):Mc=0,Ea(),null}function Po(){if(ca!==null){var e=oE(Vf),t=on.transition,r=Me;try{if(on.transition=null,Me=16>e?16:e,ca===null)var n=!1;else{if(e=ca,ca=null,Vf=0,Pe&6)throw Error(G(331));var i=Pe;for(Pe|=4,ie=e.current;ie!==null;){var a=ie,s=a.child;if(ie.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:$c(8,d,a)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var h=d.sibling,p=d.return;if(yk(d),d===u){ie=null;break}if(h!==null){h.return=p,ie=h;break}ie=p}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ie=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ie=s;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$c(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,ie=m;break e}ie=a.return}}var g=e.current;for(ie=g;ie!==null;){s=ie;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,ie=b;else e:for(s=g;ie!==null;){if(o=ie,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vp(9,o)}}catch(w){pt(o,o.return,w)}if(o===s){ie=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,ie=_;break e}ie=o.return}}if(Pe=i,Ea(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(cp,e)}catch{}n=!0}return n}finally{Me=r,on.transition=t}}return!1}function W_(e,t,r){t=Xo(r,t),t=ok(e,t,1),e=ga(e,t,1),t=gr(),e!==null&&(rd(e,1,t),Er(e,t))}function pt(e,t,r){if(e.tag===3)W_(e,e,r);else for(;t!==null;){if(t.tag===3){W_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(va===null||!va.has(n))){e=Xo(r,e),e=lk(t,e,1),t=ga(t,e,1),e=gr(),t!==null&&(rd(t,1,e),Er(t,e));break}}t=t.return}}function II(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&r,zt===e&&(Qt&r)===r&&(Rt===4||Rt===3&&(Qt&130023424)===Qt&&500>xt()-Bx?ms(e,0):Fx|=r),Er(e,t)}function Ek(e,t){t===0&&(e.mode&1?(t=Pd,Pd<<=1,!(Pd&130023424)&&(Pd=4194304)):t=1);var r=gr();e=Ei(e,t),e!==null&&(rd(e,t,r),Er(e,r))}function LI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ek(e,r)}function DI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),Ek(e,r)}var kk;kk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Or.current)jr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return jr=!1,NI(e,t,r);jr=!!(e.flags&131072)}else jr=!1,it&&t.flags&1048576&&$E(t,If,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yf(e,t),e=t.pendingProps;var i=Ko(t,or.current);Oo(t,r),i=$x(null,t,n,e,i,r);var a=Rx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(n)?(a=!0,Rf(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ex(t),i.updater=gp,t.stateNode=i,i._reactInternals=t,Ov(t,n,e,r),t=kv(null,t,n,!0,a,r)):(t.tag=0,it&&a&&wx(t),ur(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(yf(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=BI(n),e=yn(n,e),i){case 0:t=Ev(null,t,n,e,r);break e;case 1:t=$_(null,t,n,e,r);break e;case 11:t=T_(null,t,n,e,r);break e;case 14:t=C_(null,t,n,yn(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yn(n,i),Ev(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yn(n,i),$_(e,t,n,i,r);case 3:e:{if(fk(t),e===null)throw Error(G(387));n=t.pendingProps,a=t.memoizedState,i=a.element,FE(e,t),Ff(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Xo(Error(G(423)),t),t=R_(e,t,n,r,i);break e}else if(n!==i){i=Xo(Error(G(424)),t),t=R_(e,t,n,r,i);break e}else for(Br=ma(t.stateNode.containerInfo.firstChild),Ur=t,it=!0,On=null,r=LE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Go(),n===i){t=ki(e,t,r);break e}ur(e,t,n,r)}t=t.child}return t;case 5:return BE(t),e===null&&jv(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,yv(n,i)?s=null:a!==null&&yv(n,a)&&(t.flags|=32),dk(e,t),ur(e,t,s,r),t.child;case 6:return e===null&&jv(t),null;case 13:return hk(e,t,r);case 4:return kx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qo(t,null,n,r):ur(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yn(n,i),T_(e,t,n,i,r);case 7:return ur(e,t,t.pendingProps,r),t.child;case 8:return ur(e,t,t.pendingProps.children,r),t.child;case 12:return ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,He(Lf,n._currentValue),n._currentValue=s,a!==null)if(Cn(a.value,s)){if(a.children===i.children&&!Or.current){t=ki(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=bi(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Sv(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(G(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Sv(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ur(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Oo(t,r),i=cn(i),n=n(i),t.flags|=1,ur(e,t,n,r),t.child;case 14:return n=t.type,i=yn(n,t.pendingProps),i=yn(n.type,i),C_(e,t,n,i,r);case 15:return ck(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:yn(n,i),yf(e,t),t.tag=1,Pr(n)?(e=!0,Rf(t)):e=!1,Oo(t,r),sk(t,n,i),Ov(t,n,i,r),kv(null,t,n,!0,e,r);case 19:return pk(e,t,r);case 22:return uk(e,t,r)}throw Error(G(156,t.tag))};function Ak(e,t){return nE(e,t)}function FI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,r,n){return new FI(e,t,r,n)}function qx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BI(e){if(typeof e=="function")return qx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cx)return 11;if(e===ux)return 14}return 2}function xa(e,t){var r=e.alternate;return r===null?(r=an(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wf(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")qx(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case io:return gs(r.children,i,a,t);case lx:s=8,i|=8;break;case Yg:return e=an(12,r,t,i|2),e.elementType=Yg,e.lanes=a,e;case Xg:return e=an(13,r,t,i),e.elementType=Xg,e.lanes=a,e;case Jg:return e=an(19,r,t,i),e.elementType=Jg,e.lanes=a,e;case BP:return xp(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DP:s=10;break e;case FP:s=9;break e;case cx:s=11;break e;case ux:s=14;break e;case Vi:s=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=an(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function gs(e,t,r,n){return e=an(7,e,n,t),e.lanes=r,e}function xp(e,t,r,n){return e=an(22,e,n,t),e.elementType=BP,e.lanes=r,e.stateNode={isHidden:!1},e}function Ym(e,t,r){return e=an(6,e,null,t),e.lanes=r,e}function Xm(e,t,r){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UI(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vx(e,t,r,n,i,a,s,o,c){return e=new UI(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=an(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ex(a),e}function zI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Tk(e){if(!e)return Sa;e=e._reactInternals;e:{if(Ms(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Pr(r))return TE(e,r,t)}return t}function Ck(e,t,r,n,i,a,s,o,c){return e=Vx(r,n,!0,e,i,a,s,o,c),e.context=Tk(null),r=e.current,n=gr(),i=ya(r),a=bi(n,i),a.callback=t??null,ga(r,a,i),e.current.lanes=i,rd(e,i,n),Er(e,n),e}function bp(e,t,r,n){var i=t.current,a=gr(),s=ya(i);return r=Tk(r),t.context===null?t.context=r:t.pendingContext=r,t=bi(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ga(i,t,s),e!==null&&(An(e,i,s,a),mf(e,i,s)),s}function Kf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function q_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hx(e,t){q_(e,t),(e=e.alternate)&&q_(e,t)}function WI(){return null}var $k=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kx(e){this._internalRoot=e}wp.prototype.render=Kx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));bp(e,t,null,null)};wp.prototype.unmount=Kx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ss(function(){bp(null,e,null,null)}),t[Pi]=null}};function wp(e){this._internalRoot=e}wp.prototype.unstable_scheduleHydration=function(e){if(e){var t=uE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gi.length&&t!==0&&t<Gi[r].priority;r++);Gi.splice(r,0,e),r===0&&fE(e)}};function Gx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function V_(){}function qI(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Kf(s);a.call(u)}}var s=Ck(t,n,e,0,null,!1,!1,"",V_);return e._reactRootContainer=s,e[Pi]=s.current,Zc(e.nodeType===8?e.parentNode:e),Ss(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Kf(c);o.call(u)}}var c=Vx(e,0,!1,null,null,!1,!1,"",V_);return e._reactRootContainer=c,e[Pi]=c.current,Zc(e.nodeType===8?e.parentNode:e),Ss(function(){bp(t,c,r,n)}),c}function jp(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=Kf(s);o.call(c)}}bp(t,s,e,i)}else s=qI(r,t,e,i,n);return Kf(s)}lE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_c(t.pendingLanes);r!==0&&(hx(t,r|1),Er(t,xt()),!(Pe&6)&&(Jo=xt()+500,Ea()))}break;case 13:Ss(function(){var n=Ei(e,1);if(n!==null){var i=gr();An(n,e,1,i)}}),Hx(e,1)}};px=function(e){if(e.tag===13){var t=Ei(e,134217728);if(t!==null){var r=gr();An(t,e,134217728,r)}Hx(e,134217728)}};cE=function(e){if(e.tag===13){var t=ya(e),r=Ei(e,t);if(r!==null){var n=gr();An(r,e,t,n)}Hx(e,t)}};uE=function(){return Me};dE=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};lv=function(e,t,r){switch(t){case"input":if(tv(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=hp(n);if(!i)throw Error(G(90));zP(n),tv(n,i)}}}break;case"textarea":qP(e,r);break;case"select":t=r.value,t!=null&&_o(e,!!r.multiple,t,!1)}};XP=Ux;JP=Ss;var VI={usingClientEntryPoint:!1,Events:[id,lo,hp,QP,YP,Ux]},sc={findFiberByHostInstance:Ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HI={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tE(e),e===null?null:e.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||WI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{cp=Dd.inject(HI),Wn=Dd}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VI;Vr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gx(t))throw Error(G(200));return zI(e,t,null,r)};Vr.createRoot=function(e,t){if(!Gx(e))throw Error(G(299));var r=!1,n="",i=$k;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vx(e,1,!1,null,null,r,!1,n,i),e[Pi]=t.current,Zc(e.nodeType===8?e.parentNode:e),new Kx(t)};Vr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=tE(t),e=e===null?null:e.stateNode,e};Vr.flushSync=function(e){return Ss(e)};Vr.hydrate=function(e,t,r){if(!_p(t))throw Error(G(200));return jp(null,e,t,!0,r)};Vr.hydrateRoot=function(e,t,r){if(!Gx(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=$k;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Ck(t,null,e,1,r??null,i,!1,a,s),e[Pi]=t.current,Zc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new wp(t)};Vr.render=function(e,t,r){if(!_p(t))throw Error(G(200));return jp(null,e,t,!1,r)};Vr.unmountComponentAtNode=function(e){if(!_p(e))throw Error(G(40));return e._reactRootContainer?(Ss(function(){jp(null,null,e,!1,function(){e._reactRootContainer=null,e[Pi]=null})}),!0):!1};Vr.unstable_batchedUpdates=Ux;Vr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_p(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return jp(e,t,r,!1,n)};Vr.version="18.3.1-next-f1338f8080-20240426";function Rk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rk)}catch(e){console.error(e)}}Rk(),RP.exports=Vr;var KI=RP.exports,H_=KI;Gg.createRoot=H_.createRoot,Gg.hydrateRoot=H_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}var ua;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ua||(ua={}));const K_="popstate";function GI(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Uv("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Gf(i)}return YI(t,r,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QI(){return Math.random().toString(36).substr(2,8)}function G_(e,t){return{usr:e.state,key:e.key,idx:t}}function Uv(e,t,r,n){return r===void 0&&(r=null),lu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tl(t):t,{state:r,key:t&&t.key||n||QI()})}function Gf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function YI(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=ua.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(lu({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=ua.Pop;let x=d(),m=x==null?null:x-u;u=x,c&&c({action:o,location:y.location,delta:m})}function h(x,m){o=ua.Push;let g=Uv(y.location,x,m);u=d()+1;let b=G_(g,u),_=y.createHref(g);try{s.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&c&&c({action:o,location:y.location,delta:1})}function p(x,m){o=ua.Replace;let g=Uv(y.location,x,m);u=d();let b=G_(g,u),_=y.createHref(g);s.replaceState(b,"",_),a&&c&&c({action:o,location:y.location,delta:0})}function v(x){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:Gf(x);return g=g.replace(/ $/,"%20"),wt(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let y={get action(){return o},get location(){return e(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(K_,f),c=x,()=>{i.removeEventListener(K_,f),c=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let m=v(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(x){return s.go(x)}};return y}var Q_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Q_||(Q_={}));function XI(e,t,r){return r===void 0&&(r="/"),JI(e,t,r)}function JI(e,t,r,n){let i=typeof t=="string"?Tl(t):t,a=Yx(i.pathname||"/",r);if(a==null)return null;let s=Mk(e);ZI(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=dL(a);o=lL(s[c],u)}return o}function Mk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(wt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ba([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(wt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Mk(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:sL(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let c of Ik(a.path))i(a,s,c)}),t}function Ik(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=Ik(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function ZI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eL=/^:[\w-]+$/,tL=3,rL=2,nL=1,iL=10,aL=-2,Y_=e=>e==="*";function sL(e,t){let r=e.split("/"),n=r.length;return r.some(Y_)&&(n+=aL),t&&(n+=rL),r.filter(i=>!Y_(i)).reduce((i,a)=>i+(eL.test(a)?tL:a===""?nL:iL),n)}function oL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function lL(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=cL({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:ba([a,f.pathname]),pathnameBase:gL(ba([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ba([a,f.pathnameBase]))}return s}function cL(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=uL(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=o[f]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function uL(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Qx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function dL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const fL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hL=e=>fL.test(e);function pL(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Tl(e):e,a;if(r)if(hL(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),Qx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=X_(r.substring(1),"/"):a=X_(r,t)}else a=t;return{pathname:a,search:vL(n),hash:yL(i)}}function X_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Jm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xx(e,t){let r=mL(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jx(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Tl(e):(i=lu({},e),wt(!i.pathname||!i.pathname.includes("?"),Jm("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),Jm("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),Jm("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=pL(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ba=e=>e.join("/").replace(/\/\/+/g,"/"),gL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lk=["post","put","patch","delete"];new Set(Lk);const bL=["get",...Lk];new Set(bL);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}const Zx=O.createContext(null),wL=O.createContext(null),ka=O.createContext(null),Sp=O.createContext(null),Yn=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Dk=O.createContext(null);function _L(e,t){let{relative:r}=t===void 0?{}:t;Cl()||wt(!1);let{basename:n,navigator:i}=O.useContext(ka),{hash:a,pathname:s,search:o}=Bk(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:ba([n,s])),i.createHref({pathname:c,search:o,hash:a})}function Cl(){return O.useContext(Sp)!=null}function Is(){return Cl()||wt(!1),O.useContext(Sp).location}function Fk(e){O.useContext(ka).static||O.useLayoutEffect(e)}function fn(){let{isDataRoute:e}=O.useContext(Yn);return e?LL():jL()}function jL(){Cl()||wt(!1);let e=O.useContext(Zx),{basename:t,future:r,navigator:n}=O.useContext(ka),{matches:i}=O.useContext(Yn),{pathname:a}=Is(),s=JSON.stringify(Xx(i,r.v7_relativeSplatPath)),o=O.useRef(!1);return Fk(()=>{o.current=!0}),O.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Jx(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ba([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,a,e])}const SL=O.createContext(null);function NL(e){let t=O.useContext(Yn).outlet;return t&&O.createElement(SL.Provider,{value:e},t)}function sd(){let{matches:e}=O.useContext(Yn),t=e[e.length-1];return t?t.params:{}}function Bk(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(ka),{matches:i}=O.useContext(Yn),{pathname:a}=Is(),s=JSON.stringify(Xx(i,n.v7_relativeSplatPath));return O.useMemo(()=>Jx(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function OL(e,t){return PL(e,t)}function PL(e,t,r,n){Cl()||wt(!1);let{navigator:i}=O.useContext(ka),{matches:a}=O.useContext(Yn),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Is(),d;if(t){var f;let x=typeof t=="string"?Tl(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||wt(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=XI(e,{pathname:p}),y=CL(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:ba([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ba([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&y?O.createElement(Sp.Provider,{value:{location:cu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ua.Pop}},y):y}function EL(){let e=IL(),t=xL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:i},r):null,null)}const kL=O.createElement(EL,null);class AL extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(Yn.Provider,{value:this.props.routeContext},O.createElement(Dk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TL(e){let{routeContext:t,match:r,children:n}=e,i=O.useContext(Zx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Yn.Provider,{value:t},n)}function CL(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||wt(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,v=!1,y=null,x=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||kL,c&&(u<0&&h===0?(DL("route-fallback"),v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,h+1)),g=()=>{let b;return p?b=y:v?b=x:f.route.Component?b=O.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,O.createElement(TL,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?O.createElement(AL,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var Uk=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Uk||{}),zk=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zk||{});function $L(e){let t=O.useContext(Zx);return t||wt(!1),t}function RL(e){let t=O.useContext(wL);return t||wt(!1),t}function ML(e){let t=O.useContext(Yn);return t||wt(!1),t}function Wk(e){let t=ML(),r=t.matches[t.matches.length-1];return r.route.id||wt(!1),r.route.id}function IL(){var e;let t=O.useContext(Dk),r=RL(),n=Wk();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function LL(){let{router:e}=$L(Uk.UseNavigateStable),t=Wk(zk.UseNavigateStable),r=O.useRef(!1);return Fk(()=>{r.current=!0}),O.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,cu({fromRouteId:t},a)))},[e,t])}const J_={};function DL(e,t,r){J_[e]||(J_[e]=!0)}function FL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zv(e){let{to:t,replace:r,state:n,relative:i}=e;Cl()||wt(!1);let{future:a,static:s}=O.useContext(ka),{matches:o}=O.useContext(Yn),{pathname:c}=Is(),u=fn(),d=Jx(t,Xx(o,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return O.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function BL(e){return NL(e.context)}function _t(e){wt(!1)}function UL(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ua.Pop,navigator:a,static:s=!1,future:o}=e;Cl()&&wt(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:a,static:s,future:cu({v7_relativeSplatPath:!1},o)}),[c,o,a,s]);typeof n=="string"&&(n=Tl(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,y=O.useMemo(()=>{let x=Yx(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:v},navigationType:i}},[c,d,f,h,p,v,i]);return y==null?null:O.createElement(ka.Provider,{value:u},O.createElement(Sp.Provider,{children:r,value:y}))}function zL(e){let{children:t,location:r}=e;return OL(Wv(t),r)}new Promise(()=>{});function Wv(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,i)=>{if(!O.isValidElement(n))return;let a=[...t,i];if(n.type===O.Fragment){r.push.apply(r,Wv(n.props.children,a));return}n.type!==_t&&wt(!1),!n.props.index||!n.props.children||wt(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Wv(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(this,arguments)}function WL(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VL(e,t){return e.button===0&&(!t||t==="_self")&&!qL(e)}function Vv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function HL(e,t){let r=Vv(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const KL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GL="6";try{window.__reactRouterVersion=GL}catch{}const QL="startTransition",Z_=CP[QL];function YL(e){let{basename:t,children:r,future:n,window:i}=e,a=O.useRef();a.current==null&&(a.current=GI({window:i,v5Compat:!0}));let s=a.current,[o,c]=O.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=O.useCallback(f=>{u&&Z_?Z_(()=>c(f)):c(f)},[c,u]);return O.useLayoutEffect(()=>s.listen(d),[s,d]),O.useEffect(()=>FL(n),[n]),O.createElement(UL,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const XL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=O.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=WL(t,KL),{basename:p}=O.useContext(ka),v,y=!1;if(typeof u=="string"&&JL.test(u)&&(v=u,XL))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=Yx(_.pathname,p);_.origin===b.origin&&w!=null?u=w+_.search+_.hash:y=!0}catch{}let x=_L(u,{relative:i}),m=ZL(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function g(b){n&&n(b),b.defaultPrevented||m(b)}return O.createElement("a",qv({},h,{href:v||x,onClick:y||a?n:g,ref:r,target:c}))});var ej;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ej||(ej={}));var tj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tj||(tj={}));function ZL(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,c=fn(),u=Is(),d=Bk(e,{relative:s});return O.useCallback(f=>{if(VL(f,r)){f.preventDefault();let h=n!==void 0?n:Gf(u)===Gf(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,c,d,n,i,r,e,a,s,o])}function e4(e){let t=O.useRef(Vv(e)),r=O.useRef(!1),n=Is(),i=O.useMemo(()=>HL(n.search,r.current?null:t.current),[n.search]),a=fn(),s=O.useCallback((o,c)=>{const u=Vv(typeof o=="function"?o(i):o);r.current=!0,a("?"+u,c)},[a,i]);return[i,s]}var Hv=function(e,t){return Hv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Hv(e,t)};function qk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Qf=function(){return Qf=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Qf.apply(this,arguments)};function $l(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Vk(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,r,a):s(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function Hk(e,t){return function(r,n){t(r,n,e)}}function Kk(e,t,r,n,i,a){function s(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var o=n.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,p=r.length-1;p>=0;p--){var v={};for(var y in n)v[y]=y==="access"?{}:n[y];for(var y in n.access)v.access[y]=n.access[y];v.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(m||null))};var x=(0,r[p])(o==="accessor"?{get:d.get,set:d.set}:d[c],v);if(o==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=s(x.get))&&(d.get=f),(f=s(x.set))&&(d.set=f),(f=s(x.init))&&i.unshift(f)}else(f=s(x))&&(o==="field"?i.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function Gk(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Qk(e){return typeof e=="symbol"?e:"".concat(e)}function Yk(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Xk(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function se(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}function Jk(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Np=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Zk(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Np(t,e,r)}function Yf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eb(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a}function eA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eb(arguments[t]));return e}function tA(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}function rA(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Zo(e){return this instanceof Zo?(this.v=e,this):new Zo(e)}function nA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(v){return Promise.resolve(v).then(p,f)}}function o(p,v){n[p]&&(i[p]=function(y){return new Promise(function(x,m){a.push([p,y,x,m])>1||c(p,y)})},v&&(i[p]=v(i[p])))}function c(p,v){try{u(n[p](v))}catch(y){h(a[0][3],y)}}function u(p){p.value instanceof Zo?Promise.resolve(p.value.v).then(d,f):h(a[0][2],p)}function d(p){c("next",p)}function f(p){c("throw",p)}function h(p,v){p(v),a.shift(),a.length&&c(a[0][0],a[0][1])}}function iA(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(s){return(r=!r)?{value:Zo(e[i](s)),done:!1}:a?a(s):s}:a}}function aA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Yf=="function"?Yf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,c){s=e[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},s)}}function sA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var t4=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Kv=function(e){return Kv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Kv(e)};function oA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Kv(e),n=0;n<r.length;n++)r[n]!=="default"&&Np(t,e,r[n]);return t4(t,e),t}function lA(e){return e&&e.__esModule?e:{default:e}}function cA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function uA(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function dA(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function fA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var r4=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function hA(e){function t(a){e.error=e.hasError?new r4(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function pA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,s){return n?t?".jsx":".js":i&&(!a||!s)?r:i+a+"."+s.toLowerCase()+"js"}):e}const n4={__extends:qk,__assign:Qf,__rest:$l,__decorate:Vk,__param:Hk,__esDecorate:Kk,__runInitializers:Gk,__propKey:Qk,__setFunctionName:Yk,__metadata:Xk,__awaiter:se,__generator:Jk,__createBinding:Np,__exportStar:Zk,__values:Yf,__read:eb,__spread:eA,__spreadArrays:tA,__spreadArray:rA,__await:Zo,__asyncGenerator:nA,__asyncDelegator:iA,__asyncValues:aA,__makeTemplateObject:sA,__importStar:oA,__importDefault:lA,__classPrivateFieldGet:cA,__classPrivateFieldSet:uA,__classPrivateFieldIn:dA,__addDisposableResource:fA,__disposeResources:hA,__rewriteRelativeImportExtension:pA},i4=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:fA,get __assign(){return Qf},__asyncDelegator:iA,__asyncGenerator:nA,__asyncValues:aA,__await:Zo,__awaiter:se,__classPrivateFieldGet:cA,__classPrivateFieldIn:dA,__classPrivateFieldSet:uA,__createBinding:Np,__decorate:Vk,__disposeResources:hA,__esDecorate:Kk,__exportStar:Zk,__extends:qk,__generator:Jk,__importDefault:lA,__importStar:oA,__makeTemplateObject:sA,__metadata:Xk,__param:Hk,__propKey:Qk,__read:eb,__rest:$l,__rewriteRelativeImportExtension:pA,__runInitializers:Gk,__setFunctionName:Yk,__spread:eA,__spreadArray:rA,__spreadArrays:tA,__values:Yf,default:n4},Symbol.toStringTag,{value:"Module"})),a4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class tb extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class s4 extends tb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rj extends tb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nj extends tb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gv||(Gv={}));class o4{constructor(t,{headers:r={},customFetch:n,region:i=Gv.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=a4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return se(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let x=d;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),d?(x=s.signal,d.addEventListener("abort",()=>s.abort())):x=s.signal);const m=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:x}).catch(w=>{throw new s4(w)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new rj(m);if(!m.ok)throw new nj(m);let b=((i=m.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield m.json():b==="application/octet-stream"||b==="application/pdf"?_=yield m.blob():b==="text/event-stream"?_=m:b==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(o){return{data:null,error:o,response:o instanceof nj||o instanceof rj?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var fr={};const Rl=wR(i4);var Fd={},Bd={},Ud={},zd={},Wd={},qd={},ij;function mA(){if(ij)return qd;ij=1,Object.defineProperty(qd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return qd.default=e,qd}var aj;function gA(){if(aj)return Wd;aj=1,Object.defineProperty(Wd,"__esModule",{value:!0});const t=Rl.__importDefault(mA());class r{constructor(i){var a,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let p=null,v=null,y=null,x=c.status,m=c.statusText;if(c.ok){if(this.method!=="HEAD"){const w=await c.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=w:v=JSON.parse(w))}const b=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");b&&_&&_.length>1&&(y=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,x=406,m="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const b=await c.text();try{p=JSON.parse(b),Array.isArray(p)&&c.status===404&&(v=[],p=null,x=200,m="OK")}catch{c.status===404&&b===""?(x=204,m="No Content"):p={message:b}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,x=200,m="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:v,count:y,status:x,statusText:m}});return this.shouldThrowOnError||(o=o.catch(c=>{var u,d,f,h,p,v;let y="";const x=c==null?void 0:c.cause;if(x){const m=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",g=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";y=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,y+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${m}`,g&&(y+=` (${g})`),x!=null&&x.stack&&(y+=`
${x.stack}`)}else y=(p=c==null?void 0:c.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"FetchError"}: ${c==null?void 0:c.message}`,details:y,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,a)}returns(){return this}overrideTypes(){return this}}return Wd.default=r,Wd}var sj;function vA(){if(sj)return zd;sj=1,Object.defineProperty(zd,"__esModule",{value:!0});const t=Rl.__importDefault(gA());class r extends t.default{select(i){let a=!1;const s=(i??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,a,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return zd.default=r,zd}var oj;function rb(){if(oj)return Ud;oj=1,Object.defineProperty(Ud,"__esModule",{value:!0});const t=Rl.__importDefault(vA()),r=new RegExp("[,()]");class n extends t.default{eq(a,s){return this.url.searchParams.append(a,`eq.${s}`),this}neq(a,s){return this.url.searchParams.append(a,`neq.${s}`),this}gt(a,s){return this.url.searchParams.append(a,`gt.${s}`),this}gte(a,s){return this.url.searchParams.append(a,`gte.${s}`),this}lt(a,s){return this.url.searchParams.append(a,`lt.${s}`),this}lte(a,s){return this.url.searchParams.append(a,`lte.${s}`),this}like(a,s){return this.url.searchParams.append(a,`like.${s}`),this}likeAllOf(a,s){return this.url.searchParams.append(a,`like(all).{${s.join(",")}}`),this}likeAnyOf(a,s){return this.url.searchParams.append(a,`like(any).{${s.join(",")}}`),this}ilike(a,s){return this.url.searchParams.append(a,`ilike.${s}`),this}ilikeAllOf(a,s){return this.url.searchParams.append(a,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(a,s){return this.url.searchParams.append(a,`ilike(any).{${s.join(",")}}`),this}regexMatch(a,s){return this.url.searchParams.append(a,`match.${s}`),this}regexIMatch(a,s){return this.url.searchParams.append(a,`imatch.${s}`),this}is(a,s){return this.url.searchParams.append(a,`is.${s}`),this}isDistinct(a,s){return this.url.searchParams.append(a,`isdistinct.${s}`),this}in(a,s){const o=Array.from(new Set(s)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cs.{${s.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(s)}`),this}containedBy(a,s){return typeof s=="string"?this.url.searchParams.append(a,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(a,`cd.{${s.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(s)}`),this}rangeGt(a,s){return this.url.searchParams.append(a,`sr.${s}`),this}rangeGte(a,s){return this.url.searchParams.append(a,`nxl.${s}`),this}rangeLt(a,s){return this.url.searchParams.append(a,`sl.${s}`),this}rangeLte(a,s){return this.url.searchParams.append(a,`nxr.${s}`),this}rangeAdjacent(a,s){return this.url.searchParams.append(a,`adj.${s}`),this}overlaps(a,s){return typeof s=="string"?this.url.searchParams.append(a,`ov.${s}`):this.url.searchParams.append(a,`ov.{${s.join(",")}}`),this}textSearch(a,s,{config:o,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${u}fts${d}.${s}`),this}match(a){return Object.entries(a).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(a,s,o){return this.url.searchParams.append(a,`not.${s}.${o}`),this}or(a,{foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,s,o){return this.url.searchParams.append(a,`${s}.${o}`),this}}return Ud.default=n,Ud}var lj;function yA(){if(lj)return Bd;lj=1,Object.defineProperty(Bd,"__esModule",{value:!0});const t=Rl.__importDefault(rb());class r{constructor(i,{headers:a={},schema:s,fetch:o}){this.url=i,this.headers=new Headers(a),this.schema=s,this.fetch=o}select(i,a){const{head:s=!1,count:o}=a??{},c=s?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:s=!0}={}){var o;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var s;const o="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var a;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Bd.default=r,Bd}var cj;function l4(){if(cj)return Fd;cj=1,Object.defineProperty(Fd,"__esModule",{value:!0});const e=Rl,t=e.__importDefault(yA()),r=e.__importDefault(rb());class n{constructor(a,{headers:s={},schema:o,fetch:c}={}){this.url=a,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const s=new URL(`${this.url}/${a}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,s={},{head:o=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let p;o||c?(f=o?"HEAD":"GET",Object.entries(s).filter(([y,x])=>x!==void 0).map(([y,x])=>[y,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([y,x])=>{h.searchParams.append(y,x)})):(f="POST",p=s);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Fd.default=n,Fd}Object.defineProperty(fr,"__esModule",{value:!0});var xA=fr.PostgrestError=kA=fr.PostgrestBuilder=PA=fr.PostgrestTransformBuilder=NA=fr.PostgrestFilterBuilder=jA=fr.PostgrestQueryBuilder=wA=fr.PostgrestClient=void 0;const Ml=Rl,bA=Ml.__importDefault(l4());var wA=fr.PostgrestClient=bA.default;const _A=Ml.__importDefault(yA());var jA=fr.PostgrestQueryBuilder=_A.default;const SA=Ml.__importDefault(rb());var NA=fr.PostgrestFilterBuilder=SA.default;const OA=Ml.__importDefault(vA());var PA=fr.PostgrestTransformBuilder=OA.default;const EA=Ml.__importDefault(gA());var kA=fr.PostgrestBuilder=EA.default;const AA=Ml.__importDefault(mA());xA=fr.PostgrestError=AA.default;var TA=fr.default={PostgrestClient:bA.default,PostgrestQueryBuilder:_A.default,PostgrestFilterBuilder:SA.default,PostgrestTransformBuilder:OA.default,PostgrestBuilder:EA.default,PostgrestError:AA.default};const c4=wP({__proto__:null,get PostgrestBuilder(){return kA},get PostgrestClient(){return wA},get PostgrestError(){return xA},get PostgrestFilterBuilder(){return NA},get PostgrestQueryBuilder(){return jA},get PostgrestTransformBuilder(){return PA},default:TA},[fr]),{PostgrestClient:u4,PostgrestQueryBuilder:gfe,PostgrestFilterBuilder:vfe,PostgrestTransformBuilder:yfe,PostgrestBuilder:xfe,PostgrestError:bfe}=TA||c4;class d4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const f4="2.84.0",h4=`realtime-js/${f4}`,CA="1.0.0",p4="2.0.0",uj=CA,Qv=1e4,m4=1e3,g4=100;var Ha;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ha||(Ha={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jn||(jn={}));var Yv;(function(e){e.websocket="websocket"})(Yv||(Yv={}));var Ka;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ka||(Ka={}));class v4{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n,i,a;const s=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(a=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(h),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,c.length),p.setUint8(v++,o.length),p.setUint8(v++,s.length),p.setUint8(v++,u.length),p.setUint8(v++,this.BINARY_ENCODING),Array.from(c,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(s,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(u,x=>p.setUint8(v++,x.charCodeAt(0)));var y=new Uint8Array(h.byteLength+d.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(d),h.byteLength),y.buffer}_encodeJsonUserBroadcastPush(t){var r,n,i,a;const s=t.topic,o=(r=t.ref)!==null&&r!==void 0?r:"",c=(n=t.join_ref)!==null&&n!==void 0?n:"",u=t.payload.event,d=(a=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(v),x=0;y.setUint8(x++,this.KINDS.userBroadcastPush),y.setUint8(x++,c.length),y.setUint8(x++,o.length),y.setUint8(x++,s.length),y.setUint8(x++,u.length),y.setUint8(x++,this.JSON_ENCODING),Array.from(c,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(s,g=>y.setUint8(x++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(x++,g.charCodeAt(0)));var m=new Uint8Array(v.byteLength+h.byteLength);return m.set(new Uint8Array(v),0),m.set(new Uint8Array(h),v.byteLength),m.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,c]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,v={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class $A{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const dj=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=y4(s,e,t,i),a),{}):{}},y4=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?RA(a,s):Xv(s)},RA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _4(t,r)}switch(e){case ze.bool:return x4(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return b4(t);case ze.json:case ze.jsonb:return w4(t);case ze.timestamp:return j4(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Xv(t);default:return Xv(t)}},Xv=e=>e,x4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},b4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},w4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>RA(t,o))}return e},j4=e=>typeof e=="string"?e.replace(" ","T"):e,MA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Zm{constructor(t,r,n={},i=Qv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fj||(fj={}));class Ic{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ic.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Ic.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ic.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),v=d.filter(x=>p.indexOf(x.presence_ref)<0),y=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(o[u]=v),y.length>0&&(c[u]=y)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hj||(hj={}));var Lc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lc||(Lc={}));var oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class nb{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zm(this,jn.join,this.params,this.timeout),this.rejoinTimer=new $A(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ic(this),this.broadcastEndpointURL=MA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Lc.PRESENCE]&&this.bindings[Lc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(oi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(oi.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,m=[];for(let g=0;g<x;g++){const b=y[g],{filter:{event:_,schema:w,table:j,filter:S}}=b,N=p&&p[g];if(N&&N.event===_&&N.schema===w&&N.table===j&&N.filter===S)m.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(oi.SUBSCRIBED);return}}).receive("error",p=>{this.state=At.errored,t==null||t(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===At.joined&&t===Lc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Zm(this,jn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zm(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>g4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=jn;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var v,y,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(y=p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var v,y,x,m,g,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const _=p.id,w=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(g=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:x,commit_timestamp:m,type:g,errors:b}=v;h=Object.assign(Object.assign({},{schema:y,table:x,commit_timestamp:m,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&nb.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jn.close,{},t)}_onError(t){this._on(jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dj(t.columns,t.old_record)),r}}const eg=()=>{},Vd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S4=[1e3,2e3,5e3,1e4],N4=1e4,O4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qv,this.transport=null,this.heartbeatIntervalMs=Vd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eg,this.ref=0,this.reconnectTimer=null,this.vsn=uj,this.logger=eg,this.conn=null,this.sendBuffer=[],this.serializer=new v4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Yv.websocket}`,this.httpEndpoint=MA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ha.connecting:return Ka.Connecting;case Ha.open:return Ka.Open;case Ha.closing:return Ka.Closing;default:return Ka.Closed}}isConnected(){return this.connectionState()===Ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new nb(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ha.open||this.conn.readyState===Ha.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([O4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:h4};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(jn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $A(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Qv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Vd.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:eg,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:uj,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>S4[v-1]||N4,this.vsn){case CA:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,y)=>y(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,y)=>y(JSON.parse(v));break;case p4:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ib extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ot(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class E4 extends ib{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jv extends ib{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ab=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),k4=()=>Response,Zv=e=>{if(Array.isArray(e))return e.map(r=>Zv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Zv(n)}),t},A4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},T4=(e,t,r)=>se(void 0,void 0,void 0,function*(){const n=yield k4();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new E4(tg(i),a,s))}).catch(i=>{t(new Jv(tg(i),i))}):t(new Jv(tg(e),e))}),C4=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(A4(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function od(e,t,r,n,i,a){return se(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,C4(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>T4(c,o,n))})})}function uu(e,t,r,n){return se(this,void 0,void 0,function*(){return od(e,"GET",t,r,n)})}function xn(e,t,r,n,i){return se(this,void 0,void 0,function*(){return od(e,"POST",t,n,i,r)})}function ey(e,t,r,n,i){return se(this,void 0,void 0,function*(){return od(e,"PUT",t,n,i,r)})}function $4(e,t,r,n){return se(this,void 0,void 0,function*(){return od(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function sb(e,t,r,n,i){return se(this,void 0,void 0,function*(){return od(e,"DELETE",t,n,i,r)})}class R4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ot(t))return{data:null,error:t};throw t}})}}var IA;class M4{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[IA]="BlobDownloadBuilder",this.promise=null}asStream(){return new R4(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ot(t))return{data:null,error:t};throw t}})}}IA=Symbol.toStringTag;const I4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class L4{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ab(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return se(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},pj),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ey:xn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}upload(t,r,n){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return se(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:pj.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ey(this.fetch,o.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ot(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield xn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new ib("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}update(t,r,n){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return se(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}copy(t,r,n){return se(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return se(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield xn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return se(this,void 0,void 0,function*(){try{const i=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"",o=this._getFinalPath(t),c=()=>uu(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new M4(c,this.shouldThrowOnError)}info(t){return se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield uu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}exists(t){return se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n)&&n instanceof Jv){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return se(this,void 0,void 0,function*(){try{return{data:yield sb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}list(t,r,n){return se(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},I4),r),{prefix:t||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}listV2(t,r){return se(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const LA="2.84.0",DA={"X-Client-Info":`storage-js/${LA}`};class D4{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DA),r),this.fetch=ab(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return se(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield uu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}getBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}createBucket(t){return se(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return se(this,void 0,void 0,function*(){try{return{data:yield ey(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}emptyBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield sb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class F4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},DA),r),this.fetch=ab(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}listBuckets(t){return se(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield uu(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}deleteBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield sb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}}const ob={"X-Client-Info":`storage-js/${LA}`,"Content-Type":"application/json"};class FA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class rg extends FA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class B4 extends FA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var mj;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(mj||(mj={}));const lb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),U4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z4=(e,t,r)=>se(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new rg(gj(s),i,o))}).catch(()=>{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new rg(o,i,s))});else{const s=i+"",o=a.statusText||`HTTP ${i} error`;t(new rg(o,i,s))}}else t(new B4(gj(e),e))}),W4=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(U4(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function q4(e,t,r,n,i,a){return se(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,W4(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>z4(c,o,n))})})}function Lr(e,t,r,n,i){return se(this,void 0,void 0,function*(){return q4(e,"POST",t,n,i,r)})}class V4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ob),r),this.fetch=lb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return se(this,void 0,void 0,function*(){try{return{data:(yield Lr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return se(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return se(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return se(this,void 0,void 0,function*(){try{return{data:(yield Lr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}}class H4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ob),r),this.fetch=lb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return se(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}getVectors(t){return se(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}listVectors(t){return se(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Lr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return se(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return se(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}}class K4{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ob),r),this.fetch=lb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return se(this,void 0,void 0,function*(){try{return{data:(yield Lr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}getBucket(t){return se(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}listBuckets(){return se(this,arguments,void 0,function*(t={}){try{return{data:yield Lr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return se(this,void 0,void 0,function*(){try{return{data:(yield Lr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}}class G4 extends K4{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Q4(this.url,this.headers,t,this.fetch)}}class Q4 extends V4{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return se(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return se(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return se(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return se(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Y4(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Y4 extends H4{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return se(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return se(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return se(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return se(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return se(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class X4 extends D4{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new L4(this.url,this.headers,t,this.fetch)}get vectors(){return new G4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new F4(this.url+"/iceberg",this.headers,this.fetch)}}const J4="2.84.0";let Sc="";typeof Deno<"u"?Sc="deno":typeof document<"u"?Sc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sc="react-native":Sc="node";const Z4={"X-Client-Info":`supabase-js-${Sc}/${J4}`},e3={headers:Z4},t3={schema:"public"},r3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n3={},i3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),a3=()=>Headers,s3=(e,t,r)=>{const n=i3(r),i=a3();return async(a,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:u}))}};function o3(e){return e.endsWith("/")?e:e+"/"}function l3(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function c3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(o3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const BA="2.84.0",eo=30*1e3,ty=3,ng=ty*eo,u3="http://localhost:9999",d3="supabase.auth.token",f3={"X-Client-Info":`gotrue-js/${BA}`},ry="X-Supabase-Api-Version",UA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},h3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p3=10*60*1e3;class du extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class m3 extends du{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function g3(e){return oe(e)&&e.name==="AuthApiError"}class Ga extends du{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Aa extends du{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Ar extends Aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v3(e){return oe(e)&&e.name==="AuthSessionMissingError"}class qs extends Aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hd extends Aa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kd extends Aa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function y3(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class vj extends Aa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ny extends Aa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ig(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class yj extends Aa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class iy extends Aa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xj=` 	
\r=`.split(""),x3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xj.length;t+=1)e[xj[t].charCodeAt(0)]=-2;for(let t=0;t<Xf.length;t+=1)e[Xf[t].charCodeAt(0)]=t;return e})();function bj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xf[n]),t.queuedBits-=6}}function zA(e,t,r){const n=x3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wj(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{_3(s,n,r)};for(let s=0;s<e.length;s+=1)zA(e.charCodeAt(s),i,a);return t.join("")}function b3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function w3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}b3(n,t)}}function _3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Eo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)zA(e.charCodeAt(i),r,n);return new Uint8Array(t)}function j3(e){const t=[];return w3(e,r=>t.push(r)),new Uint8Array(t)}function Za(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>bj(i,r,n)),bj(null,r,n),t.join("")}function S3(e){return Math.round(Date.now()/1e3)+e}function N3(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",Ma={tested:!1,writable:!1},WA=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ma.tested)return Ma.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ma.tested=!0,Ma.writable=!0}catch{Ma.tested=!0,Ma.writable=!1}return Ma.writable};function O3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const qA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",to=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ia=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bi=async(e,t)=>{await e.removeItem(t)};class Op{constructor(){this.promise=new Op.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Op.promiseConstructor=Promise;function ag(e){const t=e.split(".");if(t.length!==3)throw new iy("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!h3.test(t[n]))throw new iy("JWT not in base64url format");return{header:JSON.parse(wj(t[0])),payload:JSON.parse(wj(t[1])),signature:Eo(t[2]),raw:{header:t[0],payload:t[1]}}}async function E3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function k3(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function A3(e){return("0"+e.toString(16)).substr(-2)}function T3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,A3).join("")}async function C3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function $3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await C3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vs(e,t,r=!1){const n=T3();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await to(e,`${t}-code-verifier`,i);const a=await $3(n);return[a,n===a?"plain":"s256"]}const R3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function M3(e){const t=e.headers.get(ry);if(!t||!t.match(R3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function I3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function L3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hs(e){if(!D3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F3(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function _j(e){return JSON.parse(JSON.stringify(e))}const za=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),B3=[502,503,504];async function jj(e){var t;if(!P3(e))throw new ny(za(e),0);if(B3.includes(e.status))throw new ny(za(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ga(za(a),a)}let n;const i=M3(e);if(i&&i.getTime()>=UA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yj(za(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ar}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new yj(za(r),e.status,r.weak_password.reasons);throw new m3(za(r),e.status||500,n)}const U3=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function he(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[ry]||(a[ry]=UA["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await z3(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function z3(e,t,r,n,i,a){const s=U3(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new ny(za(c),0)}if(o.ok||await jj(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await jj(c)}}function vn(e){var t;let r=null;V3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=S3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Sj(e){const t=vn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function W3(e){return{data:e,error:null}}function q3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=$l(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function Nj(e){return e}function V3(e){return e.access_token&&e.refresh_token&&e.expires_in}const og=["global","local","others"];class H3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=qA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=og[0]){if(og.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${og.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yi})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=$l(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:q3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yi})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Nj});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Hs(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yi})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Hs(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yi})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Hs(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yi})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Hs(t.userId);try{const{data:r,error:n}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Hs(t.userId),Hs(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Nj});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(oe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function Oj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ks={debug:!!(globalThis&&WA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class VA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K3 extends VA{}async function G3(e,t,r){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new K3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ks.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Q3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function HA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Y3(e){return parseInt(e,16)}function X3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function J3(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=HA(e.address),v=d?`${d}://${n}`:n,y=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${y}`;let m=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(m+=`
Expiration Time: ${i.toISOString()}`),o&&(m+=`
Not Before: ${o.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}m+=g}return`${x}
${m}`}class St extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Jf extends St{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Z3({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new St({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new St({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new St({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new St({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new St({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new St({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new St({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new St({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(KA(s)){if(a.rp.id!==s)return new St({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new St({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function eD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new St({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new St({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(KA(n)){if(r.rpId!==n)return new St({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class tD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const rD=new tD;function nD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=$l(e,["challenge","user","excludeCredentials"]),a=Eo(t).buffer,s=Object.assign(Object.assign({},r),{id:Eo(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Eo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function iD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=$l(e,["challenge","allowCredentials"]),i=Eo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Eo(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function aD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Za(new Uint8Array(e.response.attestationObject)),clientDataJSON:Za(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Za(new Uint8Array(i.authenticatorData)),clientDataJSON:Za(new Uint8Array(i.clientDataJSON)),signature:Za(new Uint8Array(i.signature)),userHandle:i.userHandle?Za(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function KA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Pj(){var e,t;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function oD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jf("Browser returned unexpected credential type",t)}:{data:null,error:new Jf("Empty credential response",t)}}catch(t){return{data:null,error:Z3({error:t,options:e})}}}async function lD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jf("Browser returned unexpected credential type",t)}:{data:null,error:new Jf("Empty credential response",t)}}catch(t){return{data:null,error:eD({error:t,options:e})}}}const cD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=Zf(o,s):n[a]=Zf(s)}else n[a]=s}return n}function dD(e,t){return Zf(cD,e,t||{})}function fD(e,t){return Zf(uD,e,t||{})}class hD{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=i??rD.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=dD(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await oD({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=fD(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await lD(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return oe(s)?{data:null,error:s}:{data:null,error:new Ga("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new du("rpId is required for WebAuthn authentication")};try{if(!Pj())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return oe(s)?{data:null,error:s}:{data:null,error:new Ga("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new du("rpId is required for WebAuthn registration")};try{if(!Pj())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return oe(s)?{data:null,error:s}:{data:null,error:new Ga("Unexpected error in register",s)}}}}Q3();const pD={url:u3,storageKey:d3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ej(e,t,r){return await r()}const Gs={};class fu{get jwks(){var t,r;return(r=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},pD),t);if(this.storageKey=a.storageKey,this.instanceID=(r=fu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ht()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new H3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=qA(a.fetch),this.lock=a.lock||Ej,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Ht()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=G3:this.lock=Ej,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:WA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Oj(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Oj(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${BA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ht()&&(r=O3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),y3(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?this._returnResult({error:r}):this._returnResult({error:new Ga("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:vn}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Vs(this.storage,this.storageKey)),a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:vn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vn})}else throw new Hd("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sj})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Sj})}else throw new Hd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new qs;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,c,u,d,f,h;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:y,wallet:x,statement:m,options:g}=t;let b;if(Ht())if(typeof x=="object")b=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")b=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),w=await b.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||w.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=HA(w[0]);let S=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const P=await b.request({method:"eth_chainId"});S=Y3(P)}const N={domain:_.host,address:j,statement:m,uri:_.href,version:"1",chainId:S,nonce:(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=J3(N),v=await b.request({method:"personal_sign",params:[X3(p),j]})}try{const{data:y,error:x}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:vn});if(x)throw x;if(!y||!y.session||!y.user){const m=new qs;return this._returnResult({data:{user:null,session:null},error:m})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:x})}catch(y){if(oe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,i,a,s,o,c,u,d,f,h,p;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:x,wallet:m,statement:g,options:b}=t;let _;if(Ht())if(typeof m=="object")_=m;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const w=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:x,error:m}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Za(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vn});if(m)throw m;if(!x||!x.session||!x.user){const g=new qs;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:m})}catch(x){if(oe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Ia(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vn});if(await Bi(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new qs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vn}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new qs;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vs(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Hd("You must provide either an email or phone number.")}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:vn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Vs(this.storage,this.storageKey));const u=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:W3});return!((a=u.data)===null||a===void 0)&&a.url&&Ht()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ar;const{error:i}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Hd("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ng:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ia(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=sg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=F3(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yi}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ar}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Yi})})}catch(r){if(oe(r))return v3(r)&&(await this._removeSession(),await Bi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Ar;const s=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Vs(this.storage,this.storageKey));const{data:u,error:d}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Yi});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(oe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ar;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=ag(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ar;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ht())throw new Kd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vj("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!s||!u)throw new Kd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=eo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:y,error:x}=await this._getUser(a);if(x)throw x;const m={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(n){if(oe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ia(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(g3(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Bi(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=N3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Vs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ht()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(oe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:c,access_token:u,nonce:d}=t,f=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vn}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new qs}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await k3(async i=>(i>0&&await E3(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&ig(a)&&Date.now()+s-n<eo})}catch(n){if(this._debug(r,"error",n),oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ht()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ia(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ia(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await to(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:sg()}else if(i&&!i.user&&!i.user){const s=await Ia(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Bi(this.storage,this.storageKey+"-user"),await to(this.storage,this.storageKey,i)):i.user=sg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ng;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ng}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),ig(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Op;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Ar;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),oe(a)){const s={data:null,error:a};return ig(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await to(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=_j(i);await to(this.storage,this.storageKey,a)}else{const i=_j(r);await to(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Bi(this.storage,this.storageKey),await Bi(this.storage,this.storageKey+"-code-verifier"),await Bi(this.storage,this.storageKey+"-user"),this.userStorage&&await Bi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),eo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/eo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${eo}ms, refresh threshold is ${ty} ticks`),i<=ty&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof VA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Vs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await he(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?aD(t.webauthn.credential_response):sD(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:nD(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:iD(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ag(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ar})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ar});const s=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Ht()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new Ar});const s=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Ht()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ar})})}catch(t){if(oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Ar})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+p3>i)return n;const{data:a,error:s}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:c}}=ag(n);r!=null&&r.allowExpired||I3(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=L3(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,j3(`${o}.${c}`)))throw new iy("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}}fu.nextInstanceID={};const mD=fu;class gD extends mD{constructor(t){super(t)}}class vD{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=c3(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:t3,realtime:n3,auth:Object.assign(Object.assign({},r3),{storageKey:c}),global:e3},d=l3(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=s3(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new u4(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new X4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new o4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:c,debug:u,throwOnError:d},f,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gD({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new P4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yD=(e,t,r)=>new vD(e,t,r);function xD(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}xD()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bD="https://ofjtqibzqatcrmyhqyvh.supabase.co",wD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9manRxaWJ6cWF0Y3JteWhxeXZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MzY3NjUsImV4cCI6MjA3OTUxMjc2NX0.D84BxKc6ukFQEkKpUkCvpUnKAnRZSOCtvGPOusoFqgU",Y=yD(bD,wD),cb=O.createContext(void 0);function Ls(){const e=O.useContext(cb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}async function _D(e,t,r){const{data:n,error:i}=await Y.auth.signUp({email:e,password:t,options:{data:{full_name:r}}});if(i)throw i;return n}async function jD(e,t){const{data:r,error:n}=await Y.auth.signInWithPassword({email:e,password:t});if(n)throw console.error("Supabase signIn error:",n),n;return r}async function SD(){const{error:e}=await Y.auth.signOut();if(e)throw e}async function ND(e,t,r){const n={id:e,full_name:t,role:null},{data:i,error:a}=await Y.from("profiles").insert(n).select().single();if(a)throw a;return i}async function OD(e){const{data:t,error:r}=await Y.from("profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function PD(e,t){if(await eh(t))throw new Error("You already have a team membership. Each user can only belong to one team.");if(await ub(t))throw new Error("You already have a pending team membership request. Please wait for approval or cancel it first.");const i={name:e,created_by:t},{data:a,error:s}=await Y.from("teams").insert(i).select().single();if(s)throw s;const o={team_id:a.id,user_id:t,role:"admin",status:"approved"},{data:c,error:u}=await Y.from("team_members").insert(o).select().single();if(u)throw u;return{team:a,membership:c}}async function ED(e,t){if(await eh(t))throw new Error("You already have a team membership. Each user can only belong to one team.");if(await ub(t))throw new Error("You already have a pending team membership request. Please wait for approval or cancel it first.");const i={team_id:e,user_id:t,role:"member",status:"pending"},{data:a,error:s}=await Y.from("team_members").insert(i).select().single();if(s)throw s.code==="23505"?new Error("You already have a pending or approved membership request."):s;return a}async function kD(){const{data:e,error:t}=await Y.from("teams").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function eh(e){console.log("[teamService] Getting team membership for user:",e);const{data:t,error:r}=await Y.from("team_members").select("*").eq("user_id",e).eq("status","approved").single();if(r){if(r.code==="PGRST116")return console.log("[teamService] No approved membership found"),null;throw console.error("[teamService] Error getting team membership:",r),r}return t&&console.log("[teamService] Team membership found:",t.status),t}async function ub(e){console.log("[teamService] Getting pending membership for user:",e);const{data:t,error:r}=await Y.from("team_members").select("*").eq("user_id",e).eq("status","pending").single();if(r){if(r.code==="PGRST116")return console.log("[teamService] No pending membership found"),null;throw console.error("[teamService] Error getting pending membership:",r),r}return console.log("[teamService] Pending membership found"),t}async function AD(e){const{data:t,error:r}=await Y.from("team_members").select(`
            *,
            profiles (
                full_name
            )
        `).eq("team_id",e).eq("status","pending").order("created_at",{ascending:!0});if(r)throw r;return t||[]}async function TD(e){console.log("[teamService] Approving member with ID:",e);const{data:t,error:r}=await Y.from("team_members").select("*").eq("id",e).single();if(r)throw console.error("[teamService] Error fetching membership:",r),new Error(`Failed to fetch membership: ${r.message}`);if(!t)throw new Error("Membership not found");if(t.status!=="pending")throw new Error(`Membership is not pending (current status: ${t.status})`);console.log("[teamService] Existing membership:",t);const{data:n,error:i}=await Y.from("team_members").select("*").eq("user_id",t.user_id).eq("status","approved").neq("id",e);if(i&&console.error("[teamService] Error checking other memberships:",i),n&&n.length>0)throw console.warn("[teamService] User already has approved membership(s):",n),new Error("User already has an approved team membership. Each user can only belong to one team.");const{data:a,error:s}=await Y.from("team_members").update({status:"approved"}).eq("id",e).eq("status","pending").select().single();if(s)throw console.error("[teamService] Error approving member:",{code:s.code,message:s.message,details:s.details,hint:s.hint,fullError:s}),s;return console.log("[teamService] Member approved successfully:",a),a}async function CD(e){const{data:t,error:r}=await Y.from("team_members").update({status:"rejected"}).eq("id",e).eq("status","pending").select().single();if(r)throw r;return t}async function $D(e){const{data:t,error:r}=await Y.from("teams").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return t}async function RD(e){const{error:t}=await Y.from("team_members").delete().eq("id",e).eq("status","pending");if(t)throw t}function MD({children:e}){const[t,r]=O.useState(null),[n,i]=O.useState(null),[a,s]=O.useState(null),[o,c]=O.useState(!0),u=(x,m,g)=>Promise.race([x,new Promise((b,_)=>setTimeout(()=>_(new Error(`${g} timed out after ${m}ms`)),m))]),d=async x=>{var m;console.log("[AuthProvider] Loading user data for:",x.id);try{console.log("[AuthProvider] Fetching profile...");const g=await u(OD(x.id),5e3,"Profile fetch");if(g)i(g),console.log("[AuthProvider] Profile loaded successfully");else{console.log("[AuthProvider] No profile found, creating new profile...");const _=((m=x.user_metadata)==null?void 0:m.full_name)||x.email||"User",w=await u(ND(x.id,_),5e3,"Profile creation");i(w),console.log("[AuthProvider] Profile created successfully")}console.log("[AuthProvider] Fetching team membership...");const b=await u(eh(x.id),5e3,"Team membership fetch");s(b),console.log("[AuthProvider] Team membership loaded:",(b==null?void 0:b.status)||"none")}catch(g){console.error("[AuthProvider] Error loading user data:",g)}};O.useEffect(()=>{let x;console.log("[AuthProvider] Initializing auth state..."),x=setTimeout(()=>{console.warn("[AuthProvider] Auth initialization timeout - forcing loading to false"),c(!1)},1e4),Y.auth.getSession().then(({data:{session:g}})=>{if(console.log("[AuthProvider] Initial session check:",g?"logged in":"not logged in"),g!=null&&g.user)return r(g.user),d(g.user)}).catch(g=>{console.error("[AuthProvider] Error getting initial session:",g)}).finally(()=>{clearTimeout(x),c(!1),console.log("[AuthProvider] Initial auth check complete")});const{data:{subscription:m}}=Y.auth.onAuthStateChange(async(g,b)=>{if(console.log("[AuthProvider] Auth state changed:",g,b?"logged in":"logged out"),r((b==null?void 0:b.user)??null),b!=null&&b.user)try{await d(b.user)}catch(_){console.error("[AuthProvider] Error in auth state change handler:",_)}else i(null),s(null)});return()=>{clearTimeout(x),m.unsubscribe()}},[]);const y={user:t,profile:n,teamMembership:a,loading:o,signUp:async(x,m,g)=>{await _D(x,m,g)},signIn:async(x,m)=>{const{user:g}=await jD(x,m);g&&(r(g),await d(g))},signOut:async()=>{await SD(),r(null),i(null),s(null)},refreshMembership:async()=>{if(t){const x=await eh(t.id);s(x)}}};return l.jsx(cb.Provider,{value:y,children:e})}function ID({children:e}){const{user:t,teamMembership:r,loading:n}=Ls(),[i,a]=O.useState(!1);return O.useEffect(()=>{if(n){console.log("[ProtectedRoute] Loading started");const s=setTimeout(()=>{console.warn("[ProtectedRoute] Loading timeout reached"),a(!0)},15e3);return()=>{clearTimeout(s),a(!1)}}},[n]),n?i?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4",children:l.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Taking Too Long"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"The app is taking longer than expected to load. This might be due to a slow connection or server issue."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 px-4 bg-[#a3cf08] text-[#132d24] font-semibold rounded-lg hover:bg-[#8fb507] transition-colors",children:"Retry"})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-white mb-4"}),l.jsx("p",{className:"text-white text-sm",children:"Loading..."})]})}):t?!r||r.status!=="approved"?(console.log("[ProtectedRoute] No approved team membership, redirecting to choose team"),l.jsx(zv,{to:"/choose-team",replace:!0})):(console.log("[ProtectedRoute] User authenticated with approved team membership"),l.jsx(l.Fragment,{children:e})):(console.log("[ProtectedRoute] No user, redirecting to login"),l.jsx(zv,{to:"/login",replace:!0}))}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>O.createElement("svg",{ref:d,...LD,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${DD(e)}`,o].join(" "),...u},[...t.map(([f,h])=>O.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=_e("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=_e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=_e("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=_e("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=_e("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=_e("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=_e("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=_e("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=_e("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=_e("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=_e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=_e("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function e2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=e2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ve(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=e2(e))&&(n&&(n+=" "),n+=t);return n}const fb="-",sF=e=>{const t=lF(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(fb);return o[0]===""&&o.length!==1&&o.shift(),t2(o,t)||oF(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},t2=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?t2(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(fb);return(s=t.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},Aj=/^\[(.+)\]$/,oF=e=>{if(Aj.test(e)){const t=Aj.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},lF=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return uF(Object.entries(e.classGroups),r).forEach(([a,s])=>{oy(s,n,a,t)}),n},oy=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:Tj(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(cF(i)){oy(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{oy(s,Tj(t,a),r,n)})})},Tj=(e,t)=>{let r=e;return t.split(fb).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},cF=e=>e.isThemeGetter,uF=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[t+s,o])):a);return[r,i]}):e,dF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},r2="!",fF=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,s=o=>{const c=[];let u=0,d=0,f;for(let x=0;x<o.length;x++){let m=o[x];if(u===0){if(m===i&&(n||o.slice(x,x+a)===t)){c.push(o.slice(d,x)),d=x+a;continue}if(m==="/"){f=x;continue}}m==="["?u++:m==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(r2),v=p?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}};return r?o=>r({className:o,parseClassName:s}):s},hF=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},pF=e=>({cache:dF(e.cacheSize),parseClassName:fF(e),...sF(e)}),mF=/\s+/,gF=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(mF);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,y=n(v?h.substring(0,p):h);if(!y){if(!v){o=u+(o.length>0?" "+o:o);continue}if(y=n(h),!y){o=u+(o.length>0?" "+o:o);continue}v=!1}const x=hF(d).join(":"),m=f?x+r2:x,g=m+y;if(a.includes(g))continue;a.push(g);const b=i(y,v);for(let _=0;_<b.length;++_){const w=b[_];a.push(m+w)}o=u+(o.length>0?" "+o:o)}return o};function vF(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=n2(t))&&(n&&(n+=" "),n+=r);return n}const n2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=n2(e[n]))&&(r&&(r+=" "),r+=t);return r};function yF(e,...t){let r,n,i,a=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=pF(u),n=r.cache.get,i=r.cache.set,a=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=gF(c,r);return i(c,d),d}return function(){return a(vF.apply(null,arguments))}}const Ye=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},i2=/^\[(?:([a-z-]+):)?(.+)\]$/i,xF=/^\d+\/\d+$/,bF=new Set(["px","full","screen"]),wF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_F=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ri=e=>ko(e)||bF.has(e)||xF.test(e),Ui=e=>Il(e,"length",$F),ko=e=>!!e&&!Number.isNaN(Number(e)),lg=e=>Il(e,"number",ko),oc=e=>!!e&&Number.isInteger(Number(e)),OF=e=>e.endsWith("%")&&ko(e.slice(0,-1)),xe=e=>i2.test(e),zi=e=>wF.test(e),PF=new Set(["length","size","percentage"]),EF=e=>Il(e,PF,a2),kF=e=>Il(e,"position",a2),AF=new Set(["image","url"]),TF=e=>Il(e,AF,MF),CF=e=>Il(e,"",RF),lc=()=>!0,Il=(e,t,r)=>{const n=i2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$F=e=>_F.test(e)&&!jF.test(e),a2=()=>!1,RF=e=>SF.test(e),MF=e=>NF.test(e),IF=()=>{const e=Ye("colors"),t=Ye("spacing"),r=Ye("blur"),n=Ye("brightness"),i=Ye("borderColor"),a=Ye("borderRadius"),s=Ye("borderSpacing"),o=Ye("borderWidth"),c=Ye("contrast"),u=Ye("grayscale"),d=Ye("hueRotate"),f=Ye("invert"),h=Ye("gap"),p=Ye("gradientColorStops"),v=Ye("gradientColorStopPositions"),y=Ye("inset"),x=Ye("margin"),m=Ye("opacity"),g=Ye("padding"),b=Ye("saturate"),_=Ye("scale"),w=Ye("sepia"),j=Ye("skew"),S=Ye("space"),N=Ye("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",xe,t],T=()=>[xe,t],M=()=>["",ri,Ui],I=()=>["auto",ko,xe],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",xe],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[ko,xe];return{cacheSize:500,separator:":",theme:{colors:[lc],spacing:[ri,Ui],blur:["none","",zi,xe],brightness:V(),borderColor:[e],borderRadius:["none","","full",zi,xe],borderSpacing:T(),borderWidth:M(),contrast:V(),grayscale:B(),hueRotate:V(),invert:B(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[OF,Ui],inset:k(),margin:k(),opacity:V(),padding:T(),saturate:V(),scale:V(),sepia:B(),skew:V(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[zi]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),xe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oc,xe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",oc,xe]}],"grid-cols":[{"grid-cols":[lc]}],"col-start-end":[{col:["auto",{span:["full",oc,xe]},xe]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[lc]}],"row-start-end":[{row:["auto",{span:[oc,xe]},xe]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,t]}],"min-w":[{"min-w":[xe,t,"min","max","fit"]}],"max-w":[{"max-w":[xe,t,"none","full","min","max","fit","prose",{screen:[zi]},zi]}],h:[{h:[xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",zi,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lg]}],"font-family":[{font:[lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",ko,lg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ri,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ri,Ui]}],"underline-offset":[{"underline-offset":["auto",ri,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),kF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:F()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[ri,xe]}],"outline-w":[{outline:[ri,Ui]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[ri,Ui]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",zi,CF]}],"shadow-color":[{shadow:[lc]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",zi,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[oc,xe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ri,Ui,lg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LF=yF(IF);function bt(...e){return LF(ve(e))}function DF(){const[e,t]=O.useState(!0),r=Is(),n=fn(),{user:i,profile:a,teamMembership:s,signOut:o}=Ls(),c=[{name:"Dashboard",href:"/dashboard",icon:QA},{name:"Players",href:"/dashboard/players",icon:ln},{name:"Matches",href:"/dashboard/matches",icon:Kn},{name:"Live Tracking",href:"/dashboard/live",icon:eF},{name:"Compare Players",href:"/dashboard/compare",icon:QD}],u=async()=>{await o(),n("/login")};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[l.jsxs("aside",{className:bt("fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-200 ease-in-out lg:translate-x-0 lg:sticky lg:top-0 lg:h-screen flex flex-col",e?"translate-x-0":"-translate-x-full"),children:[l.jsxs("div",{className:"flex items-center justify-center h-16 px-6 border-b border-gray-200 relative",children:[l.jsx("img",{src:"/logo.png",alt:"TennisCoach",className:"h-12"}),l.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-1 rounded-md hover:bg-gray-100 absolute right-4",children:l.jsx(ZA,{className:"w-6 h-6 text-gray-500"})})]}),l.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:[c.map(d=>{const f=r.pathname===d.href||d.href!=="/dashboard"&&r.pathname.startsWith(d.href);return l.jsxs(gt,{to:d.href,className:bt("flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors",f?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[l.jsx(d.icon,{className:bt("w-5 h-5 mr-3",f?"text-indigo-700":"text-gray-400")}),d.name]},d.name)}),(s==null?void 0:s.role)==="admin"&&l.jsxs(gt,{to:"/dashboard/team/admin",className:bt("flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors",r.pathname==="/dashboard/team/admin"?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[l.jsx(tF,{className:bt("w-5 h-5 mr-3",r.pathname==="/dashboard/team/admin"?"text-indigo-700":"text-gray-400")}),"Team Admin"]})]}),l.jsxs("div",{className:"border-t border-gray-200 p-4",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Team"}),l.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:s?"Loading...":"No Team"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"User"}),l.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:(a==null?void 0:a.full_name)||(i==null?void 0:i.email)||"User"}),(s==null?void 0:s.role)==="admin"&&l.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs font-medium bg-[#a3cf08] text-[#132d24] rounded",children:"Admin"})]}),l.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:[l.jsx(YD,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[l.jsx("header",{className:"bg-white border-b border-gray-200 lg:hidden",children:l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[l.jsx("button",{onClick:()=>t(!0),className:"p-2 -ml-2 text-gray-500 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:l.jsx(XD,{className:"w-6 h-6"})}),l.jsx("img",{src:"/logo.png",alt:"TennisCoach",className:"h-8"}),l.jsx("div",{className:"w-6"})," "]})}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:l.jsx(BL,{})})]})]})}function FF(){return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#132d24] via-[#1a3d32] to-[#132d24]",children:[l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-[#a3cf08] rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-[#a3cf08] rounded-full blur-3xl"})]}),l.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-32",children:[l.jsx("div",{className:"text-center mb-12 animate-fade-in",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-32 mx-auto mb-8"})}),l.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:"Track Your Tennis Journey"}),l.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-12 leading-relaxed",children:"Professional match tracking, player statistics, and team management all in one powerful platform"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[l.jsxs(gt,{to:"/signup",className:"group relative px-8 py-4 bg-[#a3cf08] text-[#132d24] font-bold text-lg rounded-lg hover:bg-[#8fb507] transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl w-full sm:w-auto",children:[l.jsx("span",{className:"relative z-10",children:"Get Started Free"}),l.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-20 rounded-lg transition-opacity"})]}),l.jsx(gt,{to:"/login",className:"px-8 py-4 bg-white/10 backdrop-blur-sm text-white font-bold text-lg rounded-lg hover:bg-white/20 transition-all duration-300 border-2 border-white/30 hover:border-white/50 w-full sm:w-auto",children:"Sign In"})]})]})]})]}),l.jsx("div",{className:"relative bg-white/5 backdrop-blur-sm py-24",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Everything You Need"}),l.jsx("p",{className:"text-xl text-gray-300",children:"Powerful features to elevate your tennis game"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"group bg-white/10 backdrop-blur-md rounded-xl p-8 hover:bg-white/15 transition-all duration-300 border border-white/10 hover:border-[#a3cf08]/50 hover:shadow-2xl hover:shadow-[#a3cf08]/20 transform hover:-translate-y-2",children:[l.jsx("div",{className:"w-14 h-14 bg-[#a3cf08] rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:l.jsx(el,{className:"w-8 h-8 text-[#132d24]"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Match Tracking"}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Record detailed match statistics including scores, sets, and performance metrics"})]}),l.jsxs("div",{className:"group bg-white/10 backdrop-blur-md rounded-xl p-8 hover:bg-white/15 transition-all duration-300 border border-white/10 hover:border-[#a3cf08]/50 hover:shadow-2xl hover:shadow-[#a3cf08]/20 transform hover:-translate-y-2",children:[l.jsx("div",{className:"w-14 h-14 bg-[#a3cf08] rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:l.jsx(tl,{className:"w-8 h-8 text-[#132d24]"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Player Analytics"}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Track player progress with comprehensive statistics and performance insights"})]}),l.jsxs("div",{className:"group bg-white/10 backdrop-blur-md rounded-xl p-8 hover:bg-white/15 transition-all duration-300 border border-white/10 hover:border-[#a3cf08]/50 hover:shadow-2xl hover:shadow-[#a3cf08]/20 transform hover:-translate-y-2",children:[l.jsx("div",{className:"w-14 h-14 bg-[#a3cf08] rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:l.jsx(ln,{className:"w-8 h-8 text-[#132d24]"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Team Management"}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Organize your team, manage members, and collaborate seamlessly"})]}),l.jsxs("div",{className:"group bg-white/10 backdrop-blur-md rounded-xl p-8 hover:bg-white/15 transition-all duration-300 border border-white/10 hover:border-[#a3cf08]/50 hover:shadow-2xl hover:shadow-[#a3cf08]/20 transform hover:-translate-y-2",children:[l.jsx("div",{className:"w-14 h-14 bg-[#a3cf08] rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Kn,{className:"w-8 h-8 text-[#132d24]"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Performance Comparison"}),l.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Compare players and matches to identify strengths and areas for improvement"})]})]})]})}),l.jsx("div",{className:"relative py-24",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Start Tracking?"}),l.jsx("p",{className:"text-xl text-gray-300 mb-10",children:"Join teams already using TenniTrack to improve their game"}),l.jsx(gt,{to:"/signup",className:"inline-block px-10 py-5 bg-[#a3cf08] text-[#132d24] font-bold text-xl rounded-lg hover:bg-[#8fb507] transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-3xl",children:"Create Your Free Account"})]})}),l.jsx("div",{className:"border-t border-white/10 py-8",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("p",{className:"text-center text-gray-400",children:" 2025 TenniTrack. All rights reserved."})})})]})}function BF(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[i,a]=O.useState(""),[s,o]=O.useState(""),[c,u]=O.useState(!1),[d,f]=O.useState(!1),{signUp:h,user:p,teamMembership:v,loading:y}=Ls(),x=fn();O.useEffect(()=>{!y&&p&&((v==null?void 0:v.status)==="approved"?x("/dashboard",{replace:!0}):x("/choose-team",{replace:!0}))},[p,v,y,x]);const m=async g=>{g.preventDefault(),o(""),f(!0);try{await h(e,r,i),u(!0)}catch(b){b instanceof Error?o(b.message):o("An error occurred during sign up")}finally{f(!1)}};return c?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-24 mx-auto"})}),l.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:l.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),l.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent a confirmation email to ",l.jsx("strong",{children:e}),". Please click the link in the email to verify your account."]}),l.jsx(gt,{to:"/login",className:"inline-block px-6 py-2 bg-[#a3cf08] text-[#132d24] font-semibold rounded-lg hover:bg-[#8fb507] transition-colors",children:"Go to Login"})]})})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-24 mx-auto"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),l.jsx("p",{className:"text-gray-600",children:"Join TenniTrack to manage your tennis data"})]}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:s}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{id:"fullName",type:"text",required:!0,value:i,onChange:g=>a(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#a3cf08] focus:border-transparent",placeholder:"John Doe"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:g=>t(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#a3cf08] focus:border-transparent",placeholder:"you@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{id:"password",type:"password",required:!0,value:r,onChange:g=>n(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#a3cf08] focus:border-transparent",placeholder:"",minLength:6}),l.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum 6 characters"})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-4 bg-[#a3cf08] text-[#132d24] font-semibold rounded-lg hover:bg-[#8fb507] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating Account...":"Sign Up"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",l.jsx(gt,{to:"/login",className:"text-[#a3cf08] hover:text-[#8fb507] font-semibold",children:"Log in"})]})})]})]})})}function UF(){const[e,t]=O.useState(""),[r,n]=O.useState(""),[i,a]=O.useState(""),[s,o]=O.useState(!1),{signIn:c,user:u,teamMembership:d,loading:f}=Ls(),h=fn();O.useEffect(()=>{!f&&u&&((d==null?void 0:d.status)==="approved"?h("/dashboard",{replace:!0}):h("/choose-team",{replace:!0}))},[u,d,f,h]);const p=async v=>{v.preventDefault(),a(""),o(!0);try{console.log("[LoginPage] Attempting sign in..."),await c(e,r),console.log("[LoginPage] Sign in successful, auth state will handle navigation")}catch(y){console.error("[LoginPage] Login error:",y),y instanceof Error?y.message.includes("Email not confirmed")?a("Please verify your email address before logging in."):a(y.message):a("An error occurred during login")}finally{o(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-24 mx-auto"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to your TenniTrack account"})]}),l.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:v=>t(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#a3cf08] focus:border-transparent",placeholder:"you@example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{id:"password",type:"password",required:!0,value:r,onChange:v=>n(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#a3cf08] focus:border-transparent",placeholder:""})]}),l.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 px-4 bg-[#a3cf08] text-[#132d24] font-semibold rounded-lg hover:bg-[#8fb507] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing In...":"Sign In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",l.jsx(gt,{to:"/signup",className:"text-[#a3cf08] hover:text-[#8fb507] font-semibold",children:"Sign up"})]})})]})]})})}function zF(){const[e,t]=O.useState("select"),[r,n]=O.useState([]),[i,a]=O.useState(""),[s,o]=O.useState(""),[c,u]=O.useState(""),[d,f]=O.useState(!1),[h,p]=O.useState(!1),{user:v,teamMembership:y,refreshMembership:x,loading:m}=Ls(),g=fn();O.useEffect(()=>{!m&&y&&(y.status==="approved"?g("/dashboard",{replace:!0}):y.status==="pending"&&g("/waiting-for-approval",{replace:!0}))},[y,m,g]),O.useEffect(()=>{e==="join"&&b()},[e]);const b=async()=>{p(!0);try{const j=await kD();n(j)}catch(j){console.error("Error loading teams:",j),u("Failed to load teams")}finally{p(!1)}},_=async j=>{if(j.preventDefault(),!!v){u(""),f(!0);try{await PD(i,v.id),await x(),g("/dashboard")}catch(S){S instanceof Error?S.message.includes("already have")?u("You already have a team membership. Each user can only belong to one team."):u(S.message):u("Failed to create team")}finally{f(!1)}}},w=async j=>{if(j.preventDefault(),!(!v||!s)){u(""),f(!0);try{await ED(s,v.id),g("/waiting-for-approval")}catch(S){S instanceof Error?u(S.message):u("Failed to join team")}finally{f(!1)}}};return m?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-white mb-4"}),l.jsx("p",{className:"text-white text-sm",children:"Loading..."})]})}):e==="select"?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"max-w-2xl w-full",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-24 mx-auto"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Choose Your Team"}),l.jsx("p",{className:"text-gray-600",children:"Create a new team or join an existing one"})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx("button",{onClick:()=>t("create"),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-[#a3cf08] hover:bg-gray-50 transition-all group",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#a3cf08] rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:l.jsx("svg",{className:"w-8 h-8 text-[#132d24]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Create New Team"}),l.jsx("p",{className:"text-gray-600",children:"Start your own team and invite others"})]})}),l.jsx("button",{onClick:()=>t("join"),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-[#a3cf08] hover:bg-gray-50 transition-all group",children:l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-[#a3cf08] rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:l.jsx("svg",{className:"w-8 h-8 text-[#132d24]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Join Existing Team"}),l.jsx("p",{className:"text-gray-600",children:"Request to join a team"})]})})]})]})]})}):e==="create"?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-24 mx-auto"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsxs("button",{onClick:()=>t("select"),className:"mb-6 text-gray-600 hover:text-gray-900 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back"]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Team"}),l.jsx("p",{className:"text-gray-600",children:"You'll be the team admin"})]}),l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[c&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:c}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"teamName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Name"}),l.jsx("input",{id:"teamName",type:"text",required:!0,value:i,onChange:j=>a(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#a3cf08] focus:border-transparent",placeholder:"Tennis Academy"})]}),l.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 px-4 bg-[#a3cf08] text-[#132d24] font-semibold rounded-lg hover:bg-[#8fb507] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating Team...":"Create Team"})]})]})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"max-w-2xl w-full",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-24 mx-auto"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8",children:[l.jsxs("button",{onClick:()=>t("select"),className:"mb-6 text-gray-600 hover:text-gray-900 flex items-center",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back"]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join a Team"}),l.jsx("p",{className:"text-gray-600",children:"Select a team to request membership"})]}),c&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:c}),h?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#a3cf08]"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading teams..."})]}):r.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-600",children:"No teams available. Create your own team instead!"})}):l.jsxs("form",{onSubmit:w,className:"space-y-6",children:[l.jsx("div",{className:"space-y-3",children:r.map(j=>l.jsxs("label",{className:`block p-4 border-2 rounded-lg cursor-pointer transition-all ${s===j.id?"border-[#a3cf08] bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("input",{type:"radio",name:"team",value:j.id,checked:s===j.id,onChange:S=>o(S.target.value),className:"sr-only"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:j.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:["Created ",new Date(j.created_at).toLocaleDateString()]})]}),s===j.id&&l.jsx("svg",{className:"w-6 h-6 text-[#a3cf08]",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})]},j.id))}),l.jsx("button",{type:"submit",disabled:d||!s,className:"w-full py-3 px-4 bg-[#a3cf08] text-[#132d24] font-semibold rounded-lg hover:bg-[#8fb507] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Sending Request...":"Request to Join"})]})]})]})})}function WF(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[i,a]=O.useState(!0),[s,o]=O.useState(""),[c,u]=O.useState(!1),{user:d,refreshMembership:f,teamMembership:h}=Ls(),p=fn();O.useEffect(()=>{v();const x=setInterval(async()=>{await f()},5e3);return()=>clearInterval(x)},[]),O.useEffect(()=>{(h==null?void 0:h.status)==="approved"&&(console.log("[WaitingForApprovalPage] Membership approved, redirecting to dashboard"),p("/dashboard"))},[h,p]),O.useEffect(()=>{if(i){const x=setTimeout(()=>{console.warn("[WaitingForApprovalPage] Loading timeout reached"),u(!0),a(!1)},1e4);return()=>clearTimeout(x)}},[i]);const v=async()=>{if(d)try{console.log("[WaitingForApprovalPage] Loading pending membership...");const x=await ub(d.id);if(x){n(x);const m=await $D(x.team_id);t(m),console.log("[WaitingForApprovalPage] Pending membership loaded")}else console.log("[WaitingForApprovalPage] No pending membership found"),p("/choose-team")}catch(x){console.error("[WaitingForApprovalPage] Error loading pending membership:",x),o("Failed to load membership information. Please try again.")}finally{a(!1)}},y=async()=>{if(r)try{console.log("[WaitingForApprovalPage] Canceling membership request..."),await RD(r.id),p("/choose-team")}catch(x){console.error("[WaitingForApprovalPage] Error canceling request:",x),o("Failed to cancel request. Please try again.")}};return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-white mb-4"}),l.jsx("p",{className:"text-white text-sm",children:"Loading..."})]})}):c||s?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-24 mx-auto"})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-4",children:l.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading"}),l.jsx("p",{className:"text-gray-600 mb-6",children:s||"Failed to load membership information. Please try again."}),l.jsx("button",{onClick:()=>{o(""),u(!1),a(!0),v()},className:"w-full py-3 px-4 bg-[#a3cf08] text-[#132d24] font-semibold rounded-lg hover:bg-[#8fb507] transition-colors",children:"Retry"})]})]})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#132d24] to-[#1a3d32] px-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsx("img",{src:"/logo.png",alt:"TenniTrack",className:"h-24 mx-auto"})}),l.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-yellow-100 mb-4",children:l.jsx("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Waiting for Approval"}),e&&l.jsxs("p",{className:"text-gray-600 mb-6",children:["Your request to join ",l.jsx("strong",{children:e.name})," is pending approval from the team admin."]}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:l.jsx("p",{className:"text-sm text-gray-600",children:"You'll be automatically redirected once your request is approved. You can also refresh this page to check the status."})}),l.jsx("button",{onClick:y,className:"w-full py-2 px-4 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel Request"})]})})]})})}function qF(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[i,a]=O.useState(""),{teamMembership:s}=Ls();O.useEffect(()=>{o()},[s]);const o=async()=>{if(!s||s.role!=="admin"){n(!1);return}try{const d=await AD(s.team_id);t(d)}catch(d){console.error("Error loading pending requests:",d),a("Failed to load pending requests")}finally{n(!1)}},c=async d=>{try{a(""),await TD(d),await o()}catch(f){console.error("Error approving member:",f);const h=(f==null?void 0:f.message)||"Failed to approve member",p=f!=null&&f.code?` (Code: ${f.code})`:"",v=f!=null&&f.details?`
Details: ${f.details}`:"",y=f!=null&&f.hint?`
Hint: ${f.hint}`:"";a(`${h}${p}${v}${y}`)}},u=async d=>{try{await CD(d),await o()}catch(f){console.error("Error rejecting member:",f),a("Failed to reject member")}};return!s||s.role!=="admin"?l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded-lg",children:"You must be a team admin to access this page."})}):r?l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[#a3cf08]"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Loading pending requests..."})]})}):l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Team Management"}),l.jsx("p",{className:"text-gray-600",children:"Approve or reject membership requests"})]}),i&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 whitespace-pre-wrap",children:i}),e.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[l.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No Pending Requests"}),l.jsx("p",{className:"text-gray-600",children:"There are no membership requests waiting for approval."})]}):l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.jsx("div",{className:"divide-y divide-gray-200",children:e.map(d=>{var f;return l.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((f=d.profiles)==null?void 0:f.full_name)||"Unknown User"}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Requested ",new Date(d.created_at).toLocaleDateString()," at"," ",new Date(d.created_at).toLocaleTimeString()]})]}),l.jsxs("div",{className:"flex gap-3 ml-4",children:[l.jsx("button",{onClick:()=>c(d.id),className:"px-4 py-2 bg-[#a3cf08] text-[#132d24] font-semibold rounded-lg hover:bg-[#8fb507] transition-colors",children:"Approve"}),l.jsx("button",{onClick:()=>u(d.id),className:"px-4 py-2 bg-red-100 text-red-700 font-semibold rounded-lg hover:bg-red-200 transition-colors",children:"Reject"})]})]})},d.id)})})})]})}var Ll=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},VF={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Zi,ex,uP,HF=(uP=class{constructor(){ce(this,Zi,VF);ce(this,ex,!1)}setTimeoutProvider(e){re(this,Zi,e)}setTimeout(e,t){return C(this,Zi).setTimeout(e,t)}clearTimeout(e){C(this,Zi).clearTimeout(e)}setInterval(e,t){return C(this,Zi).setInterval(e,t)}clearInterval(e){C(this,Zi).clearInterval(e)}},Zi=new WeakMap,ex=new WeakMap,uP),es=new HF;function KF(e){setTimeout(e,0)}var Os=typeof window>"u"||"Deno"in globalThis;function dr(){}function GF(e,t){return typeof e=="function"?e(t):e}function ly(e){return typeof e=="number"&&e>=0&&e!==1/0}function s2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wa(e,t){return typeof e=="function"?e(t):e}function Jr(e,t){return typeof e=="function"?e(t):e}function Cj(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==hb(s,t.options))return!1}else if(!pu(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function $j(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ps(t.options.mutationKey)!==Ps(a))return!1}else if(!pu(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function hb(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ps)(e)}function Ps(e){return JSON.stringify(e,(t,r)=>cy(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function pu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>pu(e[r],t[r])):!1}var QF=Object.prototype.hasOwnProperty;function o2(e,t){if(e===t)return e;const r=Rj(e)&&Rj(t);if(!r&&!(cy(e)&&cy(t)))return t;const i=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),s=a.length,o=r?new Array(s):{};let c=0;for(let u=0;u<s;u++){const d=r?u:a[u],f=e[d],h=t[d];if(f===h){o[d]=f,(r?u<i:QF.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const p=o2(f,h);o[d]=p,p===f&&c++}return i===s&&c===i?e:o}function rh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Rj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cy(e){if(!Mj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Mj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mj(e){return Object.prototype.toString.call(e)==="[object Object]"}function YF(e){return new Promise(t=>{es.setTimeout(t,e)})}function uy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?o2(e,t):t}function XF(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function JF(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var pb=Symbol();function l2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function c2(e,t){return typeof e=="function"?e(...t):!!e}var ss,ea,Ro,dP,ZF=(dP=class extends Ll{constructor(){super();ce(this,ss);ce(this,ea);ce(this,Ro);re(this,Ro,t=>{if(!Os&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,ea)||this.setEventListener(C(this,Ro))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,ea))==null||t.call(this),re(this,ea,void 0))}setEventListener(t){var r;re(this,Ro,t),(r=C(this,ea))==null||r.call(this),re(this,ea,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,ss)!==t&&(re(this,ss,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,ss)=="boolean"?C(this,ss):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ss=new WeakMap,ea=new WeakMap,Ro=new WeakMap,dP),mb=new ZF;function dy(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var e6=KF;function t6(){let e=[],t=0,r=o=>{o()},n=o=>{o()},i=e6;const a=o=>{t?e.push(o):i(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Ct=t6(),Mo,ta,Io,fP,r6=(fP=class extends Ll{constructor(){super();ce(this,Mo,!0);ce(this,ta);ce(this,Io);re(this,Io,t=>{if(!Os&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,ta)||this.setEventListener(C(this,Io))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,ta))==null||t.call(this),re(this,ta,void 0))}setEventListener(t){var r;re(this,Io,t),(r=C(this,ta))==null||r.call(this),re(this,ta,t(this.setOnline.bind(this)))}setOnline(t){C(this,Mo)!==t&&(re(this,Mo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,Mo)}},Mo=new WeakMap,ta=new WeakMap,Io=new WeakMap,fP),nh=new r6;function n6(e){return Math.min(1e3*2**e,3e4)}function u2(e){return(e??"online")==="online"?nh.isOnline():!0}var fy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function d2(e){let t=!1,r=0,n;const i=dy(),a=()=>i.status!=="pending",s=y=>{var x;if(!a()){const m=new fy(y);h(m),(x=e.onCancel)==null||x.call(e,m)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>mb.isFocused()&&(e.networkMode==="always"||nh.isOnline())&&e.canRun(),d=()=>u2(e.networkMode)&&e.canRun(),f=y=>{a()||(n==null||n(),i.resolve(y))},h=y=>{a()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var x;n=m=>{(a()||u())&&y(m)},(x=e.onPause)==null||x.call(e)}).then(()=>{var y;n=void 0,a()||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(a())return;let y;const x=r===0?e.initialPromise:void 0;try{y=x??e.fn()}catch(m){y=Promise.reject(m)}Promise.resolve(y).then(f).catch(m=>{var j;if(a())return;const g=e.retry??(Os?0:3),b=e.retryDelay??n6,_=typeof b=="function"?b(r,m):b,w=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,m);if(t||!w){h(m);return}r++,(j=e.onFail)==null||j.call(e,r,m),YF(_).then(()=>u()?void 0:p()).then(()=>{t?h(m):v()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),i)}}var os,hP,f2=(hP=class{constructor(){ce(this,os)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ly(this.gcTime)&&re(this,os,es.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Os?1/0:5*60*1e3))}clearGcTimeout(){C(this,os)&&(es.clearTimeout(C(this,os)),re(this,os,void 0))}},os=new WeakMap,hP),ls,Lo,Xr,cs,Lt,Yu,us,bn,ai,pP,i6=(pP=class extends f2{constructor(t){super();ce(this,bn);ce(this,ls);ce(this,Lo);ce(this,Xr);ce(this,cs);ce(this,Lt);ce(this,Yu);ce(this,us);re(this,us,!1),re(this,Yu,t.defaultOptions),this.setOptions(t.options),this.observers=[],re(this,cs,t.client),re(this,Xr,C(this,cs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,re(this,ls,Lj(this.options)),this.state=t.state??C(this,ls),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Lt))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,Yu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Lj(this.options);r.data!==void 0&&(this.setState(Ij(r.data,r.dataUpdatedAt)),re(this,ls,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Xr).remove(this)}setData(t,r){const n=uy(this.state.data,t,this.options);return be(this,bn,ai).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){be(this,bn,ai).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=C(this,Lt))==null?void 0:n.promise;return(i=C(this,Lt))==null||i.cancel(t),r?r.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,ls))}isActive(){return this.observers.some(t=>Jr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>wa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!s2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Lt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Lt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Xr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Lt)&&(C(this,us)?C(this,Lt).cancel({revert:!0}):C(this,Lt).cancelRetry()),this.scheduleGc()),C(this,Xr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,bn,ai).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,v,y,x,m,g,b;if(this.state.fetchStatus!=="idle"&&((c=C(this,Lt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Lt))return C(this,Lt).continueRetry(),C(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(w=>w.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(re(this,us,!0),n.signal)})},a=()=>{const _=l2(this.options,r),j=(()=>{const S={client:C(this,cs),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return re(this,us,!1),this.options.persister?this.options.persister(_,j,this):_(j)},o=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,cs),state:this.state,fetchFn:a};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(o,this),re(this,Lo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&be(this,bn,ai).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),re(this,Lt,d2({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof fy&&_.revert&&this.setState({...C(this,Lo),fetchStatus:"idle"}),n.abort()},onFail:(_,w)=>{be(this,bn,ai).call(this,{type:"failed",failureCount:_,error:w})},onPause:()=>{be(this,bn,ai).call(this,{type:"pause"})},onContinue:()=>{be(this,bn,ai).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await C(this,Lt).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=C(this,Xr).config).onSuccess)==null||p.call(h,_,this),(y=(v=C(this,Xr).config).onSettled)==null||y.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof fy){if(_.silent)return C(this,Lt).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw be(this,bn,ai).call(this,{type:"error",error:_}),(m=(x=C(this,Xr).config).onError)==null||m.call(x,_,this),(b=(g=C(this,Xr).config).onSettled)==null||b.call(g,this.state.data,_,this),_}finally{this.scheduleGc()}}},ls=new WeakMap,Lo=new WeakMap,Xr=new WeakMap,cs=new WeakMap,Lt=new WeakMap,Yu=new WeakMap,us=new WeakMap,bn=new WeakSet,ai=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...h2(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...Ij(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,Lo,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ct.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,Xr).notify({query:this,type:"updated",action:t})})},pP);function h2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ij(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Lj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var xr,Oe,Xu,lr,ds,Do,ui,ra,Ju,Fo,Bo,fs,hs,na,Uo,$e,Nc,hy,py,my,gy,vy,yy,xy,p2,mP,a6=(mP=class extends Ll{constructor(t,r){super();ce(this,$e);ce(this,xr);ce(this,Oe);ce(this,Xu);ce(this,lr);ce(this,ds);ce(this,Do);ce(this,ui);ce(this,ra);ce(this,Ju);ce(this,Fo);ce(this,Bo);ce(this,fs);ce(this,hs);ce(this,na);ce(this,Uo,new Set);this.options=r,re(this,xr,t),re(this,ra,null),re(this,ui,dy()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Oe).addObserver(this),Dj(C(this,Oe),this.options)?be(this,$e,Nc).call(this):this.updateResult(),be(this,$e,gy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return by(C(this,Oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return by(C(this,Oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,$e,vy).call(this),be(this,$e,yy).call(this),C(this,Oe).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,Oe);if(this.options=C(this,xr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jr(this.options.enabled,C(this,Oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,$e,xy).call(this),C(this,Oe).setOptions(this.options),r._defaulted&&!rh(this.options,r)&&C(this,xr).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Oe),observer:this});const i=this.hasListeners();i&&Fj(C(this,Oe),n,this.options,r)&&be(this,$e,Nc).call(this),this.updateResult(),i&&(C(this,Oe)!==n||Jr(this.options.enabled,C(this,Oe))!==Jr(r.enabled,C(this,Oe))||wa(this.options.staleTime,C(this,Oe))!==wa(r.staleTime,C(this,Oe)))&&be(this,$e,hy).call(this);const a=be(this,$e,py).call(this);i&&(C(this,Oe)!==n||Jr(this.options.enabled,C(this,Oe))!==Jr(r.enabled,C(this,Oe))||a!==C(this,na))&&be(this,$e,my).call(this,a)}getOptimisticResult(t){const r=C(this,xr).getQueryCache().build(C(this,xr),t),n=this.createResult(r,t);return o6(this,n)&&(re(this,lr,n),re(this,Do,this.options),re(this,ds,C(this,Oe).state)),n}getCurrentResult(){return C(this,lr)}trackResult(t,r){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,ui).status==="pending"&&C(this,ui).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){C(this,Uo).add(t)}getCurrentQuery(){return C(this,Oe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,xr).defaultQueryOptions(t),n=C(this,xr).getQueryCache().build(C(this,xr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return be(this,$e,Nc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,lr)))}createResult(t,r){var P;const n=C(this,Oe),i=this.options,a=C(this,lr),s=C(this,ds),o=C(this,Do),u=t!==n?t.state:C(this,Xu),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const A=this.hasListeners(),k=!A&&Dj(t,r),T=A&&Fj(t,n,r,i);(k||T)&&(f={...f,...h2(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:x}=f;p=f.data;let m=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let A;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(A=a.data,m=!0):A=typeof r.placeholderData=="function"?r.placeholderData((P=C(this,Bo))==null?void 0:P.state.data,C(this,Bo)):r.placeholderData,A!==void 0&&(x="success",p=uy(a==null?void 0:a.data,A,r),h=!0)}if(r.select&&p!==void 0&&!m)if(a&&p===(s==null?void 0:s.data)&&r.select===C(this,Ju))p=C(this,Fo);else try{re(this,Ju,r.select),p=r.select(p),p=uy(a==null?void 0:a.data,p,r),re(this,Fo,p),re(this,ra,null)}catch(A){re(this,ra,A)}C(this,ra)&&(v=C(this,ra),p=C(this,Fo),y=Date.now(),x="error");const g=f.fetchStatus==="fetching",b=x==="pending",_=x==="error",w=b&&g,j=p!==void 0,N={status:x,fetchStatus:f.fetchStatus,isPending:b,isSuccess:x==="success",isError:_,isInitialLoading:w,isLoading:w,data:p,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:_&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&j,isStale:gb(t,r),refetch:this.refetch,promise:C(this,ui),isEnabled:Jr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=M=>{N.status==="error"?M.reject(N.error):N.data!==void 0&&M.resolve(N.data)},k=()=>{const M=re(this,ui,N.promise=dy());A(M)},T=C(this,ui);switch(T.status){case"pending":t.queryHash===n.queryHash&&A(T);break;case"fulfilled":(N.status==="error"||N.data!==T.value)&&k();break;case"rejected":(N.status!=="error"||N.error!==T.reason)&&k();break}}return N}updateResult(){const t=C(this,lr),r=this.createResult(C(this,Oe),this.options);if(re(this,ds,C(this,Oe).state),re(this,Do,this.options),C(this,ds).data!==void 0&&re(this,Bo,C(this,Oe)),rh(r,t))return;re(this,lr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!C(this,Uo).size)return!0;const s=new Set(a??C(this,Uo));return this.options.throwOnError&&s.add("error"),Object.keys(C(this,lr)).some(o=>{const c=o;return C(this,lr)[c]!==t[c]&&s.has(c)})};be(this,$e,p2).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,$e,gy).call(this)}},xr=new WeakMap,Oe=new WeakMap,Xu=new WeakMap,lr=new WeakMap,ds=new WeakMap,Do=new WeakMap,ui=new WeakMap,ra=new WeakMap,Ju=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,fs=new WeakMap,hs=new WeakMap,na=new WeakMap,Uo=new WeakMap,$e=new WeakSet,Nc=function(t){be(this,$e,xy).call(this);let r=C(this,Oe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(dr)),r},hy=function(){be(this,$e,vy).call(this);const t=wa(this.options.staleTime,C(this,Oe));if(Os||C(this,lr).isStale||!ly(t))return;const n=s2(C(this,lr).dataUpdatedAt,t)+1;re(this,fs,es.setTimeout(()=>{C(this,lr).isStale||this.updateResult()},n))},py=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Oe)):this.options.refetchInterval)??!1},my=function(t){be(this,$e,yy).call(this),re(this,na,t),!(Os||Jr(this.options.enabled,C(this,Oe))===!1||!ly(C(this,na))||C(this,na)===0)&&re(this,hs,es.setInterval(()=>{(this.options.refetchIntervalInBackground||mb.isFocused())&&be(this,$e,Nc).call(this)},C(this,na)))},gy=function(){be(this,$e,hy).call(this),be(this,$e,my).call(this,be(this,$e,py).call(this))},vy=function(){C(this,fs)&&(es.clearTimeout(C(this,fs)),re(this,fs,void 0))},yy=function(){C(this,hs)&&(es.clearInterval(C(this,hs)),re(this,hs,void 0))},xy=function(){const t=C(this,xr).getQueryCache().build(C(this,xr),this.options);if(t===C(this,Oe))return;const r=C(this,Oe);re(this,Oe,t),re(this,Xu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},p2=function(t){Ct.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,lr))}),C(this,xr).getQueryCache().notify({query:C(this,Oe),type:"observerResultsUpdated"})})},mP);function s6(e,t){return Jr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Dj(e,t){return s6(e,t)||e.state.data!==void 0&&by(e,t,t.refetchOnMount)}function by(e,t,r){if(Jr(t.enabled,e)!==!1&&wa(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&gb(e,t)}return!1}function Fj(e,t,r,n){return(e!==t||Jr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&gb(e,r)}function gb(e,t){return Jr(t.enabled,e)!==!1&&e.isStaleByTime(wa(t.staleTime,e))}function o6(e,t){return!rh(e.getCurrentResult(),t)}function Bj(e){return{onFetch:(t,r)=>{var d,f,h,p,v;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],s=((v=t.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},m=l2(t.options,t.fetchOptions),g=async(b,_,w)=>{if(y)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:_,direction:w?"backward":"forward",meta:t.options.meta};return x(k),k})(),N=await m(S),{maxPages:P}=t.options,A=w?JF:XF;return{pages:A(b.pages,N,P),pageParams:A(b.pageParams,_,P)}};if(i&&a.length){const b=i==="backward",_=b?l6:Uj,w={pages:a,pageParams:s},j=_(n,w);o=await g(w,j,b)}else{const b=e??a.length;do{const _=c===0?s[0]??n.initialPageParam:Uj(n,o);if(c>0&&_==null)break;o=await g(o,_),c++}while(c<b)}return o};t.options.persister?t.fetchFn=()=>{var y,x;return(x=(y=t.options).persister)==null?void 0:x.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Uj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function l6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Zu,Dn,cr,ps,Fn,qi,gP,c6=(gP=class extends f2{constructor(t){super();ce(this,Fn);ce(this,Zu);ce(this,Dn);ce(this,cr);ce(this,ps);re(this,Zu,t.client),this.mutationId=t.mutationId,re(this,cr,t.mutationCache),re(this,Dn,[]),this.state=t.state||m2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Dn).includes(t)||(C(this,Dn).push(t),this.clearGcTimeout(),C(this,cr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){re(this,Dn,C(this,Dn).filter(r=>r!==t)),this.scheduleGc(),C(this,cr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Dn).length||(this.state.status==="pending"?this.scheduleGc():C(this,cr).remove(this))}continue(){var t;return((t=C(this,ps))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,c,u,d,f,h,p,v,y,x,m,g,b,_,w,j,S,N,P;const r=()=>{be(this,Fn,qi).call(this,{type:"continue"})},n={client:C(this,Zu),meta:this.options.meta,mutationKey:this.options.mutationKey};re(this,ps,d2({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{be(this,Fn,qi).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{be(this,Fn,qi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,cr).canRun(this)}));const i=this.state.status==="pending",a=!C(this,ps).canStart();try{if(i)r();else{be(this,Fn,qi).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=C(this,cr).config).onMutate)==null?void 0:o.call(s,t,this,n));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));k!==this.state.context&&be(this,Fn,qi).call(this,{type:"pending",context:k,variables:t,isPaused:a})}const A=await C(this,ps).start();return await((f=(d=C(this,cr).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,A,t,this.state.context,n)),await((y=(v=C(this,cr).config).onSettled)==null?void 0:y.call(v,A,null,this.state.variables,this.state.context,this,n)),await((m=(x=this.options).onSettled)==null?void 0:m.call(x,A,null,t,this.state.context,n)),be(this,Fn,qi).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(g=C(this,cr).config).onError)==null?void 0:b.call(g,A,t,this.state.context,this,n)),await((w=(_=this.options).onError)==null?void 0:w.call(_,A,t,this.state.context,n)),await((S=(j=C(this,cr).config).onSettled)==null?void 0:S.call(j,void 0,A,this.state.variables,this.state.context,this,n)),await((P=(N=this.options).onSettled)==null?void 0:P.call(N,void 0,A,t,this.state.context,n)),A}finally{be(this,Fn,qi).call(this,{type:"error",error:A})}}finally{C(this,cr).runNext(this)}}},Zu=new WeakMap,Dn=new WeakMap,cr=new WeakMap,ps=new WeakMap,Fn=new WeakSet,qi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ct.batch(()=>{C(this,Dn).forEach(n=>{n.onMutationUpdate(t)}),C(this,cr).notify({mutation:this,type:"updated",action:t})})},gP);function m2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var di,wn,ed,vP,u6=(vP=class extends Ll{constructor(t={}){super();ce(this,di);ce(this,wn);ce(this,ed);this.config=t,re(this,di,new Set),re(this,wn,new Map),re(this,ed,0)}build(t,r,n){const i=new c6({client:t,mutationCache:this,mutationId:++bd(this,ed)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){C(this,di).add(t);const r=Gd(t);if(typeof r=="string"){const n=C(this,wn).get(r);n?n.push(t):C(this,wn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,di).delete(t)){const r=Gd(t);if(typeof r=="string"){const n=C(this,wn).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&C(this,wn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Gd(t);if(typeof r=="string"){const n=C(this,wn).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Gd(t);if(typeof r=="string"){const i=(n=C(this,wn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ct.batch(()=>{C(this,di).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,di).clear(),C(this,wn).clear()})}getAll(){return Array.from(C(this,di))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$j(r,n))}findAll(t={}){return this.getAll().filter(r=>$j(t,r))}notify(t){Ct.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ct.batch(()=>Promise.all(t.map(r=>r.continue().catch(dr))))}},di=new WeakMap,wn=new WeakMap,ed=new WeakMap,vP);function Gd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var fi,ia,br,hi,Ni,_f,wy,yP,d6=(yP=class extends Ll{constructor(r,n){super();ce(this,Ni);ce(this,fi);ce(this,ia);ce(this,br);ce(this,hi);re(this,fi,r),this.setOptions(n),this.bindMethods(),be(this,Ni,_f).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=C(this,fi).defaultMutationOptions(r),rh(this.options,n)||C(this,fi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,br),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ps(n.mutationKey)!==Ps(this.options.mutationKey)?this.reset():((i=C(this,br))==null?void 0:i.state.status)==="pending"&&C(this,br).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,br))==null||r.removeObserver(this)}onMutationUpdate(r){be(this,Ni,_f).call(this),be(this,Ni,wy).call(this,r)}getCurrentResult(){return C(this,ia)}reset(){var r;(r=C(this,br))==null||r.removeObserver(this),re(this,br,void 0),be(this,Ni,_f).call(this),be(this,Ni,wy).call(this)}mutate(r,n){var i;return re(this,hi,n),(i=C(this,br))==null||i.removeObserver(this),re(this,br,C(this,fi).getMutationCache().build(C(this,fi),this.options)),C(this,br).addObserver(this),C(this,br).execute(r)}},fi=new WeakMap,ia=new WeakMap,br=new WeakMap,hi=new WeakMap,Ni=new WeakSet,_f=function(){var n;const r=((n=C(this,br))==null?void 0:n.state)??m2();re(this,ia,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},wy=function(r){Ct.batch(()=>{var n,i,a,s,o,c,u,d;if(C(this,hi)&&this.hasListeners()){const f=C(this,ia).variables,h=C(this,ia).context,p={client:C(this,fi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=C(this,hi)).onSuccess)==null||i.call(n,r.data,f,h,p),(s=(a=C(this,hi)).onSettled)==null||s.call(a,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((c=(o=C(this,hi)).onError)==null||c.call(o,r.error,f,h,p),(d=(u=C(this,hi)).onSettled)==null||d.call(u,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(C(this,ia))})})},yP),Bn,xP,f6=(xP=class extends Ll{constructor(t={}){super();ce(this,Bn);this.config=t,re(this,Bn,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??hb(i,r);let s=this.get(a);return s||(s=new i6({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){C(this,Bn).has(t.queryHash)||(C(this,Bn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,Bn).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,Bn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,Bn).get(t)}getAll(){return[...C(this,Bn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Cj(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Cj(t,n)):r}notify(t){Ct.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bn=new WeakMap,xP),ft,aa,sa,zo,Wo,oa,qo,Vo,bP,h6=(bP=class{constructor(e={}){ce(this,ft);ce(this,aa);ce(this,sa);ce(this,zo);ce(this,Wo);ce(this,oa);ce(this,qo);ce(this,Vo);re(this,ft,e.queryCache||new f6),re(this,aa,e.mutationCache||new u6),re(this,sa,e.defaultOptions||{}),re(this,zo,new Map),re(this,Wo,new Map),re(this,oa,0)}mount(){bd(this,oa)._++,C(this,oa)===1&&(re(this,qo,mb.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,ft).onFocus())})),re(this,Vo,nh.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,ft).onOnline())})))}unmount(){var e,t;bd(this,oa)._--,C(this,oa)===0&&((e=C(this,qo))==null||e.call(this),re(this,qo,void 0),(t=C(this,Vo))==null||t.call(this),re(this,Vo,void 0))}isFetching(e){return C(this,ft).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,aa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,ft).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,ft).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(wa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,ft).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=C(this,ft).get(n.queryHash),a=i==null?void 0:i.state.data,s=GF(t,a);if(s!==void 0)return C(this,ft).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Ct.batch(()=>C(this,ft).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,ft).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,ft);Ct.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,ft);return Ct.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ct.batch(()=>C(this,ft).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(dr).catch(dr)}invalidateQueries(e,t={}){return Ct.batch(()=>(C(this,ft).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ct.batch(()=>C(this,ft).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(dr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,ft).build(this,t);return r.isStaleByTime(wa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dr).catch(dr)}fetchInfiniteQuery(e){return e.behavior=Bj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dr).catch(dr)}ensureInfiniteQueryData(e){return e.behavior=Bj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nh.isOnline()?C(this,aa).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,ft)}getMutationCache(){return C(this,aa)}getDefaultOptions(){return C(this,sa)}setDefaultOptions(e){re(this,sa,e)}setQueryDefaults(e,t){C(this,zo).set(Ps(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,zo).values()],r={};return t.forEach(n=>{pu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Wo).set(Ps(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Wo).values()],r={};return t.forEach(n=>{pu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,sa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=hb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===pb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,sa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,ft).clear(),C(this,aa).clear()}},ft=new WeakMap,aa=new WeakMap,sa=new WeakMap,zo=new WeakMap,Wo=new WeakMap,oa=new WeakMap,qo=new WeakMap,Vo=new WeakMap,bP),g2=O.createContext(void 0),Xt=e=>{const t=O.useContext(g2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},p6=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(g2.Provider,{value:e,children:t})),v2=O.createContext(!1),m6=()=>O.useContext(v2);v2.Provider;function g6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var v6=O.createContext(g6()),y6=()=>O.useContext(v6),x6=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},b6=e=>{O.useEffect(()=>{e.clearReset()},[e])},w6=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||c2(r,[e.error,n])),_6=e=>{if(e.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},j6=(e,t)=>e.isLoading&&e.isFetching&&!t,S6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,zj=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function N6(e,t,r){var f,h,p,v,y;const n=m6(),i=y6(),a=Xt(),s=a.defaultQueryOptions(e);(h=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,s),s._optimisticResults=n?"isRestoring":"optimistic",_6(s),x6(s,i),b6(i);const o=!a.getQueryCache().get(s.queryHash),[c]=O.useState(()=>new t(a,s)),u=c.getOptimisticResult(s),d=!n&&e.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(x=>{const m=d?c.subscribe(Ct.batchCalls(x)):dr;return c.updateResult(),m},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),O.useEffect(()=>{c.setOptions(s)},[s,c]),S6(s,u))throw zj(s,c,i);if(w6({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:a.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((v=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,s,u),s.experimental_prefetchInRender&&!Os&&j6(u,n)){const x=o?zj(s,c,i):(y=a.getQueryCache().get(s.queryHash))==null?void 0:y.promise;x==null||x.catch(dr).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function $n(e,t){return N6(e,a6)}function Wt(e,t){const r=Xt(),[n]=O.useState(()=>new d6(r,e));O.useEffect(()=>{n.setOptions(e)},[n,e]);const i=O.useSyncExternalStore(O.useCallback(s=>n.subscribe(Ct.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=O.useCallback((s,o)=>{n.mutate(s,o).catch(dr)},[n]);if(i.error&&c2(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function Xn(){const{teamMembership:e}=O.useContext(cb);return(e==null?void 0:e.team_id)||null}function O6(){const e=Xn();return $n({queryKey:["dashboardStats",e],queryFn:async()=>{if(!e)throw new Error("No team membership found");const{data:t,error:r}=await Y.from("players").select("player_id, full_name, avatar_url").eq("team_id",e);if(r)throw r;const{data:n,error:i}=await Y.from("matches").select(`
                    *,
                    match_players (
                        *,
                        players:player_id (
                            full_name,
                            avatar_url
                        )
                    )
                `).eq("team_id",e).order("match_date",{ascending:!1});if(i)throw i;const a=n||[],s=t||[],o=new Date;o.setMonth(o.getMonth()-1);const c=s.filter(()=>!1).length,u=a.length,d=a.filter(g=>g.final_result==="win").length,f=a.filter(g=>g.final_result==="loss").length,h=u>0?d/u*100:0,p={singles:a.filter(g=>g.format==="singles").length,doubles:a.filter(g=>g.format==="doubles").length},v={};a.forEach(g=>{const b=g.surface||"Unknown";v[b]||(v[b]={total:0,wins:0,losses:0,winRate:0}),v[b].total++,g.final_result==="win"?v[b].wins++:g.final_result==="loss"&&v[b].losses++}),Object.keys(v).forEach(g=>{const b=v[g];b.winRate=b.total>0?b.wins/b.total*100:0});const y=new Map;a.forEach(g=>{var _;(((_=g.match_players)==null?void 0:_.filter(w=>w.is_tracked&&w.player_id))||[]).forEach(w=>{var S,N;if(!w.player_id)return;y.has(w.player_id)||y.set(w.player_id,{player_id:w.player_id,full_name:((S=w.players)==null?void 0:S.full_name)||w.display_name,avatar_url:((N=w.players)==null?void 0:N.avatar_url)||null,totalMatches:0,wins:0,losses:0});const j=y.get(w.player_id);j.totalMatches++,g.final_result==="win"?j.wins++:g.final_result==="loss"&&j.losses++})});const x=Array.from(y.values()).filter(g=>g.totalMatches>=3).map(g=>({...g,winRate:g.totalMatches>0?g.wins/g.totalMatches*100:0})).sort((g,b)=>b.winRate!==g.winRate?b.winRate-g.winRate:b.totalMatches-g.totalMatches).slice(0,5);return{totalPlayers:s.length,totalMatches:u,wins:d,losses:f,winRate:h,matchesByType:p,matchesBySurface:v,topPlayers:x,recentMatches:a.slice(0,10),newPlayersThisMonth:c}},enabled:!!e})}const Ae=O.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:bt("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Ae.displayName="Card";const Ke=O.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:bt("flex flex-col space-y-1.5 p-6",e),...t}));Ke.displayName="CardHeader";const Ge=O.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:bt("font-semibold leading-none tracking-tight",e),...t}));Ge.displayName="CardTitle";const P6=O.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:bt("text-sm text-muted-foreground",e),...t}));P6.displayName="CardDescription";const Te=O.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:bt("p-6 pt-0",e),...t}));Te.displayName="CardContent";const E6=O.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:bt("flex items-center p-6 pt-0",e),...t}));E6.displayName="CardFooter";function k6({totalPlayers:e,totalMatches:t,winRate:r,newPlayersThisMonth:n}){const i=[{title:"Total Players",value:e,icon:ln,gradient:"from-blue-500 to-cyan-500",iconColor:"text-blue-600",bgColor:"bg-blue-50"},{title:"Total Matches",value:t,icon:Kn,gradient:"from-purple-500 to-pink-500",iconColor:"text-purple-600",bgColor:"bg-purple-50"},{title:"Overall Win Rate",value:`${r.toFixed(1)}%`,icon:th,gradient:"from-green-500 to-emerald-500",iconColor:"text-green-600",bgColor:"bg-green-50"},{title:"Active This Month",value:n,icon:tl,gradient:"from-orange-500 to-red-500",iconColor:"text-orange-600",bgColor:"bg-orange-50"}];return l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:i.map((a,s)=>{const o=a.icon;return l.jsxs(Ae,{className:"relative overflow-hidden transition-all duration-300 hover:shadow-lg hover:-translate-y-1 animate-in fade-in slide-in-from-bottom-4",style:{animationDelay:`${s*100}ms`,animationFillMode:"backwards"},children:[l.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a.gradient} opacity-5`}),l.jsxs(Ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:a.title}),l.jsx("div",{className:`${a.bgColor} p-2 rounded-lg`,children:l.jsx(o,{className:`h-4 w-4 ${a.iconColor}`})})]}),l.jsxs(Te,{className:"relative z-10",children:[l.jsx("div",{className:"text-3xl font-bold bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text",children:a.value}),a.title==="Overall Win Rate"&&t>0&&l.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:l.jsx("div",{className:`h-full bg-gradient-to-r ${a.gradient} transition-all duration-1000 ease-out`,style:{width:`${r}%`}})})]})]},a.title)})})}var A6=Array.isArray,kr=A6,T6=typeof wd=="object"&&wd&&wd.Object===Object&&wd,y2=T6,C6=y2,$6=typeof self=="object"&&self&&self.Object===Object&&self,R6=C6||$6||Function("return this")(),Jn=R6,M6=Jn,I6=M6.Symbol,cd=I6,Wj=cd,x2=Object.prototype,L6=x2.hasOwnProperty,D6=x2.toString,cc=Wj?Wj.toStringTag:void 0;function F6(e){var t=L6.call(e,cc),r=e[cc];try{e[cc]=void 0;var n=!0}catch{}var i=D6.call(e);return n&&(t?e[cc]=r:delete e[cc]),i}var B6=F6,U6=Object.prototype,z6=U6.toString;function W6(e){return z6.call(e)}var q6=W6,qj=cd,V6=B6,H6=q6,K6="[object Null]",G6="[object Undefined]",Vj=qj?qj.toStringTag:void 0;function Q6(e){return e==null?e===void 0?G6:K6:Vj&&Vj in Object(e)?V6(e):H6(e)}var Ri=Q6;function Y6(e){return e!=null&&typeof e=="object"}var Mi=Y6,X6=Ri,J6=Mi,Z6="[object Symbol]";function eB(e){return typeof e=="symbol"||J6(e)&&X6(e)==Z6}var Dl=eB,tB=kr,rB=Dl,nB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iB=/^\w*$/;function aB(e,t){if(tB(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||rB(e)?!0:iB.test(e)||!nB.test(e)||t!=null&&e in Object(t)}var vb=aB;function sB(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ta=sB;const Fl=Ie(Ta);var oB=Ri,lB=Ta,cB="[object AsyncFunction]",uB="[object Function]",dB="[object GeneratorFunction]",fB="[object Proxy]";function hB(e){if(!lB(e))return!1;var t=oB(e);return t==uB||t==dB||t==cB||t==fB}var yb=hB;const pe=Ie(yb);var pB=Jn,mB=pB["__core-js_shared__"],gB=mB,cg=gB,Hj=function(){var e=/[^.]+$/.exec(cg&&cg.keys&&cg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function vB(e){return!!Hj&&Hj in e}var yB=vB,xB=Function.prototype,bB=xB.toString;function wB(e){if(e!=null){try{return bB.call(e)}catch{}try{return e+""}catch{}}return""}var b2=wB,_B=yb,jB=yB,SB=Ta,NB=b2,OB=/[\\^$.*+?()[\]{}|]/g,PB=/^\[object .+?Constructor\]$/,EB=Function.prototype,kB=Object.prototype,AB=EB.toString,TB=kB.hasOwnProperty,CB=RegExp("^"+AB.call(TB).replace(OB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $B(e){if(!SB(e)||jB(e))return!1;var t=_B(e)?CB:PB;return t.test(NB(e))}var RB=$B;function MB(e,t){return e==null?void 0:e[t]}var IB=MB,LB=RB,DB=IB;function FB(e,t){var r=DB(e,t);return LB(r)?r:void 0}var Ds=FB,BB=Ds,UB=BB(Object,"create"),Pp=UB,Kj=Pp;function zB(){this.__data__=Kj?Kj(null):{},this.size=0}var WB=zB;function qB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var VB=qB,HB=Pp,KB="__lodash_hash_undefined__",GB=Object.prototype,QB=GB.hasOwnProperty;function YB(e){var t=this.__data__;if(HB){var r=t[e];return r===KB?void 0:r}return QB.call(t,e)?t[e]:void 0}var XB=YB,JB=Pp,ZB=Object.prototype,e5=ZB.hasOwnProperty;function t5(e){var t=this.__data__;return JB?t[e]!==void 0:e5.call(t,e)}var r5=t5,n5=Pp,i5="__lodash_hash_undefined__";function a5(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n5&&t===void 0?i5:t,this}var s5=a5,o5=WB,l5=VB,c5=XB,u5=r5,d5=s5;function Bl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bl.prototype.clear=o5;Bl.prototype.delete=l5;Bl.prototype.get=c5;Bl.prototype.has=u5;Bl.prototype.set=d5;var f5=Bl;function h5(){this.__data__=[],this.size=0}var p5=h5;function m5(e,t){return e===t||e!==e&&t!==t}var xb=m5,g5=xb;function v5(e,t){for(var r=e.length;r--;)if(g5(e[r][0],t))return r;return-1}var Ep=v5,y5=Ep,x5=Array.prototype,b5=x5.splice;function w5(e){var t=this.__data__,r=y5(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():b5.call(t,r,1),--this.size,!0}var _5=w5,j5=Ep;function S5(e){var t=this.__data__,r=j5(t,e);return r<0?void 0:t[r][1]}var N5=S5,O5=Ep;function P5(e){return O5(this.__data__,e)>-1}var E5=P5,k5=Ep;function A5(e,t){var r=this.__data__,n=k5(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var T5=A5,C5=p5,$5=_5,R5=N5,M5=E5,I5=T5;function Ul(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ul.prototype.clear=C5;Ul.prototype.delete=$5;Ul.prototype.get=R5;Ul.prototype.has=M5;Ul.prototype.set=I5;var kp=Ul,L5=Ds,D5=Jn,F5=L5(D5,"Map"),bb=F5,Gj=f5,B5=kp,U5=bb;function z5(){this.size=0,this.__data__={hash:new Gj,map:new(U5||B5),string:new Gj}}var W5=z5;function q5(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var V5=q5,H5=V5;function K5(e,t){var r=e.__data__;return H5(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ap=K5,G5=Ap;function Q5(e){var t=G5(this,e).delete(e);return this.size-=t?1:0,t}var Y5=Q5,X5=Ap;function J5(e){return X5(this,e).get(e)}var Z5=J5,eU=Ap;function tU(e){return eU(this,e).has(e)}var rU=tU,nU=Ap;function iU(e,t){var r=nU(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var aU=iU,sU=W5,oU=Y5,lU=Z5,cU=rU,uU=aU;function zl(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zl.prototype.clear=sU;zl.prototype.delete=oU;zl.prototype.get=lU;zl.prototype.has=cU;zl.prototype.set=uU;var wb=zl,w2=wb,dU="Expected a function";function _b(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(dU);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(_b.Cache||w2),r}_b.Cache=w2;var _2=_b;const fU=Ie(_2);var hU=_2,pU=500;function mU(e){var t=hU(e,function(n){return r.size===pU&&r.clear(),n}),r=t.cache;return t}var gU=mU,vU=gU,yU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xU=/\\(\\)?/g,bU=vU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yU,function(r,n,i,a){t.push(i?a.replace(xU,"$1"):n||r)}),t}),wU=bU;function _U(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var jb=_U,Qj=cd,jU=jb,SU=kr,NU=Dl,Yj=Qj?Qj.prototype:void 0,Xj=Yj?Yj.toString:void 0;function j2(e){if(typeof e=="string")return e;if(SU(e))return jU(e,j2)+"";if(NU(e))return Xj?Xj.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var OU=j2,PU=OU;function EU(e){return e==null?"":PU(e)}var S2=EU,kU=kr,AU=vb,TU=wU,CU=S2;function $U(e,t){return kU(e)?e:AU(e,t)?[e]:TU(CU(e))}var N2=$U,RU=Dl;function MU(e){if(typeof e=="string"||RU(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Tp=MU,IU=N2,LU=Tp;function DU(e,t){t=IU(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[LU(t[r++])];return r&&r==n?e:void 0}var Sb=DU,FU=Sb;function BU(e,t,r){var n=e==null?void 0:FU(e,t);return n===void 0?r:n}var O2=BU;const zr=Ie(O2);function UU(e){return e==null}var zU=UU;const ge=Ie(zU);var WU=Ri,qU=kr,VU=Mi,HU="[object String]";function KU(e){return typeof e=="string"||!qU(e)&&VU(e)&&WU(e)==HU}var GU=KU;const Es=Ie(GU);var P2={exports:{}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb=Symbol.for("react.element"),Ob=Symbol.for("react.portal"),Cp=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),Mp=Symbol.for("react.provider"),Ip=Symbol.for("react.context"),QU=Symbol.for("react.server_context"),Lp=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),Up=Symbol.for("react.lazy"),YU=Symbol.for("react.offscreen"),E2;E2=Symbol.for("react.module.reference");function hn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Nb:switch(e=e.type,e){case Cp:case Rp:case $p:case Dp:case Fp:return e;default:switch(e=e&&e.$$typeof,e){case QU:case Ip:case Lp:case Up:case Bp:case Mp:return e;default:return t}}case Ob:return t}}}Le.ContextConsumer=Ip;Le.ContextProvider=Mp;Le.Element=Nb;Le.ForwardRef=Lp;Le.Fragment=Cp;Le.Lazy=Up;Le.Memo=Bp;Le.Portal=Ob;Le.Profiler=Rp;Le.StrictMode=$p;Le.Suspense=Dp;Le.SuspenseList=Fp;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(e){return hn(e)===Ip};Le.isContextProvider=function(e){return hn(e)===Mp};Le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nb};Le.isForwardRef=function(e){return hn(e)===Lp};Le.isFragment=function(e){return hn(e)===Cp};Le.isLazy=function(e){return hn(e)===Up};Le.isMemo=function(e){return hn(e)===Bp};Le.isPortal=function(e){return hn(e)===Ob};Le.isProfiler=function(e){return hn(e)===Rp};Le.isStrictMode=function(e){return hn(e)===$p};Le.isSuspense=function(e){return hn(e)===Dp};Le.isSuspenseList=function(e){return hn(e)===Fp};Le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cp||e===Rp||e===$p||e===Dp||e===Fp||e===YU||typeof e=="object"&&e!==null&&(e.$$typeof===Up||e.$$typeof===Bp||e.$$typeof===Mp||e.$$typeof===Ip||e.$$typeof===Lp||e.$$typeof===E2||e.getModuleId!==void 0)};Le.typeOf=hn;P2.exports=Le;var XU=P2.exports,JU=Ri,ZU=Mi,e8="[object Number]";function t8(e){return typeof e=="number"||ZU(e)&&JU(e)==e8}var k2=t8;const r8=Ie(k2);var n8=k2;function i8(e){return n8(e)&&e!=+e}var a8=i8;const ud=Ie(a8);var hr=function(t){return t===0?0:t>0?1:-1},ts=function(t){return Es(t)&&t.indexOf("%")===t.length-1},X=function(t){return r8(t)&&!ud(t)},s8=function(t){return ge(t)},Mt=function(t){return X(t)||Es(t)},o8=0,Wl=function(t){var r=++o8;return"".concat(t||"").concat(r)},pr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!X(t)&&!Es(t))return n;var a;if(ts(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return ud(a)&&(a=n),i&&a>r&&(a=r),a},Xi=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},l8=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Mr=function(t,r){return X(t)&&X(r)?function(n){return t+n*(r-t)}:function(){return r}};function ih(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):zr(n,t))===r})}var c8=function(t,r){return X(t)&&X(r)?t-r:Es(t)&&Es(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ao(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function _y(e){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(e)}var u8=["viewBox","children"],d8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Jj=["points","pathLength"],ug={svg:u8,polygon:Jj,polyline:Jj},Pb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ah=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Fl(n))return null;var i={};return Object.keys(n).forEach(function(a){Pb.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},f8=function(t,r,n){return function(i){return t(r,n,i),null}},ks=function(t,r,n){if(!Fl(t)||_y(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];Pb.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=f8(s,r,n))}),i},h8=["children"],p8=["children"];function Zj(e,t){if(e==null)return{};var r=m8(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}var e1={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},t1=null,dg=null,Eb=function e(t){if(t===t1&&Array.isArray(dg))return dg;var r=[];return O.Children.forEach(t,function(n){ge(n)||(XU.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),dg=r,t1=t,r};function Wr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return wi(i)}):n=[wi(t)],Eb(e).forEach(function(i){var a=zr(i,"type.displayName")||zr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Rr(e,t){var r=Wr(e,t);return r&&r[0]}var r1=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!X(n)||n<=0||!X(i)||i<=0)},g8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],v8=function(t){return t&&t.type&&Es(t.type)&&g8.indexOf(t.type)>=0},y8=function(t){return t&&jy(t)==="object"&&"clipDot"in t},x8=function(t,r,n,i){var a,s=(a=ug==null?void 0:ug[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!pe(t)&&(i&&s.includes(r)||d8.includes(r))||n&&Pb.includes(r)},de=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!Fl(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;x8((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},Sy=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return n1(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!n1(a,s))return!1}return!0},n1=function(t,r){if(ge(t)&&ge(r))return!0;if(!ge(t)&&!ge(r)){var n=t.props||{},i=n.children,a=Zj(n,h8),s=r.props||{},o=s.children,c=Zj(s,p8);return i&&o?Ao(a,c)&&Sy(i,o):!i&&!o?Ao(a,c):!1}return!1},i1=function(t,r){var n=[],i={};return Eb(t).forEach(function(a,s){if(v8(a))n.push(a);else if(a){var o=wi(a.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},b8=function(t){var r=t&&t.type;return r&&e1[r]?e1[r]:null},w8=function(t,r){return Eb(r).indexOf(t)},_8=["children","width","height","viewBox","className","style","title","desc"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function j8(e,t){if(e==null)return{};var r=S8(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Oy(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,c=e.desc,u=j8(e,_8),d=i||{width:r,height:n,x:0,y:0},f=ve("recharts-surface",a);return E.createElement("svg",Ny({},de(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),E.createElement("title",null,o),E.createElement("desc",null,c),t)}var N8=["children","className"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(this,arguments)}function O8(e,t){if(e==null)return{};var r=P8(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ee=E.forwardRef(function(e,t){var r=e.children,n=e.className,i=O8(e,N8),a=ve("recharts-layer",n);return E.createElement("g",Py({className:a},de(i,!0),{ref:t}),r)}),Tn=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function E8(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var k8=E8,A8=k8;function T8(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:A8(e,t,r)}var C8=T8,$8="\\ud800-\\udfff",R8="\\u0300-\\u036f",M8="\\ufe20-\\ufe2f",I8="\\u20d0-\\u20ff",L8=R8+M8+I8,D8="\\ufe0e\\ufe0f",F8="\\u200d",B8=RegExp("["+F8+$8+L8+D8+"]");function U8(e){return B8.test(e)}var A2=U8;function z8(e){return e.split("")}var W8=z8,T2="\\ud800-\\udfff",q8="\\u0300-\\u036f",V8="\\ufe20-\\ufe2f",H8="\\u20d0-\\u20ff",K8=q8+V8+H8,G8="\\ufe0e\\ufe0f",Q8="["+T2+"]",Ey="["+K8+"]",ky="\\ud83c[\\udffb-\\udfff]",Y8="(?:"+Ey+"|"+ky+")",C2="[^"+T2+"]",$2="(?:\\ud83c[\\udde6-\\uddff]){2}",R2="[\\ud800-\\udbff][\\udc00-\\udfff]",X8="\\u200d",M2=Y8+"?",I2="["+G8+"]?",J8="(?:"+X8+"(?:"+[C2,$2,R2].join("|")+")"+I2+M2+")*",Z8=I2+M2+J8,ez="(?:"+[C2+Ey+"?",Ey,$2,R2,Q8].join("|")+")",tz=RegExp(ky+"(?="+ky+")|"+ez+Z8,"g");function rz(e){return e.match(tz)||[]}var nz=rz,iz=W8,az=A2,sz=nz;function oz(e){return az(e)?sz(e):iz(e)}var lz=oz,cz=C8,uz=A2,dz=lz,fz=S2;function hz(e){return function(t){t=fz(t);var r=uz(t)?dz(t):void 0,n=r?r[0]:t.charAt(0),i=r?cz(r,1).join(""):t.slice(1);return n[e]()+i}}var pz=hz,mz=pz,gz=mz("toUpperCase"),vz=gz;const zp=Ie(vz);function Ve(e){return function(){return e}}const L2=Math.cos,sh=Math.sin,Rn=Math.sqrt,oh=Math.PI,Wp=2*oh,Ay=Math.PI,Ty=2*Ay,Wa=1e-6,yz=Ty-Wa;function D2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function xz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return D2;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class bz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?D2:xz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Wa)if(!(Math.abs(f*c-u*d)>Wa)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,v=i-o,y=c*c+u*u,x=p*p+v*v,m=Math.sqrt(y),g=Math.sqrt(h),b=a*Math.tan((Ay-Math.acos((y+h-x)/(2*m*g)))/2),_=b/g,w=b/m;Math.abs(_-1)>Wa&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*v)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Wa||Math.abs(this._y1-d)>Wa)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Ty+Ty),h>yz?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Wa&&this._append`A${n},${n},0,${+(h>=Ay)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function kb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new bz(t)}function Ab(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function F2(e){this._context=e}F2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qp(e){return new F2(e)}function B2(e){return e[0]}function U2(e){return e[1]}function z2(e,t){var r=Ve(!0),n=null,i=qp,a=null,s=kb(o);e=typeof e=="function"?e:e===void 0?B2:Ve(e),t=typeof t=="function"?t:t===void 0?U2:Ve(t);function o(c){var u,d=(c=Ab(c)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ve(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ve(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ve(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Qd(e,t,r){var n=null,i=Ve(!0),a=null,s=qp,o=null,c=kb(u);e=typeof e=="function"?e:e===void 0?B2:Ve(+e),t=typeof t=="function"?t:Ve(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?U2:Ve(+r);function u(f){var h,p,v,y=(f=Ab(f)).length,x,m=!1,g,b=new Array(y),_=new Array(y);for(a==null&&(o=s(g=c())),h=0;h<=y;++h){if(!(h<y&&i(x=f[h],h,f))===m)if(m=!m)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=p;--v)o.point(b[v],_[v]);o.lineEnd(),o.areaEnd()}m&&(b[h]=+e(x,h,f),_[h]=+t(x,h,f),o.point(n?+n(x,h,f):b[h],r?+r(x,h,f):_[h]))}if(g)return o=null,g+""||null}function d(){return z2().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ve(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ve(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ve(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class W2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function wz(e){return new W2(e,!0)}function _z(e){return new W2(e,!1)}const Tb={draw(e,t){const r=Rn(t/oh);e.moveTo(r,0),e.arc(0,0,r,0,Wp)}},jz={draw(e,t){const r=Rn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},q2=Rn(1/3),Sz=q2*2,Nz={draw(e,t){const r=Rn(t/Sz),n=r*q2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Oz={draw(e,t){const r=Rn(t),n=-r/2;e.rect(n,n,r,r)}},Pz=.8908130915292852,V2=sh(oh/10)/sh(7*oh/10),Ez=sh(Wp/10)*V2,kz=-L2(Wp/10)*V2,Az={draw(e,t){const r=Rn(t*Pz),n=Ez*r,i=kz*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Wp*a/5,o=L2(s),c=sh(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},fg=Rn(3),Tz={draw(e,t){const r=-Rn(t/(fg*3));e.moveTo(0,r*2),e.lineTo(-fg*r,-r),e.lineTo(fg*r,-r),e.closePath()}},Gr=-.5,Qr=Rn(3)/2,Cy=1/Rn(12),Cz=(Cy/2+1)*3,$z={draw(e,t){const r=Rn(t/Cz),n=r/2,i=r*Cy,a=n,s=r*Cy+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(Gr*n-Qr*i,Qr*n+Gr*i),e.lineTo(Gr*a-Qr*s,Qr*a+Gr*s),e.lineTo(Gr*o-Qr*c,Qr*o+Gr*c),e.lineTo(Gr*n+Qr*i,Gr*i-Qr*n),e.lineTo(Gr*a+Qr*s,Gr*s-Qr*a),e.lineTo(Gr*o+Qr*c,Gr*c-Qr*o),e.closePath()}};function Rz(e,t){let r=null,n=kb(i);e=typeof e=="function"?e:Ve(e||Tb),t=typeof t=="function"?t:Ve(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ve(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ve(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function lh(){}function ch(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function H2(e){this._context=e}H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ch(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mz(e){return new H2(e)}function K2(e){this._context=e}K2.prototype={areaStart:lh,areaEnd:lh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iz(e){return new K2(e)}function G2(e){this._context=e}G2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ch(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Lz(e){return new G2(e)}function Q2(e){this._context=e}Q2.prototype={areaStart:lh,areaEnd:lh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Dz(e){return new Q2(e)}function a1(e){return e<0?-1:1}function s1(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(a1(a)+a1(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function o1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hg(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function uh(e){this._context=e}uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hg(this,this._t0,o1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hg(this,o1(this,r=s1(this,e,t)),r);break;default:hg(this,this._t0,r=s1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Y2(e){this._context=new X2(e)}(Y2.prototype=Object.create(uh.prototype)).point=function(e,t){uh.prototype.point.call(this,t,e)};function X2(e){this._context=e}X2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function Fz(e){return new uh(e)}function Bz(e){return new Y2(e)}function J2(e){this._context=e}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=l1(e),i=l1(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function l1(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Uz(e){return new J2(e)}function Vp(e,t){this._context=e,this._t=t}Vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zz(e){return new Vp(e,.5)}function Wz(e){return new Vp(e,0)}function qz(e){return new Vp(e,1)}function rl(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function $y(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vz(e,t){return e[t]}function Hz(e){const t=[];return t.key=e,t}function Kz(){var e=Ve([]),t=$y,r=rl,n=Vz;function i(a){var s=Array.from(e.apply(this,arguments),Hz),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=Ab(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ve(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ve(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?$y:typeof a=="function"?a:Ve(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??rl,i):r},i}function Gz(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}rl(e,t)}}function Qz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}rl(e,t)}}function Yz(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<o;++v){var y=e[t[v]],x=y[n][1]||0,m=y[n-1][1]||0;p+=x-m}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,rl(e,t)}}function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}var Xz=["type","size","sizeType"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(this,arguments)}function c1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(r),!0).forEach(function(n){Jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jz(e,t,r){return t=Zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zz(e){var t=eW(e,"string");return mu(t)=="symbol"?t:t+""}function eW(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tW(e,t){if(e==null)return{};var r=rW(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Z2={symbolCircle:Tb,symbolCross:jz,symbolDiamond:Nz,symbolSquare:Oz,symbolStar:Az,symbolTriangle:Tz,symbolWye:$z},nW=Math.PI/180,iW=function(t){var r="symbol".concat(zp(t));return Z2[r]||Tb},aW=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*nW;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},sW=function(t,r){Z2["symbol".concat(zp(t))]=r},Cb=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,o=s===void 0?"area":s,c=tW(t,Xz),u=u1(u1({},c),{},{type:n,size:a,sizeType:o}),d=function(){var x=iW(n),m=Rz().type(x).size(aW(a,o,n));return m()},f=u.className,h=u.cx,p=u.cy,v=de(u,!0);return h===+h&&p===+p&&a===+a?E.createElement("path",Ry({},v,{className:ve("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Cb.registerSymbol=sW;function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(this,arguments)}function d1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(r),!0).forEach(function(n){gu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tT(n.key),n)}}function uW(e,t,r){return t&&cW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dW(e,t,r){return t=dh(t),fW(e,eT()?Reflect.construct(t,r||[],dh(e).constructor):t.apply(e,r))}function fW(e,t){if(t&&(nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hW(e)}function hW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eT=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dh(e)}function pW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iy(e,t)}function Iy(e,t){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iy(e,t)}function gu(e,t,r){return t=tT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tT(e){var t=mW(e,"string");return nl(t)=="symbol"?t:t+""}function mW(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yr=32,$b=function(e){function t(){return lW(this,t),dW(this,t,arguments)}return pW(t,e),uW(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Yr/2,s=Yr/6,o=Yr/3,c=n.inactive?i:n.color;if(n.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Yr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Yr,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return E.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yr/8,"h").concat(Yr,"v").concat(Yr*3/4,"h").concat(-Yr,"z"),className:"recharts-legend-icon"});if(E.isValidElement(n.legendIcon)){var u=oW({},n);return delete u.legendIcon,E.cloneElement(n.legendIcon,u)}return E.createElement(Cb,{fill:c,cx:a,cy:a,size:Yr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Yr,height:Yr},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var y=p.formatter||c,x=ve(gu(gu({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var m=pe(p.value)?null:p.value;Tn(!pe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var g=p.inactive?u:p.color;return E.createElement("li",My({className:x,style:f,key:"legend-item-".concat(v)},ks(n.props,p,v)),E.createElement(Oy,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y?y(m,p,v):m))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(O.PureComponent);gu($b,"displayName","Legend");gu($b,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gW=kp;function vW(){this.__data__=new gW,this.size=0}var yW=vW;function xW(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var bW=xW;function wW(e){return this.__data__.get(e)}var _W=wW;function jW(e){return this.__data__.has(e)}var SW=jW,NW=kp,OW=bb,PW=wb,EW=200;function kW(e,t){var r=this.__data__;if(r instanceof NW){var n=r.__data__;if(!OW||n.length<EW-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new PW(n)}return r.set(e,t),this.size=r.size,this}var AW=kW,TW=kp,CW=yW,$W=bW,RW=_W,MW=SW,IW=AW;function ql(e){var t=this.__data__=new TW(e);this.size=t.size}ql.prototype.clear=CW;ql.prototype.delete=$W;ql.prototype.get=RW;ql.prototype.has=MW;ql.prototype.set=IW;var rT=ql,LW="__lodash_hash_undefined__";function DW(e){return this.__data__.set(e,LW),this}var FW=DW;function BW(e){return this.__data__.has(e)}var UW=BW,zW=wb,WW=FW,qW=UW;function fh(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new zW;++t<r;)this.add(e[t])}fh.prototype.add=fh.prototype.push=WW;fh.prototype.has=qW;var nT=fh;function VW(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var iT=VW;function HW(e,t){return e.has(t)}var aT=HW,KW=nT,GW=iT,QW=aT,YW=1,XW=2;function JW(e,t,r,n,i,a){var s=r&YW,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&XW?new KW:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var v=e[f],y=t[f];if(n)var x=s?n(y,v,f,t,e,a):n(v,y,f,e,t,a);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!GW(t,function(m,g){if(!QW(p,g)&&(v===m||i(v,m,r,n,a)))return p.push(g)})){h=!1;break}}else if(!(v===y||i(v,y,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var sT=JW,ZW=Jn,eq=ZW.Uint8Array,tq=eq;function rq(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var nq=rq;function iq(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Rb=iq,f1=cd,h1=tq,aq=xb,sq=sT,oq=nq,lq=Rb,cq=1,uq=2,dq="[object Boolean]",fq="[object Date]",hq="[object Error]",pq="[object Map]",mq="[object Number]",gq="[object RegExp]",vq="[object Set]",yq="[object String]",xq="[object Symbol]",bq="[object ArrayBuffer]",wq="[object DataView]",p1=f1?f1.prototype:void 0,pg=p1?p1.valueOf:void 0;function _q(e,t,r,n,i,a,s){switch(r){case wq:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bq:return!(e.byteLength!=t.byteLength||!a(new h1(e),new h1(t)));case dq:case fq:case mq:return aq(+e,+t);case hq:return e.name==t.name&&e.message==t.message;case gq:case yq:return e==t+"";case pq:var o=oq;case vq:var c=n&cq;if(o||(o=lq),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=uq,s.set(e,t);var d=sq(o(e),o(t),n,i,a,s);return s.delete(e),d;case xq:if(pg)return pg.call(e)==pg.call(t)}return!1}var jq=_q;function Sq(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var oT=Sq,Nq=oT,Oq=kr;function Pq(e,t,r){var n=t(e);return Oq(e)?n:Nq(n,r(e))}var Eq=Pq;function kq(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var Aq=kq;function Tq(){return[]}var Cq=Tq,$q=Aq,Rq=Cq,Mq=Object.prototype,Iq=Mq.propertyIsEnumerable,m1=Object.getOwnPropertySymbols,Lq=m1?function(e){return e==null?[]:(e=Object(e),$q(m1(e),function(t){return Iq.call(e,t)}))}:Rq,Dq=Lq;function Fq(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Bq=Fq,Uq=Ri,zq=Mi,Wq="[object Arguments]";function qq(e){return zq(e)&&Uq(e)==Wq}var Vq=qq,g1=Vq,Hq=Mi,lT=Object.prototype,Kq=lT.hasOwnProperty,Gq=lT.propertyIsEnumerable,Qq=g1(function(){return arguments}())?g1:function(e){return Hq(e)&&Kq.call(e,"callee")&&!Gq.call(e,"callee")},Mb=Qq,hh={exports:{}};function Yq(){return!1}var Xq=Yq;hh.exports;(function(e,t){var r=Jn,n=Xq,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u})(hh,hh.exports);var cT=hh.exports,Jq=9007199254740991,Zq=/^(?:0|[1-9]\d*)$/;function eV(e,t){var r=typeof e;return t=t??Jq,!!t&&(r=="number"||r!="symbol"&&Zq.test(e))&&e>-1&&e%1==0&&e<t}var Ib=eV,tV=9007199254740991;function rV(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tV}var Lb=rV,nV=Ri,iV=Lb,aV=Mi,sV="[object Arguments]",oV="[object Array]",lV="[object Boolean]",cV="[object Date]",uV="[object Error]",dV="[object Function]",fV="[object Map]",hV="[object Number]",pV="[object Object]",mV="[object RegExp]",gV="[object Set]",vV="[object String]",yV="[object WeakMap]",xV="[object ArrayBuffer]",bV="[object DataView]",wV="[object Float32Array]",_V="[object Float64Array]",jV="[object Int8Array]",SV="[object Int16Array]",NV="[object Int32Array]",OV="[object Uint8Array]",PV="[object Uint8ClampedArray]",EV="[object Uint16Array]",kV="[object Uint32Array]",Je={};Je[wV]=Je[_V]=Je[jV]=Je[SV]=Je[NV]=Je[OV]=Je[PV]=Je[EV]=Je[kV]=!0;Je[sV]=Je[oV]=Je[xV]=Je[lV]=Je[bV]=Je[cV]=Je[uV]=Je[dV]=Je[fV]=Je[hV]=Je[pV]=Je[mV]=Je[gV]=Je[vV]=Je[yV]=!1;function AV(e){return aV(e)&&iV(e.length)&&!!Je[nV(e)]}var TV=AV;function CV(e){return function(t){return e(t)}}var uT=CV,ph={exports:{}};ph.exports;(function(e,t){var r=y2,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(ph,ph.exports);var $V=ph.exports,RV=TV,MV=uT,v1=$V,y1=v1&&v1.isTypedArray,IV=y1?MV(y1):RV,dT=IV,LV=Bq,DV=Mb,FV=kr,BV=cT,UV=Ib,zV=dT,WV=Object.prototype,qV=WV.hasOwnProperty;function VV(e,t){var r=FV(e),n=!r&&DV(e),i=!r&&!n&&BV(e),a=!r&&!n&&!i&&zV(e),s=r||n||i||a,o=s?LV(e.length,String):[],c=o.length;for(var u in e)(t||qV.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||UV(u,c)))&&o.push(u);return o}var HV=VV,KV=Object.prototype;function GV(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||KV;return e===r}var QV=GV;function YV(e,t){return function(r){return e(t(r))}}var fT=YV,XV=fT,JV=XV(Object.keys,Object),ZV=JV,e7=QV,t7=ZV,r7=Object.prototype,n7=r7.hasOwnProperty;function i7(e){if(!e7(e))return t7(e);var t=[];for(var r in Object(e))n7.call(e,r)&&r!="constructor"&&t.push(r);return t}var a7=i7,s7=yb,o7=Lb;function l7(e){return e!=null&&o7(e.length)&&!s7(e)}var dd=l7,c7=HV,u7=a7,d7=dd;function f7(e){return d7(e)?c7(e):u7(e)}var Hp=f7,h7=Eq,p7=Dq,m7=Hp;function g7(e){return h7(e,m7,p7)}var v7=g7,x1=v7,y7=1,x7=Object.prototype,b7=x7.hasOwnProperty;function w7(e,t,r,n,i,a){var s=r&y7,o=x1(e),c=o.length,u=x1(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in t:b7.call(t,h)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var y=!0;a.set(e,t),a.set(t,e);for(var x=s;++f<c;){h=o[f];var m=e[h],g=t[h];if(n)var b=s?n(g,m,h,t,e,a):n(m,g,h,e,t,a);if(!(b===void 0?m===g||i(m,g,r,n,a):b)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(y=!1)}return a.delete(e),a.delete(t),y}var _7=w7,j7=Ds,S7=Jn,N7=j7(S7,"DataView"),O7=N7,P7=Ds,E7=Jn,k7=P7(E7,"Promise"),A7=k7,T7=Ds,C7=Jn,$7=T7(C7,"Set"),hT=$7,R7=Ds,M7=Jn,I7=R7(M7,"WeakMap"),L7=I7,Ly=O7,Dy=bb,Fy=A7,By=hT,Uy=L7,pT=Ri,Vl=b2,b1="[object Map]",D7="[object Object]",w1="[object Promise]",_1="[object Set]",j1="[object WeakMap]",S1="[object DataView]",F7=Vl(Ly),B7=Vl(Dy),U7=Vl(Fy),z7=Vl(By),W7=Vl(Uy),qa=pT;(Ly&&qa(new Ly(new ArrayBuffer(1)))!=S1||Dy&&qa(new Dy)!=b1||Fy&&qa(Fy.resolve())!=w1||By&&qa(new By)!=_1||Uy&&qa(new Uy)!=j1)&&(qa=function(e){var t=pT(e),r=t==D7?e.constructor:void 0,n=r?Vl(r):"";if(n)switch(n){case F7:return S1;case B7:return b1;case U7:return w1;case z7:return _1;case W7:return j1}return t});var q7=qa,mg=rT,V7=sT,H7=jq,K7=_7,N1=q7,O1=kr,P1=cT,G7=dT,Q7=1,E1="[object Arguments]",k1="[object Array]",Yd="[object Object]",Y7=Object.prototype,A1=Y7.hasOwnProperty;function X7(e,t,r,n,i,a){var s=O1(e),o=O1(t),c=s?k1:N1(e),u=o?k1:N1(t);c=c==E1?Yd:c,u=u==E1?Yd:u;var d=c==Yd,f=u==Yd,h=c==u;if(h&&P1(e)){if(!P1(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new mg),s||G7(e)?V7(e,t,r,n,i,a):H7(e,t,c,r,n,i,a);if(!(r&Q7)){var p=d&&A1.call(e,"__wrapped__"),v=f&&A1.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,x=v?t.value():t;return a||(a=new mg),i(y,x,r,n,a)}}return h?(a||(a=new mg),K7(e,t,r,n,i,a)):!1}var J7=X7,Z7=J7,T1=Mi;function mT(e,t,r,n,i){return e===t?!0:e==null||t==null||!T1(e)&&!T1(t)?e!==e&&t!==t:Z7(e,t,r,n,mT,i)}var Db=mT,eH=rT,tH=Db,rH=1,nH=2;function iH(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var c=o[0],u=e[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in e))return!1}else{var f=new eH;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?tH(d,u,rH|nH,n,f):h))return!1}}return!0}var aH=iH,sH=Ta;function oH(e){return e===e&&!sH(e)}var gT=oH,lH=gT,cH=Hp;function uH(e){for(var t=cH(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,lH(i)]}return t}var dH=uH;function fH(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var vT=fH,hH=aH,pH=dH,mH=vT;function gH(e){var t=pH(e);return t.length==1&&t[0][2]?mH(t[0][0],t[0][1]):function(r){return r===e||hH(r,e,t)}}var vH=gH;function yH(e,t){return e!=null&&t in Object(e)}var xH=yH,bH=N2,wH=Mb,_H=kr,jH=Ib,SH=Lb,NH=Tp;function OH(e,t,r){t=bH(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=NH(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&SH(i)&&jH(s,i)&&(_H(e)||wH(e)))}var PH=OH,EH=xH,kH=PH;function AH(e,t){return e!=null&&kH(e,t,EH)}var TH=AH,CH=Db,$H=O2,RH=TH,MH=vb,IH=gT,LH=vT,DH=Tp,FH=1,BH=2;function UH(e,t){return MH(e)&&IH(t)?LH(DH(e),t):function(r){var n=$H(r,e);return n===void 0&&n===t?RH(r,e):CH(t,n,FH|BH)}}var zH=UH;function WH(e){return e}var Hl=WH;function qH(e){return function(t){return t==null?void 0:t[e]}}var VH=qH,HH=Sb;function KH(e){return function(t){return HH(t,e)}}var GH=KH,QH=VH,YH=GH,XH=vb,JH=Tp;function ZH(e){return XH(e)?QH(JH(e)):YH(e)}var e9=ZH,t9=vH,r9=zH,n9=Hl,i9=kr,a9=e9;function s9(e){return typeof e=="function"?e:e==null?n9:typeof e=="object"?i9(e)?r9(e[0],e[1]):t9(e):a9(e)}var Zn=s9;function o9(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var yT=o9;function l9(e){return e!==e}var c9=l9;function u9(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var d9=u9,f9=yT,h9=c9,p9=d9;function m9(e,t,r){return t===t?p9(e,t,r):f9(e,h9,r)}var g9=m9,v9=g9;function y9(e,t){var r=e==null?0:e.length;return!!r&&v9(e,t,0)>-1}var x9=y9;function b9(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var w9=b9;function _9(){}var j9=_9,gg=hT,S9=j9,N9=Rb,O9=1/0,P9=gg&&1/N9(new gg([,-0]))[1]==O9?function(e){return new gg(e)}:S9,E9=P9,k9=nT,A9=x9,T9=w9,C9=aT,$9=E9,R9=Rb,M9=200;function I9(e,t,r){var n=-1,i=A9,a=e.length,s=!0,o=[],c=o;if(r)s=!1,i=T9;else if(a>=M9){var u=t?null:$9(e);if(u)return R9(u);s=!1,i=C9,c=new k9}else c=t?[]:o;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),o.push(d)}else i(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var L9=I9,D9=Zn,F9=L9;function B9(e,t){return e&&e.length?F9(e,D9(t)):[]}var U9=B9;const C1=Ie(U9);function xT(e,t,r){return t===!0?C1(e,r):pe(t)?C1(e,t):e}function il(e){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}var z9=["ref"];function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){Kp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wT(n.key),n)}}function q9(e,t,r){return t&&R1(e.prototype,t),r&&R1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V9(e,t,r){return t=mh(t),H9(e,bT()?Reflect.construct(t,r||[],mh(e).constructor):t.apply(e,r))}function H9(e,t){if(t&&(il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K9(e)}function K9(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bT=function(){return!!e})()}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(e)}function G9(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}function zy(e,t){return zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zy(e,t)}function Kp(e,t,r){return t=wT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wT(e){var t=Q9(e,"string");return il(t)=="symbol"?t:t+""}function Q9(e,t){if(il(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Y9(e,t){if(e==null)return{};var r=X9(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J9(e){return e.value}function Z9(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=Y9(t,z9);return E.createElement($b,r)}var M1=1,_i=function(e){function t(){var r;W9(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=V9(this,t,[].concat(i)),Kp(r,"lastBoundingBox",{width:-1,height:-1}),r}return G9(t,e),q9(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>M1||Math.abs(i.height-this.lastBoundingBox.height)>M1)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ni({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ni(ni({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=ni(ni({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return E.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Z9(a,ni(ni({},this.props),{},{payload:xT(d,u,J9)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ni(ni({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&X(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(O.PureComponent);Kp(_i,"displayName","Legend");Kp(_i,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var I1=cd,eK=Mb,tK=kr,L1=I1?I1.isConcatSpreadable:void 0;function rK(e){return tK(e)||eK(e)||!!(L1&&e&&e[L1])}var nK=rK,iK=oT,aK=nK;function _T(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=aK),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?_T(o,t-1,r,n,i):iK(i,o):n||(i[i.length]=o)}return i}var jT=_T;function sK(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++i];if(r(a[c],c,a)===!1)break}return t}}var oK=sK,lK=oK,cK=lK(),uK=cK,dK=uK,fK=Hp;function hK(e,t){return e&&dK(e,t,fK)}var ST=hK,pK=dd;function mK(e,t){return function(r,n){if(r==null)return r;if(!pK(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var gK=mK,vK=ST,yK=gK,xK=yK(vK),Fb=xK,bK=Fb,wK=dd;function _K(e,t){var r=-1,n=wK(e)?Array(e.length):[];return bK(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var NT=_K;function jK(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var SK=jK,D1=Dl;function NK(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=D1(e),s=t!==void 0,o=t===null,c=t===t,u=D1(t);if(!o&&!u&&!a&&e>t||a&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!c)return-1}return 0}var OK=NK,PK=OK;function EK(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var c=PK(i[n],a[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var kK=EK,vg=jb,AK=Sb,TK=Zn,CK=NT,$K=SK,RK=uT,MK=kK,IK=Hl,LK=kr;function DK(e,t,r){t.length?t=vg(t,function(a){return LK(a)?function(s){return AK(s,a.length===1?a[0]:a)}:a}):t=[IK];var n=-1;t=vg(t,RK(TK));var i=CK(e,function(a,s,o){var c=vg(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return $K(i,function(a,s){return MK(a,s,r)})}var FK=DK;function BK(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var UK=BK,zK=UK,F1=Math.max;function WK(e,t,r){return t=F1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=F1(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),zK(e,this,o)}}var qK=WK;function VK(e){return function(){return e}}var HK=VK,KK=Ds,GK=function(){try{var e=KK(Object,"defineProperty");return e({},"",{}),e}catch{}}(),OT=GK,QK=HK,B1=OT,YK=Hl,XK=B1?function(e,t){return B1(e,"toString",{configurable:!0,enumerable:!1,value:QK(t),writable:!0})}:YK,JK=XK,ZK=800,eG=16,tG=Date.now;function rG(e){var t=0,r=0;return function(){var n=tG(),i=eG-(n-r);if(r=n,i>0){if(++t>=ZK)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nG=rG,iG=JK,aG=nG,sG=aG(iG),oG=sG,lG=Hl,cG=qK,uG=oG;function dG(e,t){return uG(cG(e,t,lG),e+"")}var fG=dG,hG=xb,pG=dd,mG=Ib,gG=Ta;function vG(e,t,r){if(!gG(r))return!1;var n=typeof t;return(n=="number"?pG(r)&&mG(t,r.length):n=="string"&&t in r)?hG(r[t],e):!1}var Gp=vG,yG=jT,xG=FK,bG=fG,U1=Gp,wG=bG(function(e,t){if(e==null)return[];var r=t.length;return r>1&&U1(e,t[0],t[1])?t=[]:r>2&&U1(t[0],t[1],t[2])&&(t=[t[0]]),xG(e,yG(t,1),[])}),_G=wG;const Bb=Ie(_G);function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(this,arguments)}function jG(e,t){return PG(e)||OG(e,t)||NG(e,t)||SG()}function SG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NG(e,t){if(e){if(typeof e=="string")return z1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z1(e,t)}}function z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OG(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function PG(e){if(Array.isArray(e))return e}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){EG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EG(e,t,r){return t=kG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=AG(e,"string");return vu(t)=="symbol"?t:t+""}function AG(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TG(e){return Array.isArray(e)&&Mt(e[0])&&Mt(e[1])?e.join(" ~ "):e}var CG=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,y=t.label,x=t.labelFormatter,m=t.accessibilityLayer,g=m===void 0?!1:m,b=function(){if(d&&d.length){var T={padding:0,margin:0},M=(h?Bb(d,h):d).map(function(I,D){if(I.type==="none")return null;var F=yg({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},o),q=I.formatter||f||TG,R=I.value,B=I.name,U=R,V=B;if(q&&U!=null&&V!=null){var K=q(R,B,I,D,d);if(Array.isArray(K)){var le=jG(K,2);U=le[0],V=le[1]}else U=K}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:F},Mt(V)?E.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Mt(V)?E.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,E.createElement("span",{className:"recharts-tooltip-item-value"},U),E.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:T},M)}return null},_=yg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=yg({margin:0},u),j=!ge(y),S=j?y:"",N=ve("recharts-default-tooltip",p),P=ve("recharts-tooltip-label",v);j&&x&&d!==void 0&&d!==null&&(S=x(y,d));var A=g?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",Wy({className:N,style:_},A),E.createElement("p",{className:P,style:w},E.isValidElement(S)?S:"".concat(S)),b())};function yu(e){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}function Xd(e,t,r){return t=$G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=RG(e,"string");return yu(t)=="symbol"?t:t+""}function RG(e,t){if(yu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uc="recharts-tooltip-wrapper",MG={visibility:"hidden"};function IG(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ve(uc,Xd(Xd(Xd(Xd({},"".concat(uc,"-right"),X(r)&&t&&X(t.x)&&r>=t.x),"".concat(uc,"-left"),X(r)&&t&&X(t.x)&&r<t.x),"".concat(uc,"-bottom"),X(n)&&t&&X(t.y)&&n>=t.y),"".concat(uc,"-top"),X(n)&&t&&X(t.y)&&n<t.y))}function q1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&X(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+o,y=c[n]+u;return v>y?Math.max(d,c[n]):Math.max(f,c[n])}function LG(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function DG(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=q1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=q1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=LG({translateX:d,translateY:f,useTranslate3d:o})):u=MG,{cssProperties:u,cssClasses:IG({translateX:d,translateY:f,coordinate:r})}}function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function V1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(r),!0).forEach(function(n){Vy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ET(n.key),n)}}function UG(e,t,r){return t&&BG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zG(e,t,r){return t=gh(t),WG(e,PT()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function WG(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qG(e)}function qG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PT=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}function VG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qy(e,t)}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qy(e,t)}function Vy(e,t,r){return t=ET(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ET(e){var t=HG(e,"string");return al(t)=="symbol"?t:t+""}function HG(e,t){if(al(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var K1=1,KG=function(e){function t(){var r;FG(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zG(this,t,[].concat(i)),Vy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Vy(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return VG(t,e),UG(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>K1||Math.abs(n.height-this.state.lastBoundingBox.height)>K1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,y=i.reverseDirection,x=i.useTranslate3d,m=i.viewBox,g=i.wrapperStyle,b=DG({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:m}),_=b.cssClasses,w=b.cssProperties,j=H1(H1({transition:h&&a?"transform ".concat(o,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},g);return E.createElement("div",{tabIndex:-1,className:_,style:j,ref:function(N){n.wrapperNode=N}},u)}}])}(O.PureComponent),GG=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fs={isSsr:GG()};function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){Ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YG(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AT(n.key),n)}}function XG(e,t,r){return t&&YG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JG(e,t,r){return t=vh(t),ZG(e,kT()?Reflect.construct(t,r||[],vh(e).constructor):t.apply(e,r))}function ZG(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eQ(e)}function eQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kT=function(){return!!e})()}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vh(e)}function tQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hy(e,t)}function Hy(e,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hy(e,t)}function Ub(e,t,r){return t=AT(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AT(e){var t=rQ(e,"string");return sl(t)=="symbol"?t:t+""}function rQ(e,t){if(sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nQ(e){return e.dataKey}function iQ(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(CG,t)}var Zr=function(e){function t(){return QG(this,t),JG(this,t,arguments)}return tQ(t,e),XG(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,y=i.payloadUniqBy,x=i.position,m=i.reverseDirection,g=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=v??[];f&&w.length&&(w=xT(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,nQ));var j=w.length>0;return E.createElement(KG,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:j,offset:p,position:x,reverseDirection:m,useTranslate3d:g,viewBox:b,wrapperStyle:_},iQ(u,Q1(Q1({},this.props),{},{payload:w})))}}])}(O.PureComponent);Ub(Zr,"displayName","Tooltip");Ub(Zr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var aQ=Jn,sQ=function(){return aQ.Date.now()},oQ=sQ,lQ=/\s/;function cQ(e){for(var t=e.length;t--&&lQ.test(e.charAt(t)););return t}var uQ=cQ,dQ=uQ,fQ=/^\s+/;function hQ(e){return e&&e.slice(0,dQ(e)+1).replace(fQ,"")}var pQ=hQ,mQ=pQ,Y1=Ta,gQ=Dl,X1=NaN,vQ=/^[-+]0x[0-9a-f]+$/i,yQ=/^0b[01]+$/i,xQ=/^0o[0-7]+$/i,bQ=parseInt;function wQ(e){if(typeof e=="number")return e;if(gQ(e))return X1;if(Y1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Y1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mQ(e);var r=yQ.test(e);return r||xQ.test(e)?bQ(e.slice(2),r?2:8):vQ.test(e)?X1:+e}var TT=wQ,_Q=Ta,xg=oQ,J1=TT,jQ="Expected a function",SQ=Math.max,NQ=Math.min;function OQ(e,t,r){var n,i,a,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(jQ);t=J1(t)||0,_Q(r)&&(d=!!r.leading,f="maxWait"in r,a=f?SQ(J1(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(j){var S=n,N=i;return n=i=void 0,u=j,s=e.apply(N,S),s}function v(j){return u=j,o=setTimeout(m,t),d?p(j):s}function y(j){var S=j-c,N=j-u,P=t-S;return f?NQ(P,a-N):P}function x(j){var S=j-c,N=j-u;return c===void 0||S>=t||S<0||f&&N>=a}function m(){var j=xg();if(x(j))return g(j);o=setTimeout(m,y(j))}function g(j){return o=void 0,h&&n?p(j):(n=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),u=0,n=c=i=o=void 0}function _(){return o===void 0?s:g(xg())}function w(){var j=xg(),S=x(j);if(n=arguments,i=this,c=j,S){if(o===void 0)return v(c);if(f)return clearTimeout(o),o=setTimeout(m,t),p(c)}return o===void 0&&(o=setTimeout(m,t)),s}return w.cancel=b,w.flush=_,w}var PQ=OQ,EQ=PQ,kQ=Ta,AQ="Expected a function";function TQ(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(AQ);return kQ(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),EQ(e,t,{leading:n,maxWait:t,trailing:i})}var CQ=TQ;const CT=Ie(CQ);function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function Z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z1(Object(r),!0).forEach(function(n){$Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Q(e,t,r){return t=RQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=MQ(e,"string");return xu(t)=="symbol"?t:t+""}function MQ(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IQ(e,t){return BQ(e)||FQ(e,t)||DQ(e,t)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(e,t){if(e){if(typeof e=="string")return eS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(e,t)}}function eS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function BQ(e){if(Array.isArray(e))return e}var zb=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,y=v===void 0?0:v,x=e.id,m=e.className,g=e.onResize,b=e.style,_=b===void 0?{}:b,w=O.useRef(null),j=O.useRef();j.current=g,O.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var S=O.useState({containerWidth:i.width,containerHeight:i.height}),N=IQ(S,2),P=N[0],A=N[1],k=O.useCallback(function(M,I){A(function(D){var F=Math.round(M),q=Math.round(I);return D.containerWidth===F&&D.containerHeight===q?D:{containerWidth:F,containerHeight:q}})},[]);O.useEffect(function(){var M=function(B){var U,V=B[0].contentRect,K=V.width,le=V.height;k(K,le),(U=j.current)===null||U===void 0||U.call(j,K,le)};y>0&&(M=CT(M,y,{trailing:!0,leading:!1}));var I=new ResizeObserver(M),D=w.current.getBoundingClientRect(),F=D.width,q=D.height;return k(F,q),I.observe(w.current),function(){I.disconnect()}},[k,y]);var T=O.useMemo(function(){var M=P.containerWidth,I=P.containerHeight;if(M<0||I<0)return null;Tn(ts(s)||ts(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Tn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=ts(s)?M:s,F=ts(c)?I:c;r&&r>0&&(D?F=D/r:F&&(D=F*r),h&&F>h&&(F=h)),Tn(D>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,F,s,c,d,f,r);var q=!Array.isArray(p)&&wi(p.type).endsWith("Chart");return E.Children.map(p,function(R){return E.isValidElement(R)?O.cloneElement(R,Jd({width:D,height:F},q?{style:Jd({height:"100%",width:"100%",maxHeight:F,maxWidth:D},R.props.style)}:{})):R})},[r,p,c,h,f,d,P,s]);return E.createElement("div",{id:x?"".concat(x):void 0,className:ve("recharts-responsive-container",m),style:Jd(Jd({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},T)}),Qp=function(t){return null};Qp.displayName="Cell";function bu(e){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bu(e)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return t=zQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zQ(e){var t=WQ(e,"string");return bu(t)=="symbol"?t:t+""}function WQ(e,t){if(bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qs={widthCache:{},cacheCount:0},qQ=2e3,VQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rS="recharts_measurement_span";function HQ(e){var t=Ky({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Dc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fs.isSsr)return{width:0,height:0};var n=HQ(r),i=JSON.stringify({text:t,copyStyle:n});if(Qs.widthCache[i])return Qs.widthCache[i];try{var a=document.getElementById(rS);a||(a=document.createElement("span"),a.setAttribute("id",rS),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Ky(Ky({},VQ),n);Object.assign(a.style,s),a.textContent="".concat(t);var o=a.getBoundingClientRect(),c={width:o.width,height:o.height};return Qs.widthCache[i]=c,++Qs.cacheCount>qQ&&(Qs.cacheCount=0,Qs.widthCache={}),c}catch{return{width:0,height:0}}},KQ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function yh(e,t){return XQ(e)||YQ(e,t)||QQ(e,t)||GQ()}function GQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QQ(e,t){if(e){if(typeof e=="string")return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nS(e,t)}}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function XQ(e){if(Array.isArray(e))return e}function JQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eY(n.key),n)}}function ZQ(e,t,r){return t&&iS(e.prototype,t),r&&iS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eY(e){var t=tY(e,"string");return wu(t)=="symbol"?t:t+""}function tY(e,t){if(wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$T={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iY=Object.keys($T),go="NaN";function aY(e,t){return e*$T[t]}var Zd=function(){function e(t,r){JQ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rY.test(r)&&(this.num=NaN,this.unit=""),iY.includes(r)&&(this.num=aY(t,r),this.unit="px")}return ZQ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=nY.exec(r))!==null&&n!==void 0?n:[],a=yh(i,3),s=a[1],o=a[2];return new e(parseFloat(s),o??"")}}])}();function RT(e){if(e.includes(go))return go;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=aS.exec(t))!==null&&r!==void 0?r:[],i=yh(n,4),a=i[1],s=i[2],o=i[3],c=Zd.parse(a??""),u=Zd.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return go;t=t.replace(aS,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=sS.exec(t))!==null&&f!==void 0?f:[],p=yh(h,4),v=p[1],y=p[2],x=p[3],m=Zd.parse(v??""),g=Zd.parse(x??""),b=y==="+"?m.add(g):m.subtract(g);if(b.isNaN())return go;t=t.replace(sS,b.toString())}return t}var oS=/\(([^()]*)\)/;function sY(e){for(var t=e;t.includes("(");){var r=oS.exec(t),n=yh(r,2),i=n[1];t=t.replace(oS,RT(i))}return t}function oY(e){var t=e.replace(/\s+/g,"");return t=sY(t),t=RT(t),t}function lY(e){try{return oY(e)}catch{return go}}function bg(e){var t=lY(e.slice(5,-1));return t===go?"":t}var cY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uY=["dx","dy","angle","className","breakAll"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(this,arguments)}function lS(e,t){if(e==null)return{};var r=dY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cS(e,t){return mY(e)||pY(e,t)||hY(e,t)||fY()}function fY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(e,t){if(e){if(typeof e=="string")return uS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uS(e,t)}}function uS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function mY(e){if(Array.isArray(e))return e}var MT=/[ \f\n\r\t\v\u2028\u2029]+/,IT=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];ge(r)||(n?a=r.toString().split(""):a=r.toString().split(MT));var s=a.map(function(c){return{word:c,width:Dc(c,i).width}}),o=n?0:Dc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},gY=function(t,r,n,i,a){var s=t.maxLines,o=t.children,c=t.style,u=t.breakAll,d=X(s),f=o,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(F,q){var R=q.word,B=q.width,U=F[F.length-1];if(U&&(i==null||a||U.width+B+n<Number(i)))U.words.push(R),U.width+=B+n;else{var V={words:[R],width:B};F.push(V)}return F},[])},p=h(r),v=function(D){return D.reduce(function(F,q){return F.width>q.width?F:q})};if(!d)return p;for(var y="",x=function(D){var F=f.slice(0,D),q=IT({breakAll:u,style:c,children:F+y}).wordsWithComputedWidth,R=h(q),B=R.length>s||v(R).width>Number(i);return[B,R]},m=0,g=f.length-1,b=0,_;m<=g&&b<=f.length-1;){var w=Math.floor((m+g)/2),j=w-1,S=x(j),N=cS(S,2),P=N[0],A=N[1],k=x(w),T=cS(k,1),M=T[0];if(!P&&!M&&(m=w+1),P&&M&&(g=w-1),!P&&M){_=A;break}b++}return _||p},dS=function(t){var r=ge(t)?[]:t.toString().split(MT);return[{words:r}]},vY=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Fs.isSsr){var c,u,d=IT({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return dS(i);return gY({breakAll:s,children:i,maxLines:o,style:a},c,u,r,n)}return dS(i)},fS="#808080",As=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,y=v===void 0?"end":v,x=t.fill,m=x===void 0?fS:x,g=lS(t,cY),b=O.useMemo(function(){return vY({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),_=g.dx,w=g.dy,j=g.angle,S=g.className,N=g.breakAll,P=lS(g,uY);if(!Mt(n)||!Mt(a))return null;var A=n+(X(_)?_:0),k=a+(X(w)?w:0),T;switch(y){case"start":T=bg("calc(".concat(u,")"));break;case"middle":T=bg("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:T=bg("calc(".concat(b.length-1," * -").concat(o,")"));break}var M=[];if(f){var I=b[0].width,D=g.width;M.push("scale(".concat((X(D)?D/I:1)/I,")"))}return j&&M.push("rotate(".concat(j,", ").concat(A,", ").concat(k,")")),M.length&&(P.transform=M.join(" ")),E.createElement("text",Gy({},de(P,!0),{x:A,y:k,className:ve("recharts-text",S),textAnchor:p,fill:m.includes("url")?fS:m}),b.map(function(F,q){var R=F.words.join(N?"":" ");return E.createElement("tspan",{x:A,dy:q===0?T:o,key:"".concat(R,"-").concat(q)},R)}))};function _a(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wb(e){let t,r,n;e.length!==2?(t=_a,r=(o,c)=>_a(e(o),c),n=(o,c)=>e(o)-c):(t=e===_a||e===yY?e:xY,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function xY(){return 0}function LT(e){return e===null?NaN:+e}function*bY(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wY=Wb(_a),fd=wY.right;Wb(LT).center;class hS extends Map{constructor(t,r=SY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(pS(this,t))}has(t){return super.has(pS(this,t))}set(t,r){return super.set(_Y(this,t),r)}delete(t){return super.delete(jY(this,t))}}function pS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _Y({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jY({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function SY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NY(e=_a){if(e===_a)return DT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function DT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const OY=Math.sqrt(50),PY=Math.sqrt(10),EY=Math.sqrt(2);function xh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=OY?10:a>=PY?5:a>=EY?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?xh(e,t,r*2):[o,c,u]}function Qy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?xh(t,e,r):xh(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function Yy(e,t,r){return t=+t,e=+e,r=+r,xh(e,t,r)[2]}function Xy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Yy(t,e,r):Yy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function mS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function FT(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?DT:NY(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));FT(e,t,p,v,i)}const a=e[t];let s=r,o=n;for(dc(e,r,t),i(e[n],a)>0&&dc(e,r,n);s<o;){for(dc(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?dc(e,r,o):(++o,dc(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function dc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function kY(e,t,r){if(e=Float64Array.from(bY(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gS(e);if(t>=1)return mS(e);var n,i=(n-1)*t,a=Math.floor(i),s=mS(FT(e,a).subarray(0,a+1)),o=gS(e.subarray(a+1));return s+(o-s)*(i-a)}}function AY(e,t,r=LT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function TY(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function pn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ii(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jy=Symbol("implicit");function qb(){var e=new hS,t=[],r=[],n=Jy;function i(a){let s=e.get(a);if(s===void 0){if(n!==Jy)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new hS;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return qb(t,r).unknown(n)},pn.apply(i,arguments),i}function _u(){var e=qb().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,v=p?i:n,y=p?n:i;a=(y-v)/Math.max(1,h-c+u*2),o&&(a=Math.floor(a)),v+=(y-v-a*(h-c))*d,s=a*(1-c),o&&(v=Math.round(v),s=Math.round(s));var x=TY(h).map(function(m){return v+a*m});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return _u(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},pn.apply(f(),arguments)}function BT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BT(t())},e}function Fc(){return BT(_u.apply(null,arguments).paddingInner(1))}function Vb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hd(){}var ju=.7,bh=1/ju,To="\\s*([+-]?\\d+)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CY=/^#([0-9a-f]{3,8})$/,$Y=new RegExp(`^rgb\\(${To},${To},${To}\\)$`),RY=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),MY=new RegExp(`^rgba\\(${To},${To},${To},${Su}\\)$`),IY=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${Su}\\)$`),LY=new RegExp(`^hsl\\(${Su},${Vn},${Vn}\\)$`),DY=new RegExp(`^hsla\\(${Su},${Vn},${Vn},${Su}\\)$`),vS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vb(hd,Nu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yS,formatHex:yS,formatHex8:FY,formatHsl:BY,formatRgb:xS,toString:xS});function yS(){return this.rgb().formatHex()}function FY(){return this.rgb().formatHex8()}function BY(){return zT(this).formatHsl()}function xS(){return this.rgb().formatRgb()}function Nu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=CY.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?bS(t):r===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ef(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ef(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$Y.exec(e))?new Sr(t[1],t[2],t[3],1):(t=RY.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=MY.exec(e))?ef(t[1],t[2],t[3],t[4]):(t=IY.exec(e))?ef(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LY.exec(e))?jS(t[1],t[2]/100,t[3]/100,1):(t=DY.exec(e))?jS(t[1],t[2]/100,t[3]/100,t[4]):vS.hasOwnProperty(e)?bS(vS[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function bS(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function ef(e,t,r,n){return n<=0&&(e=t=r=NaN),new Sr(e,t,r,n)}function UY(e){return e instanceof hd||(e=Nu(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function Zy(e,t,r,n){return arguments.length===1?UY(e):new Sr(e,t,r,n??1)}function Sr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Vb(Sr,Zy,UT(hd,{brighter(e){return e=e==null?bh:Math.pow(bh,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(vs(this.r),vs(this.g),vs(this.b),wh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wS,formatHex:wS,formatHex8:zY,formatRgb:_S,toString:_S}));function wS(){return`#${rs(this.r)}${rs(this.g)}${rs(this.b)}`}function zY(){return`#${rs(this.r)}${rs(this.g)}${rs(this.b)}${rs((isNaN(this.opacity)?1:this.opacity)*255)}`}function _S(){const e=wh(this.opacity);return`${e===1?"rgb(":"rgba("}${vs(this.r)}, ${vs(this.g)}, ${vs(this.b)}${e===1?")":`, ${e})`}`}function wh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function rs(e){return e=vs(e),(e<16?"0":"")+e.toString(16)}function jS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pn(e,t,r,n)}function zT(e){if(e instanceof Pn)return new Pn(e.h,e.s,e.l,e.opacity);if(e instanceof hd||(e=Nu(e)),!e)return new Pn;if(e instanceof Pn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Pn(s,o,c,e.opacity)}function WY(e,t,r,n){return arguments.length===1?zT(e):new Pn(e,t,r,n??1)}function Pn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Vb(Pn,WY,UT(hd,{brighter(e){return e=e==null?bh:Math.pow(bh,e),new Pn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new Pn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Sr(wg(e>=240?e-240:e+120,i,n),wg(e,i,n),wg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Pn(SS(this.h),tf(this.s),tf(this.l),wh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wh(this.opacity);return`${e===1?"hsl(":"hsla("}${SS(this.h)}, ${tf(this.s)*100}%, ${tf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SS(e){return e=(e||0)%360,e<0?e+360:e}function tf(e){return Math.max(0,Math.min(1,e||0))}function wg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Hb=e=>()=>e;function qY(e,t){return function(r){return e+r*t}}function VY(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function HY(e){return(e=+e)==1?WT:function(t,r){return r-t?VY(t,r,e):Hb(isNaN(t)?r:t)}}function WT(e,t){var r=t-e;return r?qY(e,r):Hb(isNaN(e)?t:e)}const NS=function e(t){var r=HY(t);function n(i,a){var s=r((i=Zy(i)).r,(a=Zy(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=WT(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function KY(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function GY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QY(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Kl(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function YY(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function _h(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function XY(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Kl(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var e0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_g=new RegExp(e0.source,"g");function JY(e){return function(){return e}}function ZY(e){return function(t){return e(t)+""}}function eX(e,t){var r=e0.lastIndex=_g.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=e0.exec(e))&&(i=_g.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:_h(n,i)})),r=_g.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?ZY(c[0].x):JY(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Kl(e,t){var r=typeof t,n;return t==null||r==="boolean"?Hb(t):(r==="number"?_h:r==="string"?(n=Nu(t))?(t=n,NS):eX:t instanceof Nu?NS:t instanceof Date?YY:GY(t)?KY:Array.isArray(t)?QY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XY:_h)(e,t)}function Kb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tX(e,t){t===void 0&&(t=e,e=Kl);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function rX(e){return function(){return e}}function jh(e){return+e}var OS=[0,1];function mr(e){return e}function t0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rX(isNaN(t)?NaN:.5)}function nX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iX(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=t0(i,n),a=r(s,a)):(n=t0(n,i),a=r(a,s)),function(o){return a(n(o))}}function aX(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=t0(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=fd(e,o,1,n)-1;return a[c](i[c](o))}}function pd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yp(){var e=OS,t=OS,r=Kl,n,i,a,s=mr,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==mr&&(s=nX(e[0],e[h-1])),o=h>2?aX:iX,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),_h)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,jh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Kb,d()},f.clamp=function(h){return arguments.length?(s=h?!0:mr,d()):s!==mr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function Gb(){return Yp()(mr,mr)}function sX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ol(e){return e=Sh(Math.abs(e)),e?e[1]:NaN}function oX(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function lX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ou(e){if(!(t=cX.exec(e)))throw new Error("invalid format: "+e);var t;return new Qb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ou.prototype=Qb.prototype;function Qb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uX(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var qT;function dX(e,t){var r=Sh(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(qT=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Sh(e,Math.max(0,t+a-1))[0]}function PS(e,t){var r=Sh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ES={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PS(e*100,t),r:PS,s:dX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kS(e){return e}var AS=Array.prototype.map,TS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fX(e){var t=e.grouping===void 0||e.thousands===void 0?kS:oX(AS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?kS:lX(AS.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ou(f);var h=f.fill,p=f.align,v=f.sign,y=f.symbol,x=f.zero,m=f.width,g=f.comma,b=f.precision,_=f.trim,w=f.type;w==="n"?(g=!0,w="g"):ES[w]||(b===void 0&&(b=12),_=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var j=y==="$"?r:y==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=y==="$"?n:/[%p]/.test(w)?s:"",N=ES[w],P=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(k){var T=j,M=S,I,D,F;if(w==="c")M=N(k)+M,k="";else{k=+k;var q=k<0||1/k<0;if(k=isNaN(k)?c:N(Math.abs(k),b),_&&(k=uX(k)),q&&+k==0&&v!=="+"&&(q=!1),T=(q?v==="("?v:o:v==="-"||v==="("?"":v)+T,M=(w==="s"?TS[8+qT/3]:"")+M+(q&&v==="("?")":""),P){for(I=-1,D=k.length;++I<D;)if(F=k.charCodeAt(I),48>F||F>57){M=(F===46?i+k.slice(I+1):k.slice(I))+M,k=k.slice(0,I);break}}}g&&!x&&(k=t(k,1/0));var R=T.length+k.length+M.length,B=R<m?new Array(m-R+1).join(h):"";switch(g&&x&&(k=t(B+k,B.length?m-M.length:1/0),B=""),p){case"<":k=T+k+M+B;break;case"=":k=T+B+k+M;break;case"^":k=B.slice(0,R=B.length>>1)+T+k+M+B.slice(R);break;default:k=B+T+k+M;break}return a(k)}return A.toString=function(){return f+""},A}function d(f,h){var p=u((f=Ou(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ol(h)/3)))*3,y=Math.pow(10,-v),x=TS[8+v/3];return function(m){return p(y*m)+x}}return{format:u,formatPrefix:d}}var rf,Yb,VT;hX({thousands:",",grouping:[3],currency:["$",""]});function hX(e){return rf=fX(e),Yb=rf.format,VT=rf.formatPrefix,rf}function pX(e){return Math.max(0,-ol(Math.abs(e)))}function mX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ol(t)/3)))*3-ol(Math.abs(e)))}function gX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ol(t)-ol(e))+1}function HT(e,t,r,n){var i=Xy(e,t,r),a;switch(n=Ou(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=mX(i,s))&&(n.precision=a),VT(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=gX(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=pX(i))&&(n.precision=a-(n.type==="%")*2);break}}return Yb(n)}function Ca(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return HT(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Yy(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Nh(){var e=Gb();return e.copy=function(){return pd(e,Nh())},pn.apply(e,arguments),Ca(e)}function KT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return KT(e).unknown(t)},e=arguments.length?Array.from(e,jh):[0,1],Ca(r)}function GT(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function CS(e){return Math.log(e)}function $S(e){return Math.exp(e)}function vX(e){return-Math.log(-e)}function yX(e){return-Math.exp(-e)}function xX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bX(e){return e===10?xX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function RS(e){return(t,r)=>-e(-t,r)}function Xb(e){const t=e(CS,$S),r=t.domain;let n=10,i,a;function s(){return i=wX(n),a=bX(n),r()[0]<0?(i=RS(i),a=RS(a),e(vX,yX)):e(CS,$S),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),v,y;const x=o==null?10:+o;let m=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(y=h<0?v/a(-h):v*a(h),!(y<u)){if(y>d)break;m.push(y)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(y=h>0?v/a(-h):v*a(h),!(y<u)){if(y>d)break;m.push(y)}m.length*2<x&&(m=Qy(u,d,x))}else m=Qy(h,p,Math.min(p-h,x)).map(a);return f?m.reverse():m},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ou(c)).precision==null&&(c.trim=!0),c=Yb(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(GT(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function QT(){const e=Xb(Yp()).domain([1,10]);return e.copy=()=>pd(e,QT()).base(e.base()),pn.apply(e,arguments),e}function MS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function IS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jb(e){var t=1,r=e(MS(t),IS(t));return r.constant=function(n){return arguments.length?e(MS(t=+n),IS(t)):t},Ca(r)}function YT(){var e=Jb(Yp());return e.copy=function(){return pd(e,YT()).constant(e.constant())},pn.apply(e,arguments)}function LS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _X(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jX(e){return e<0?-e*e:e*e}function Zb(e){var t=e(mr,mr),r=1;function n(){return r===1?e(mr,mr):r===.5?e(_X,jX):e(LS(r),LS(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ca(t)}function ew(){var e=Zb(Yp());return e.copy=function(){return pd(e,ew()).exponent(e.exponent())},pn.apply(e,arguments),e}function SX(){return ew.apply(null,arguments).exponent(.5)}function DS(e){return Math.sign(e)*e*e}function NX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XT(){var e=Gb(),t=[0,1],r=!1,n;function i(a){var s=NX(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(DS(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,jh)).map(DS)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return XT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},pn.apply(i,arguments),Ca(i)}function JT(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=AY(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[fd(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(_a),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return JT().domain(e).range(t).unknown(n)},pn.apply(a,arguments)}function ZT(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[fd(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return ZT().domain([e,t]).range(i).unknown(a)},pn.apply(Ca(s),arguments)}function eC(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[fd(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eC().domain(e).range(t).unknown(r)},pn.apply(i,arguments)}const jg=new Date,Sg=new Date;function It(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>It(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(jg.setTime(+a),Sg.setTime(+s),e(jg),e(Sg),Math.floor(r(jg,Sg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Oh=It(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Oh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?It(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Oh);Oh.range;const gi=1e3,sn=gi*60,vi=sn*60,Ai=vi*24,tw=Ai*7,FS=Ai*30,Ng=Ai*365,ns=It(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCSeconds());ns.range;const rw=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi)},(e,t)=>{e.setTime(+e+t*sn)},(e,t)=>(t-e)/sn,e=>e.getMinutes());rw.range;const nw=It(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sn)},(e,t)=>(t-e)/sn,e=>e.getUTCMinutes());nw.range;const iw=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gi-e.getMinutes()*sn)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getHours());iw.range;const aw=It(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCHours());aw.range;const md=It(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sn)/Ai,e=>e.getDate()-1);md.range;const Xp=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ai,e=>e.getUTCDate()-1);Xp.range;const tC=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ai,e=>Math.floor(e/Ai));tC.range;function Bs(e){return It(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sn)/tw)}const Jp=Bs(0),Ph=Bs(1),OX=Bs(2),PX=Bs(3),ll=Bs(4),EX=Bs(5),kX=Bs(6);Jp.range;Ph.range;OX.range;PX.range;ll.range;EX.range;kX.range;function Us(e){return It(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/tw)}const Zp=Us(0),Eh=Us(1),AX=Us(2),TX=Us(3),cl=Us(4),CX=Us(5),$X=Us(6);Zp.range;Eh.range;AX.range;TX.range;cl.range;CX.range;$X.range;const sw=It(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sw.range;const ow=It(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ow.range;const Ti=It(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ti.range;const Ci=It(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ci.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ci.range;function rC(e,t,r,n,i,a){const s=[[ns,1,gi],[ns,5,5*gi],[ns,15,15*gi],[ns,30,30*gi],[a,1,sn],[a,5,5*sn],[a,15,15*sn],[a,30,30*sn],[i,1,vi],[i,3,3*vi],[i,6,6*vi],[i,12,12*vi],[n,1,Ai],[n,2,2*Ai],[r,1,tw],[t,1,FS],[t,3,3*FS],[e,1,Ng]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=Wb(([,,x])=>x).right(s,h);if(p===s.length)return e.every(Xy(u/Ng,d/Ng,f));if(p===0)return Oh.every(Math.max(Xy(u,d,f),1));const[v,y]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return v.every(y)}return[o,c]}const[RX,MX]=rC(Ci,ow,Zp,tC,aw,nw),[IX,LX]=rC(Ti,sw,Jp,md,iw,rw);function Og(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function DX(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=hc(i),d=pc(i),f=hc(a),h=pc(a),p=hc(s),v=pc(s),y=hc(o),x=pc(o),m=hc(c),g=pc(c),b={a:q,A:R,b:B,B:U,c:null,d:VS,e:VS,f:oJ,g:vJ,G:xJ,H:iJ,I:aJ,j:sJ,L:nC,m:lJ,M:cJ,p:V,q:K,Q:GS,s:QS,S:uJ,u:dJ,U:fJ,V:hJ,w:pJ,W:mJ,x:null,X:null,y:gJ,Y:yJ,Z:bJ,"%":KS},_={a:le,A:Ne,b:Fe,B:st,c:null,d:HS,e:HS,f:SJ,g:RJ,G:IJ,H:wJ,I:_J,j:jJ,L:aC,m:NJ,M:OJ,p:Jt,q:Vt,Q:GS,s:QS,S:PJ,u:EJ,U:kJ,V:AJ,w:TJ,W:CJ,x:null,X:null,y:$J,Y:MJ,Z:LJ,"%":KS},w={a:A,A:k,b:T,B:M,c:I,d:WS,e:WS,f:eJ,g:zS,G:US,H:qS,I:qS,j:YX,L:ZX,m:QX,M:XX,p:P,q:GX,Q:rJ,s:nJ,S:JX,u:WX,U:qX,V:VX,w:zX,W:HX,x:D,X:F,y:zS,Y:US,Z:KX,"%":tJ};b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(ee,me){return function(ye){var H=[],rt=-1,Se=0,dt=ee.length,vt,Zt,ei;for(ye instanceof Date||(ye=new Date(+ye));++rt<dt;)ee.charCodeAt(rt)===37&&(H.push(ee.slice(Se,rt)),(Zt=BS[vt=ee.charAt(++rt)])!=null?vt=ee.charAt(++rt):Zt=vt==="e"?" ":"0",(ei=me[vt])&&(vt=ei(ye,Zt)),H.push(vt),Se=rt+1);return H.push(ee.slice(Se,rt)),H.join("")}}function S(ee,me){return function(ye){var H=fc(1900,void 0,1),rt=N(H,ee,ye+="",0),Se,dt;if(rt!=ye.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(me&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Se=Pg(fc(H.y,0,1)),dt=Se.getUTCDay(),Se=dt>4||dt===0?Eh.ceil(Se):Eh(Se),Se=Xp.offset(Se,(H.V-1)*7),H.y=Se.getUTCFullYear(),H.m=Se.getUTCMonth(),H.d=Se.getUTCDate()+(H.w+6)%7):(Se=Og(fc(H.y,0,1)),dt=Se.getDay(),Se=dt>4||dt===0?Ph.ceil(Se):Ph(Se),Se=md.offset(Se,(H.V-1)*7),H.y=Se.getFullYear(),H.m=Se.getMonth(),H.d=Se.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),dt="Z"in H?Pg(fc(H.y,0,1)).getUTCDay():Og(fc(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(dt+5)%7:H.w+H.U*7-(dt+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Pg(H)):Og(H)}}function N(ee,me,ye,H){for(var rt=0,Se=me.length,dt=ye.length,vt,Zt;rt<Se;){if(H>=dt)return-1;if(vt=me.charCodeAt(rt++),vt===37){if(vt=me.charAt(rt++),Zt=w[vt in BS?me.charAt(rt++):vt],!Zt||(H=Zt(ee,ye,H))<0)return-1}else if(vt!=ye.charCodeAt(H++))return-1}return H}function P(ee,me,ye){var H=u.exec(me.slice(ye));return H?(ee.p=d.get(H[0].toLowerCase()),ye+H[0].length):-1}function A(ee,me,ye){var H=p.exec(me.slice(ye));return H?(ee.w=v.get(H[0].toLowerCase()),ye+H[0].length):-1}function k(ee,me,ye){var H=f.exec(me.slice(ye));return H?(ee.w=h.get(H[0].toLowerCase()),ye+H[0].length):-1}function T(ee,me,ye){var H=m.exec(me.slice(ye));return H?(ee.m=g.get(H[0].toLowerCase()),ye+H[0].length):-1}function M(ee,me,ye){var H=y.exec(me.slice(ye));return H?(ee.m=x.get(H[0].toLowerCase()),ye+H[0].length):-1}function I(ee,me,ye){return N(ee,t,me,ye)}function D(ee,me,ye){return N(ee,r,me,ye)}function F(ee,me,ye){return N(ee,n,me,ye)}function q(ee){return s[ee.getDay()]}function R(ee){return a[ee.getDay()]}function B(ee){return c[ee.getMonth()]}function U(ee){return o[ee.getMonth()]}function V(ee){return i[+(ee.getHours()>=12)]}function K(ee){return 1+~~(ee.getMonth()/3)}function le(ee){return s[ee.getUTCDay()]}function Ne(ee){return a[ee.getUTCDay()]}function Fe(ee){return c[ee.getUTCMonth()]}function st(ee){return o[ee.getUTCMonth()]}function Jt(ee){return i[+(ee.getUTCHours()>=12)]}function Vt(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var me=j(ee+="",b);return me.toString=function(){return ee},me},parse:function(ee){var me=S(ee+="",!1);return me.toString=function(){return ee},me},utcFormat:function(ee){var me=j(ee+="",_);return me.toString=function(){return ee},me},utcParse:function(ee){var me=S(ee+="",!0);return me.toString=function(){return ee},me}}}var BS={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,FX=/^%/,BX=/[\\^$*+?|[\]().{}]/g;function ke(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function UX(e){return e.replace(BX,"\\$&")}function hc(e){return new RegExp("^(?:"+e.map(UX).join("|")+")","i")}function pc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function zX(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function WX(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qX(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VX(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function HX(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function US(e,t,r){var n=qt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function zS(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function KX(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function GX(e,t,r){var n=qt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function QX(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function WS(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function YX(e,t,r){var n=qt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function qS(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function XX(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JX(e,t,r){var n=qt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ZX(e,t,r){var n=qt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eJ(e,t,r){var n=qt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tJ(e,t,r){var n=FX.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rJ(e,t,r){var n=qt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nJ(e,t,r){var n=qt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function VS(e,t){return ke(e.getDate(),t,2)}function iJ(e,t){return ke(e.getHours(),t,2)}function aJ(e,t){return ke(e.getHours()%12||12,t,2)}function sJ(e,t){return ke(1+md.count(Ti(e),e),t,3)}function nC(e,t){return ke(e.getMilliseconds(),t,3)}function oJ(e,t){return nC(e,t)+"000"}function lJ(e,t){return ke(e.getMonth()+1,t,2)}function cJ(e,t){return ke(e.getMinutes(),t,2)}function uJ(e,t){return ke(e.getSeconds(),t,2)}function dJ(e){var t=e.getDay();return t===0?7:t}function fJ(e,t){return ke(Jp.count(Ti(e)-1,e),t,2)}function iC(e){var t=e.getDay();return t>=4||t===0?ll(e):ll.ceil(e)}function hJ(e,t){return e=iC(e),ke(ll.count(Ti(e),e)+(Ti(e).getDay()===4),t,2)}function pJ(e){return e.getDay()}function mJ(e,t){return ke(Ph.count(Ti(e)-1,e),t,2)}function gJ(e,t){return ke(e.getFullYear()%100,t,2)}function vJ(e,t){return e=iC(e),ke(e.getFullYear()%100,t,2)}function yJ(e,t){return ke(e.getFullYear()%1e4,t,4)}function xJ(e,t){var r=e.getDay();return e=r>=4||r===0?ll(e):ll.ceil(e),ke(e.getFullYear()%1e4,t,4)}function bJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ke(t/60|0,"0",2)+ke(t%60,"0",2)}function HS(e,t){return ke(e.getUTCDate(),t,2)}function wJ(e,t){return ke(e.getUTCHours(),t,2)}function _J(e,t){return ke(e.getUTCHours()%12||12,t,2)}function jJ(e,t){return ke(1+Xp.count(Ci(e),e),t,3)}function aC(e,t){return ke(e.getUTCMilliseconds(),t,3)}function SJ(e,t){return aC(e,t)+"000"}function NJ(e,t){return ke(e.getUTCMonth()+1,t,2)}function OJ(e,t){return ke(e.getUTCMinutes(),t,2)}function PJ(e,t){return ke(e.getUTCSeconds(),t,2)}function EJ(e){var t=e.getUTCDay();return t===0?7:t}function kJ(e,t){return ke(Zp.count(Ci(e)-1,e),t,2)}function sC(e){var t=e.getUTCDay();return t>=4||t===0?cl(e):cl.ceil(e)}function AJ(e,t){return e=sC(e),ke(cl.count(Ci(e),e)+(Ci(e).getUTCDay()===4),t,2)}function TJ(e){return e.getUTCDay()}function CJ(e,t){return ke(Eh.count(Ci(e)-1,e),t,2)}function $J(e,t){return ke(e.getUTCFullYear()%100,t,2)}function RJ(e,t){return e=sC(e),ke(e.getUTCFullYear()%100,t,2)}function MJ(e,t){return ke(e.getUTCFullYear()%1e4,t,4)}function IJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?cl(e):cl.ceil(e),ke(e.getUTCFullYear()%1e4,t,4)}function LJ(){return"+0000"}function KS(){return"%"}function GS(e){return+e}function QS(e){return Math.floor(+e/1e3)}var Ys,oC,lC;DJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DJ(e){return Ys=DX(e),oC=Ys.format,Ys.parse,lC=Ys.utcFormat,Ys.utcParse,Ys}function FJ(e){return new Date(e)}function BJ(e){return e instanceof Date?+e:+new Date(+e)}function lw(e,t,r,n,i,a,s,o,c,u){var d=Gb(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),y=u("%I:%M"),x=u("%I %p"),m=u("%a %d"),g=u("%b %d"),b=u("%B"),_=u("%Y");function w(j){return(c(j)<j?p:o(j)<j?v:s(j)<j?y:a(j)<j?x:n(j)<j?i(j)<j?m:g:r(j)<j?b:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,BJ)):h().map(FJ)},d.ticks=function(j){var S=h();return e(S[0],S[S.length-1],j??10)},d.tickFormat=function(j,S){return S==null?w:u(S)},d.nice=function(j){var S=h();return(!j||typeof j.range!="function")&&(j=t(S[0],S[S.length-1],j??10)),j?h(GT(S,j)):d},d.copy=function(){return pd(d,lw(e,t,r,n,i,a,s,o,c,u))},d}function UJ(){return pn.apply(lw(IX,LX,Ti,sw,Jp,md,iw,rw,ns,oC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zJ(){return pn.apply(lw(RX,MX,Ci,ow,Zp,Xp,aw,nw,ns,lC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function em(){var e=0,t=1,r,n,i,a,s=mr,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,s=f(p,v),u):[s(0),s(1)]}}return u.range=d(Kl),u.rangeRound=d(Kb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function $a(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cC(){var e=Ca(em()(mr));return e.copy=function(){return $a(e,cC())},Ii.apply(e,arguments)}function uC(){var e=Xb(em()).domain([1,10]);return e.copy=function(){return $a(e,uC()).base(e.base())},Ii.apply(e,arguments)}function dC(){var e=Jb(em());return e.copy=function(){return $a(e,dC()).constant(e.constant())},Ii.apply(e,arguments)}function cw(){var e=Zb(em());return e.copy=function(){return $a(e,cw()).exponent(e.exponent())},Ii.apply(e,arguments)}function WJ(){return cw.apply(null,arguments).exponent(.5)}function fC(){var e=[],t=mr;function r(n){if(n!=null&&!isNaN(n=+n))return t((fd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(_a),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>kY(e,a/n))},r.copy=function(){return fC(t).domain(e)},Ii.apply(r,arguments)}function tm(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=mr,d,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-a)*(n*y<n*a?o:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,r]=y,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function v(y){return function(x){var m,g,b;return arguments.length?([m,g,b]=x,u=tX(y,[m,g,b]),p):[u(0),u(.5),u(1)]}}return p.range=v(Kl),p.rangeRound=v(Kb),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return d=y,i=y(e),a=y(t),s=y(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function hC(){var e=Ca(tm()(mr));return e.copy=function(){return $a(e,hC())},Ii.apply(e,arguments)}function pC(){var e=Xb(tm()).domain([.1,1,10]);return e.copy=function(){return $a(e,pC()).base(e.base())},Ii.apply(e,arguments)}function mC(){var e=Jb(tm());return e.copy=function(){return $a(e,mC()).constant(e.constant())},Ii.apply(e,arguments)}function uw(){var e=Zb(tm());return e.copy=function(){return $a(e,uw()).exponent(e.exponent())},Ii.apply(e,arguments)}function qJ(){return uw.apply(null,arguments).exponent(.5)}const YS=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_u,scaleDiverging:hC,scaleDivergingLog:pC,scaleDivergingPow:uw,scaleDivergingSqrt:qJ,scaleDivergingSymlog:mC,scaleIdentity:KT,scaleImplicit:Jy,scaleLinear:Nh,scaleLog:QT,scaleOrdinal:qb,scalePoint:Fc,scalePow:ew,scaleQuantile:JT,scaleQuantize:ZT,scaleRadial:XT,scaleSequential:cC,scaleSequentialLog:uC,scaleSequentialPow:cw,scaleSequentialQuantile:fC,scaleSequentialSqrt:WJ,scaleSequentialSymlog:dC,scaleSqrt:SX,scaleSymlog:YT,scaleThreshold:eC,scaleTime:UJ,scaleUtc:zJ,tickFormat:HT},Symbol.toStringTag,{value:"Module"}));var VJ=Dl;function HJ(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s===s&&!VJ(s):r(s,o)))var o=s,c=a}return c}var rm=HJ;function KJ(e,t){return e>t}var gC=KJ,GJ=rm,QJ=gC,YJ=Hl;function XJ(e){return e&&e.length?GJ(e,YJ,QJ):void 0}var JJ=XJ;const nm=Ie(JJ);function ZJ(e,t){return e<t}var vC=ZJ,eZ=rm,tZ=vC,rZ=Hl;function nZ(e){return e&&e.length?eZ(e,rZ,tZ):void 0}var iZ=nZ;const im=Ie(iZ);var aZ=jb,sZ=Zn,oZ=NT,lZ=kr;function cZ(e,t){var r=lZ(e)?aZ:oZ;return r(e,sZ(t))}var uZ=cZ,dZ=jT,fZ=uZ;function hZ(e,t){return dZ(fZ(e,t),1)}var pZ=hZ;const mZ=Ie(pZ);var gZ=Db;function vZ(e,t){return gZ(e,t)}var yZ=vZ;const gd=Ie(yZ);var Gl=1e9,xZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fw,at=!0,dn="[DecimalError] ",ys=dn+"Invalid argument: ",dw=dn+"Exponent out of range: ",Ql=Math.floor,Va=Math.pow,bZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,Ft=1e7,Ze=7,yC=9007199254740991,kh=Ql(yC/Ze),ae={};ae.absoluteValue=ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ae.comparedTo=ae.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(e){return ji(this,new this.constructor(e))};ae.dividedToIntegerBy=ae.idiv=function(e){var t=this,r=t.constructor;return Be(ji(t,new r(e),0,1),r.precision)};ae.equals=ae.eq=function(e){return!this.cmp(e)};ae.exponent=function(){return Ot(this)};ae.greaterThan=ae.gt=function(e){return this.cmp(e)>0};ae.greaterThanOrEqualTo=ae.gte=function(e){return this.cmp(e)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(e){return this.cmp(e)<0};ae.lessThanOrEqualTo=ae.lte=function(e){return this.cmp(e)<1};ae.logarithm=ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Dr))throw Error(dn+"NaN");if(r.s<1)throw Error(dn+(r.s?"NaN":"-Infinity"));return r.eq(Dr)?new n(0):(at=!1,t=ji(Pu(r,a),Pu(e,a),a),at=!0,Be(t,i))};ae.minus=ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wC(t,e):xC(t,(e.s=-e.s,e))};ae.modulo=ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(dn+"NaN");return r.s?(at=!1,t=ji(r,e,0,1).times(e),at=!0,r.minus(t)):Be(new n(r),i)};ae.naturalExponential=ae.exp=function(){return bC(this)};ae.naturalLogarithm=ae.ln=function(){return Pu(this)};ae.negated=ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ae.plus=ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xC(t,e):wC(t,(e.s=-e.s,e))};ae.precision=ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ys+e);if(t=Ot(i)+1,n=i.d.length-1,r=n*Ze+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ae.squareRoot=ae.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(dn+"NaN")}for(e=Ot(o),at=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=zn(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ql((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(ji(o,a,s+2)).times(.5),zn(a.d).slice(0,s)===(t=zn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Be(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return at=!0,Be(n,r)};ae.times=ae.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+p[n]*h[i-n-1]+t,a[i--]=o%Ft|0,t=o/Ft|0;a[i]=(a[i]+t)%Ft|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,at?Be(e,f.precision):e};ae.toDecimalPlaces=ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gn(e,0,Gl),t===void 0?t=n.rounding:Gn(t,0,8),Be(r,e+Ot(r)+1,t))};ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ts(n,!0):(Gn(e,0,Gl),t===void 0?t=i.rounding:Gn(t,0,8),n=Be(new i(n),e+1,t),r=Ts(n,!0,e+1)),r};ae.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Ts(i):(Gn(e,0,Gl),t===void 0?t=a.rounding:Gn(t,0,8),n=Be(new a(i),e+Ot(i)+1,t),r=Ts(n.abs(),!1,e+Ot(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var e=this,t=e.constructor;return Be(new t(e),Ot(e)+1,t.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Dr);if(o=new c(o),!o.s){if(e.s<1)throw Error(dn+"Infinity");return o}if(o.eq(Dr))return o;if(n=c.precision,e.eq(Dr))return Be(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=yC){for(i=new c(Dr),t=Math.ceil(n/Ze+4),at=!1;r%2&&(i=i.times(o),JS(i.d,t)),r=Ql(r/2),r!==0;)o=o.times(o),JS(o.d,t);return at=!0,e.s<0?new c(Dr).div(i):Be(i,n)}}else if(a<0)throw Error(dn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,at=!1,i=e.times(Pu(o,n+u)),at=!0,i=bC(i),i.s=a,i};ae.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Ot(i),n=Ts(i,r<=a.toExpNeg||r>=a.toExpPos)):(Gn(e,1,Gl),t===void 0?t=a.rounding:Gn(t,0,8),i=Be(new a(i),e,t),r=Ot(i),n=Ts(i,e<=r||r<=a.toExpNeg,e)),n};ae.toSignificantDigits=ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gn(e,1,Gl),t===void 0?t=n.rounding:Gn(t,0,8)),Be(new n(r),e,t)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ot(e),r=e.constructor;return Ts(e,t<=r.toExpNeg||t>=r.toExpPos)};function xC(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),at?Be(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(f/Ze),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ft|0,c[a]%=Ft;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,at?Be(t,f):t}function Gn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ys+e)}function zn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Ze-n.length,r&&(a+=Ki(r)),a+=n;s=e[t],n=s+"",r=Ze-n.length,r&&(a+=Ki(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ji=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ft|0,s=a/Ft|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ft+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,f,h,p,v,y,x,m,g,b,_,w,j,S,N,P=n.constructor,A=n.s==i.s?1:-1,k=n.d,T=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(dn+"Division by zero");for(c=n.e-i.e,S=T.length,w=k.length,p=new P(A),v=p.d=[],u=0;T[u]==(k[u]||0);)++u;if(T[u]>(k[u]||0)&&--c,a==null?g=a=P.precision:s?g=a+(Ot(n)-Ot(i))+1:g=a,g<0)return new P(0);if(g=g/Ze+2|0,u=0,S==1)for(d=0,T=T[0],g++;(u<w||d)&&g--;u++)b=d*Ft+(k[u]||0),v[u]=b/T|0,d=b%T|0;else{for(d=Ft/(T[0]+1)|0,d>1&&(T=e(T,d),k=e(k,d),S=T.length,w=k.length),_=S,y=k.slice(0,S),x=y.length;x<S;)y[x++]=0;N=T.slice(),N.unshift(0),j=T[0],T[1]>=Ft/2&&++j;do d=0,o=t(T,y,S,x),o<0?(m=y[0],S!=x&&(m=m*Ft+(y[1]||0)),d=m/j|0,d>1?(d>=Ft&&(d=Ft-1),f=e(T,d),h=f.length,x=y.length,o=t(f,y,h,x),o==1&&(d--,r(f,S<h?N:T,h))):(d==0&&(o=d=1),f=T.slice()),h=f.length,h<x&&f.unshift(0),r(y,f,x),o==-1&&(x=y.length,o=t(T,y,S,x),o<1&&(d++,r(y,S<x?N:T,x))),x=y.length):o===0&&(d++,y=[0]),v[u++]=d,o&&y[0]?y[x++]=k[_]||0:(y=[k[_]],x=1);while((_++<w||y[0]!==void 0)&&g--)}return v[0]||v.shift(),p.e=c,Be(p,s?a+Ot(p)+1:a)}}();function bC(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(Ot(e)>16)throw Error(dw+Ot(e));if(!e.s)return new d(Dr);for(at=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Va(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Dr),d.precision=o;;){if(i=Be(i.times(e),o),r=r.times(++c),s=a.plus(ji(i,r,o)),zn(s.d).slice(0,o)===zn(a.d).slice(0,o)){for(;u--;)a=Be(a.times(a),o);return d.precision=f,t==null?(at=!0,Be(a,f)):a}a=s}}function Ot(e){for(var t=e.e*Ze,r=e.d[0];r>=10;r/=10)t++;return t}function Eg(e,t,r){if(t>e.LN10.sd())throw at=!0,r&&(e.precision=r),Error(dn+"LN10 precision limit exceeded");return Be(new e(e.LN10),t)}function Ki(e){for(var t="";e--;)t+="0";return t}function Pu(e,t){var r,n,i,a,s,o,c,u,d,f=1,h=10,p=e,v=p.d,y=p.constructor,x=y.precision;if(p.s<1)throw Error(dn+(p.s?"NaN":"-Infinity"));if(p.eq(Dr))return new y(0);if(t==null?(at=!1,u=x):u=t,p.eq(10))return t==null&&(at=!0),Eg(y,u);if(u+=h,y.precision=u,r=zn(v),n=r.charAt(0),a=Ot(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=zn(p.d),n=r.charAt(0),f++;a=Ot(p),n>1?(p=new y("0."+r),a++):p=new y(n+"."+r.slice(1))}else return c=Eg(y,u+2,x).times(a+""),p=Pu(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=x,t==null?(at=!0,Be(p,x)):p;for(o=s=p=ji(p.minus(Dr),p.plus(Dr),u),d=Be(p.times(p),u),i=3;;){if(s=Be(s.times(d),u),c=o.plus(ji(s,new y(i),u)),zn(c.d).slice(0,u)===zn(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Eg(y,u+2,x).times(a+""))),o=ji(o,new y(f),u),y.precision=x,t==null?(at=!0,Be(o,x)):o;o=c,i+=2}}function XS(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ql(r/Ze),e.d=[],n=(r+1)%Ze,r<0&&(n+=Ze),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ze;n<i;)e.d.push(+t.slice(n,n+=Ze));t=t.slice(n),n=Ze-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),at&&(e.e>kh||e.e<-kh))throw Error(dw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Be(e,t,r){var n,i,a,s,o,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Ze,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ze),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Ze,i=n-Ze+s}if(r!==void 0&&(a=Va(10,s-i-1),o=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Va(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Ot(e),f.length=1,t=t-a-1,f[0]=Va(10,(Ze-t%Ze)%Ze),e.e=Ql(-t/Ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Va(10,Ze-n),f[d]=i>0?(u/Va(10,s-i)%Va(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Ft&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Ft)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(at&&(e.e>kh||e.e<-kh))throw Error(dw+Ot(e));return e}function wC(e,t){var r,n,i,a,s,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),at?Be(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(p/Ze),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Ft-1;--c[a],c[i]+=Ft}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,at?Be(t,p):t):new h(0)}function Ts(e,t,r){var n,i=Ot(e),a=zn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ki(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ki(-i-1)+a,r&&(n=r-s)>0&&(a+=Ki(n))):i>=s?(a+=Ki(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ki(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ki(n))),e.s<0?"-"+a:a}function JS(e,t){if(e.length>t)return e.length=t,!0}function _C(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ys+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return XS(s,a.toString())}else if(typeof a!="string")throw Error(ys+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,bZ.test(a))XS(s,a);else throw Error(ys+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_C,i.config=i.set=wZ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function wZ(e){if(!e||typeof e!="object")throw Error(dn+"Object expected");var t,r,n,i=["precision",1,Gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ql(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ys+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ys+r+": "+n);return this}var fw=_C(xZ);Dr=new fw(1);const De=fw;function _Z(e){return OZ(e)||NZ(e)||SZ(e)||jZ()}function jZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SZ(e,t){if(e){if(typeof e=="string")return r0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r0(e,t)}}function NZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function OZ(e){if(Array.isArray(e))return r0(e)}function r0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PZ=function(t){return t},jC={},SC=function(t){return t===jC},ZS=function(t){return function r(){return arguments.length===0||arguments.length===1&&SC(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},EZ=function e(t,r){return t===1?r:ZS(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==jC}).length;return s>=t?r.apply(void 0,i):e(t-s,ZS(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return SC(f)?c.shift():f});return r.apply(void 0,_Z(d).concat(c))}))})},am=function(t){return EZ(t.length,t)},n0=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},kZ=am(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),AZ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PZ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,c){return c(o)},a.apply(void 0,arguments))}},i0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},NC=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,c){return o===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function TZ(e){var t;return e===0?t=1:t=Math.floor(new De(e).abs().log(10).toNumber())+1,t}function CZ(e,t,r){for(var n=new De(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var $Z=am(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),RZ=am(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),MZ=am(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const sm={rangeStep:CZ,getDigitCount:TZ,interpolateNumber:$Z,uninterpolateNumber:RZ,uninterpolateTruncation:MZ};function a0(e){return DZ(e)||LZ(e)||OC(e)||IZ()}function IZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZ(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function DZ(e){if(Array.isArray(e))return s0(e)}function Eu(e,t){return UZ(e)||BZ(e,t)||OC(e,t)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OC(e,t){if(e){if(typeof e=="string")return s0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s0(e,t)}}function s0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BZ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function UZ(e){if(Array.isArray(e))return e}function PC(e){var t=Eu(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function EC(e,t,r){if(e.lte(0))return new De(0);var n=sm.getDigitCount(e.toNumber()),i=new De(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new De(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?c:new De(Math.ceil(c))}function zZ(e,t,r){var n=1,i=new De(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new De(10).pow(sm.getDigitCount(e)-1),i=new De(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new De(Math.floor(e)))}else e===0?i=new De(Math.floor((t-1)/2)):r||(i=new De(Math.floor(e)));var s=Math.floor((t-1)/2),o=AZ(kZ(function(c){return i.add(new De(c-s).mul(n)).toNumber()}),n0);return o(0,t)}function kC(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new De(0),tickMin:new De(0),tickMax:new De(0)};var a=EC(new De(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new De(0):(s=new De(e).add(t).div(2),s=s.sub(new De(s).mod(a)));var o=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new De(t).sub(s).div(a).toNumber()),u=o+c+1;return u>r?kC(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:a,tickMin:s.sub(new De(o).mul(a)),tickMax:s.add(new De(c).mul(a))})}function WZ(e){var t=Eu(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=PC([r,n]),c=Eu(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(a0(n0(0,i-1).map(function(){return 1/0}))):[].concat(a0(n0(0,i-1).map(function(){return-1/0})),[d]);return r>n?i0(f):f}if(u===d)return zZ(u,i,a);var h=kC(u,d,s,a),p=h.step,v=h.tickMin,y=h.tickMax,x=sm.rangeStep(v,y.add(new De(.1).mul(p)),p);return r>n?i0(x):x}function qZ(e,t){var r=Eu(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=PC([n,i]),o=Eu(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=EC(new De(u).sub(c).div(d-1),a,0),h=[].concat(a0(sm.rangeStep(new De(c),new De(u).sub(new De(.99).mul(f)),f)),[u]);return n>i?i0(h):h}var VZ=NC(WZ),HZ=NC(qZ),KZ="Invariant failed";function Cs(e,t){throw new Error(KZ)}var GZ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(this,arguments)}function QZ(e,t){return ZZ(e)||JZ(e,t)||XZ(e,t)||YZ()}function YZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XZ(e,t){if(e){if(typeof e=="string")return eN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,t)}}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ZZ(e){if(Array.isArray(e))return e}function eee(e,t){if(e==null)return{};var r=tee(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ree(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CC(n.key),n)}}function iee(e,t,r){return t&&nee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aee(e,t,r){return t=Th(t),see(e,AC()?Reflect.construct(t,r||[],Th(e).constructor):t.apply(e,r))}function see(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oee(e)}function oee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AC=function(){return!!e})()}function Th(e){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Th(e)}function lee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o0(e,t)}function o0(e,t){return o0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o0(e,t)}function TC(e,t,r){return t=CC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CC(e){var t=cee(e,"string");return ul(t)=="symbol"?t:t+""}function cee(e,t){if(ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vd=function(e){function t(){return ree(this,t),aee(this,t,arguments)}return lee(t,e),iee(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=eee(n,GZ),p=de(h,!1);this.props.direction==="x"&&d.type!=="number"&&Cs();var v=c.map(function(y){var x=u(y,o),m=x.x,g=x.y,b=x.value,_=x.errorVal;if(!_)return null;var w=[],j,S;if(Array.isArray(_)){var N=QZ(_,2);j=N[0],S=N[1]}else j=S=_;if(a==="vertical"){var P=d.scale,A=g+i,k=A+s,T=A-s,M=P(b-j),I=P(b+S);w.push({x1:I,y1:k,x2:I,y2:T}),w.push({x1:M,y1:A,x2:I,y2:A}),w.push({x1:M,y1:k,x2:M,y2:T})}else if(a==="horizontal"){var D=f.scale,F=m+i,q=F-s,R=F+s,B=D(b-j),U=D(b+S);w.push({x1:q,y1:U,x2:R,y2:U}),w.push({x1:F,y1:B,x2:F,y2:U}),w.push({x1:q,y1:B,x2:R,y2:B})}return E.createElement(Ee,Ah({className:"recharts-errorBar",key:"bar-".concat(w.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),w.map(function(V){return E.createElement("line",Ah({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return E.createElement(Ee,{className:"recharts-errorBars"},v)}}])}(E.Component);TC(vd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});TC(vd,"displayName","ErrorBar");function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){uee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uee(e,t,r){return t=dee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dee(e){var t=fee(e,"string");return ku(t)=="symbol"?t:t+""}function fee(e,t){if(ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $C=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=Rr(r,_i);if(!s)return null;var o=_i.defaultProps,c=o!==void 0?La(La({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(y){return{type:s.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?La(La({},h),f.props):{},v=p.dataKey,y=p.name,x=p.legendType,m=p.hide;return{inactive:m,dataKey:v,type:c.iconType||x||"square",color:hw(f),value:y||v,payload:p}}),La(La(La({},c),_i.getWithHeight(s,i)),{},{payload:u,item:s})};function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function rN(e){return gee(e)||mee(e)||pee(e)||hee()}function hee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pee(e,t){if(e){if(typeof e=="string")return l0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l0(e,t)}}function mee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gee(e){if(Array.isArray(e))return l0(e)}function l0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){Co(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Co(e,t,r){return t=vee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vee(e){var t=yee(e,"string");return Au(t)=="symbol"?t:t+""}function yee(e,t){if(Au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,r){return ge(e)||ge(t)?r:Mt(t)?zr(e,t,r):pe(t)?t(e):r}function Bc(e,t,r,n){var i=mZ(e,function(o){return $t(o,t)});if(r==="number"){var a=i.filter(function(o){return X(o)||parseFloat(o)});return a.length?[im(a),nm(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!ge(o)}):i;return s.map(function(o){return Mt(o)||o instanceof Date?o:""})}var xee=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(hr(f-d)!==hr(h-f)){var v=[];if(hr(h-f)===hr(c[1]-c[0])){p=h;var y=f+c[1]-c[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{p=d;var x=h+c[1]-c[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var m=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>m[0]&&t<=m[1]||t>=v[0]&&t<=v[1]){s=i[u].index;break}}else{var g=Math.min(d,h),b=Math.max(d,h);if(t>(g+f)/2&&t<=(b+f)/2){s=i[u].index;break}}}else for(var _=0;_<o;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},hw=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,s=a.stroke,o=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},bee=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),c=0,u=o.length;c<u;c++)for(var d=a[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],y=v.items,x=v.cateAxisId,m=y.filter(function(S){return wi(S.type).indexOf("Bar")>=0});if(m&&m.length){var g=m[0].type.defaultProps,b=g!==void 0?mt(mt({},g),m[0].props):m[0].props,_=b.barSize,w=b[x];s[w]||(s[w]=[]);var j=ge(_)?r:_;s[w].push({item:m[0],stackList:m.slice(1),barSize:ge(j)?void 0:pr(j,n,0)})}}return s},wee=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,o=t.maxBarSize,c=s.length;if(c<1)return null;var u=pr(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/c,v=s.reduce(function(_,w){return _+w.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(h=!0,p*=.9,v=c*p);var y=(i-v)/2>>0,x={offset:y-u,size:0};d=s.reduce(function(_,w){var j={item:w.item,position:{offset:x.offset+x.size+u,size:h?p:w.barSize}},S=[].concat(rN(_),[j]);return x=S[S.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(N){S.push({item:N,position:x})}),S},f)}else{var m=pr(n,i,0,!0);i-2*m-(c-1)*u<=0&&(u=0);var g=(i-2*m-(c-1)*u)/c;g>1&&(g>>=0);var b=o===+o?Math.min(g,o):g;d=s.reduce(function(_,w,j){var S=[].concat(rN(_),[{item:w.item,position:{offset:m+(g+u)*j+(g-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(N){S.push({item:N,position:S[S.length-1].position})}),S},f)}return d},_ee=function(t,r,n,i){var a=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=$C({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&p!=="center"&&X(t[p]))return mt(mt({},t),{},Co({},p,t[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&v!=="middle"&&X(t[v]))return mt(mt({},t),{},Co({},v,t[v]+(h||0)))}return t},jee=function(t,r,n){return ge(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},RC=function(t,r,n,i,a){var s=r.props.children,o=Wr(s,vd).filter(function(u){return jee(i,a,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=$t(d,n);if(ge(f))return u;var h=Array.isArray(f)?[im(f),nm(f)]:[f,f],p=c.reduce(function(v,y){var x=$t(d,y,0),m=h[0]-Math.abs(Array.isArray(x)?x[0]:x),g=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(m,v[0]),Math.max(g,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},See=function(t,r,n,i,a){var s=r.map(function(o){return RC(t,o,n,a,i)}).filter(function(o){return!ge(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},MC=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&RC(t,c,u,i)||Bc(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},IC=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},LC=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,s,o=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||o.push(r),s||o.push(n),o},yi=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?hr(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!ud(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},kg=new WeakMap,nf=function(t,r){if(typeof r!="function")return t;kg.has(t)||kg.set(t,new WeakMap);var n=kg.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},DC=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,o=t.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:_u(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Nh(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Fc(),realScaleType:"point"}:a==="category"?{scale:_u(),realScaleType:"band"}:{scale:Nh(),realScaleType:"linear"};if(Es(i)){var c="scale".concat(zp(i));return{scale:(YS[c]||Fc)(),realScaleType:YS[c]?c:"point"}}return pe(i)?{scale:i}:{scale:Fc(),realScaleType:"point"}},iN=1e-4,FC=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-iN,s=Math.max(i[0],i[1])+iN,o=t(r[0]),c=t(r[n-1]);(o<a||o>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},Nee=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Oee=function(t,r){if(!r||r.length!==2||!X(r[0])||!X(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!X(t[0])||t[0]<n)&&(a[0]=n),(!X(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Pee=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var c=ud(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=a,t[o][n][1]=a+c,a=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},Eee=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=ud(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},kee={sign:Pee,expand:Gz,none:rl,silhouette:Qz,wiggle:Yz,positive:Eee},Aee=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),a=kee[n],s=Kz().keys(i).value(function(o,c){return+$t(o,c,0)}).order($y).offset(a);return s(t)},Tee=function(t,r,n,i,a,s){if(!t)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?mt(mt({},h.type.defaultProps),h.props):h.props,y=v.stackId,x=v.hide;if(x)return f;var m=v[n],g=f[m]||{hasStack:!1,stackGroups:{}};if(Mt(y)){var b=g.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),g.hasStack=!0,g.stackGroups[y]=b}else g.stackGroups[Wl("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return mt(mt({},f),{},Co({},m,g))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,x){var m=p.stackGroups[x];return mt(mt({},y),{},Co({},x,{numericAxisId:n,cateAxisId:i,items:m.items,stackedData:Aee(t,m.items,a)}))},v)}return mt(mt({},f),{},Co({},h,p))},d)},BC=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=VZ(u,a,o);return t.domain([im(d),nm(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=HZ(f,a,o);return{niceTicks:h}}return null};function aN(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ge(i[t.dataKey])){var o=ih(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=$t(i,ge(s)?t.dataKey:s);return ge(c)?null:t.scale(c)}var sN=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var c=$t(s,r.dataKey,r.domain[o]);return ge(c)?null:r.scale(c)-a/2+i},Cee=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},$ee=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Mt(a)){var s=r[a];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},Ree=function(t){return t.reduce(function(r,n){return[im(n.concat([r[0]]).filter(X)),nm(n.concat([r[1]]).filter(X))]},[1/0,-1/0])},UC=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],o=s.stackedData,c=o.reduce(function(u,d){var f=Ree(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},oN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,c0=function(t,r,n){if(pe(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(X(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(oN.test(t[0])){var a=+oN.exec(t[0])[1];i[0]=r[0]-a}else pe(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(X(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(lN.test(t[1])){var s=+lN.exec(t[1])[1];i[1]=r[1]+s}else pe(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Ch=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=Bb(r,function(f){return f.coordinate}),s=1/0,o=1,c=a.length;o<c;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},cN=function(t,r,n){return!t||!t.length||gd(t,zr(n,"type.defaultProps.domain"))?r:t},zC=function(t,r){var n=t.type.defaultProps?mt(mt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return mt(mt({},de(t,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:hw(t),value:$t(r,i),type:c,payload:r,chartType:u,hide:d})};function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){WC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WC(e,t,r){return t=Mee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Iee(e,"string");return Tu(t)=="symbol"?t:t+""}function Iee(e,t){if(Tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lee(e,t){return Uee(e)||Bee(e,t)||Fee(e,t)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(e,t){if(e){if(typeof e=="string")return dN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dN(e,t)}}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Uee(e){if(Array.isArray(e))return e}var $h=Math.PI/180,zee=function(t){return t*180/Math.PI},Qe=function(t,r,n,i){return{x:t+Math.cos(-$h*i)*n,y:r+Math.sin(-$h*i)*n}},qC=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Wee=function(t,r,n,i,a){var s=t.width,o=t.height,c=t.startAngle,u=t.endAngle,d=pr(t.cx,s,s/2),f=pr(t.cy,o,o/2),h=qC(s,o,n),p=pr(t.innerRadius,h,0),v=pr(t.outerRadius,h,h*.8),y=Object.keys(r);return y.reduce(function(x,m){var g=r[m],b=g.domain,_=g.reversed,w;if(ge(g.range))i==="angleAxis"?w=[c,u]:i==="radiusAxis"&&(w=[p,v]),_&&(w=[w[1],w[0]]);else{w=g.range;var j=w,S=Lee(j,2);c=S[0],u=S[1]}var N=DC(g,a),P=N.realScaleType,A=N.scale;A.domain(b).range(w),FC(A);var k=BC(A,li(li({},g),{},{realScaleType:P})),T=li(li(li({},g),k),{},{range:w,radius:v,realScaleType:P,scale:A,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return li(li({},x),{},WC({},m,T))},{})},qee=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Vee=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,o=qee({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var c=(n-a)/o,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:o,angle:zee(u),angleInRadian:u}},Hee=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Kee=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},fN=function(t,r){var n=t.x,i=t.y,a=Vee({x:n,y:i},r),s=a.radius,o=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=Hee(r),f=d.startAngle,h=d.endAngle,p=o,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?li(li({},r),{},{radius:s,angle:Kee(p,r)}):null},VC=function(t){return!O.isValidElement(t)&&!pe(t)&&typeof t!="boolean"?t.className:""};function Cu(e){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(e)}var Gee=["offset"];function Qee(e){return Zee(e)||Jee(e)||Xee(e)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xee(e,t){if(e){if(typeof e=="string")return u0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u0(e,t)}}function Jee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zee(e){if(Array.isArray(e))return u0(e)}function u0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ete(e,t){if(e==null)return{};var r=tte(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rte(e,t,r){return t=nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=ite(e,"string");return Cu(t)=="symbol"?t:t+""}function ite(e,t){if(Cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$u.apply(this,arguments)}var ate=function(t){var r=t.value,n=t.formatter,i=ge(t.children)?r:t.children;return pe(n)?n(i):i},ste=function(t,r){var n=hr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},ote=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,o=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,y=c.clockWise,x=(f+h)/2,m=ste(p,v),g=m>=0?1:-1,b,_;i==="insideStart"?(b=p+g*s,_=y):i==="insideEnd"?(b=v-g*s,_=!y):i==="end"&&(b=v+g*s,_=y),_=m<=0?_:!_;var w=Qe(u,d,x,b),j=Qe(u,d,x,b+(_?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(j.x,",").concat(j.y),N=ge(t.id)?Wl("recharts-radial-line-"):t.id;return E.createElement("text",$u({},n,{dominantBaseline:"central",className:ve("recharts-radial-bar-label",o)}),E.createElement("defs",null,E.createElement("path",{id:N,d:S})),E.createElement("textPath",{xlinkHref:"#".concat(N)},r))},lte=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,o=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Qe(s,o,u+n,h),v=p.x,y=p.y;return{x:v,y,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,m=Qe(s,o,x,h),g=m.x,b=m.y;return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},cte=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",y=u>=0?1:-1,x=y*i,m=y>0?"end":"start",g=y>0?"start":"end";if(a==="top"){var b={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return kt(kt({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return kt(kt({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var w={x:o-x,y:c+d/2,textAnchor:m,verticalAnchor:"middle"};return kt(kt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var j={x:o+u+x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return kt(kt({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return a==="insideLeft"?kt({x:o+x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):a==="insideRight"?kt({x:o+u-x,y:c+d/2,textAnchor:m,verticalAnchor:"middle"},S):a==="insideTop"?kt({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?kt({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?kt({x:o+x,y:c+h,textAnchor:g,verticalAnchor:v},S):a==="insideTopRight"?kt({x:o+u-x,y:c+h,textAnchor:m,verticalAnchor:v},S):a==="insideBottomLeft"?kt({x:o+x,y:c+d-h,textAnchor:g,verticalAnchor:p},S):a==="insideBottomRight"?kt({x:o+u-x,y:c+d-h,textAnchor:m,verticalAnchor:p},S):Fl(a)&&(X(a.x)||ts(a.x))&&(X(a.y)||ts(a.y))?kt({x:o+pr(a.x,u),y:c+pr(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):kt({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},ute=function(t){return"cx"in t&&X(t.cx)};function Ut(e){var t=e.offset,r=t===void 0?5:t,n=ete(e,Gee),i=kt({offset:r},n),a=i.viewBox,s=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||ge(o)&&ge(c)&&!O.isValidElement(u)&&!pe(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var p;if(pe(u)){if(p=O.createElement(u,i),O.isValidElement(p))return p}else p=ate(i);var v=ute(a),y=de(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ote(i,p,y);var x=v?lte(i):cte(i);return E.createElement(As,$u({className:ve("recharts-label",f)},y,x,{breakAll:h}),p)}Ut.displayName="Label";var HC=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,y=t.width,x=t.height,m=t.clockWise,g=t.labelViewBox;if(g)return g;if(X(y)&&X(x)){if(X(f)&&X(h))return{x:f,y:h,width:y,height:x};if(X(p)&&X(v))return{x:p,y:v,width:y,height:x}}return X(f)&&X(h)?{x:f,y:h,width:0,height:0}:X(r)&&X(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:m}:t.viewBox?t.viewBox:{}},dte=function(t,r){return t?t===!0?E.createElement(Ut,{key:"label-implicit",viewBox:r}):Mt(t)?E.createElement(Ut,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Ut?O.cloneElement(t,{key:"label-implicit",viewBox:r}):E.createElement(Ut,{key:"label-implicit",content:t,viewBox:r}):pe(t)?E.createElement(Ut,{key:"label-implicit",content:t,viewBox:r}):Fl(t)?E.createElement(Ut,$u({viewBox:r},t,{key:"label-implicit"})):null:null},fte=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=HC(t),s=Wr(i,Ut).map(function(c,u){return O.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=dte(t.label,r||a);return[o].concat(Qee(s))};Ut.parseViewBox=HC;Ut.renderCallByParent=fte;function hte(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pte=hte;const mte=Ie(pte);function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}var gte=["valueAccessor"],vte=["data","dataKey","clockWise","id","textBreakAll"];function yte(e){return _te(e)||wte(e)||bte(e)||xte()}function xte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bte(e,t){if(e){if(typeof e=="string")return d0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d0(e,t)}}function wte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _te(e){if(Array.isArray(e))return d0(e)}function d0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(this,arguments)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jte(e,t,r){return t=Ste(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ste(e){var t=Nte(e,"string");return Ru(t)=="symbol"?t:t+""}function Nte(e,t){if(Ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gN(e,t){if(e==null)return{};var r=Ote(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ote(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Pte=function(t){return Array.isArray(t.value)?mte(t.value):t.value};function Si(e){var t=e.valueAccessor,r=t===void 0?Pte:t,n=gN(e,gte),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=gN(n,vte);return!i||!i.length?null:E.createElement(Ee,{className:"recharts-label-list"},i.map(function(d,f){var h=ge(a)?r(d,f):$t(d&&d.payload,a),p=ge(o)?{}:{id:"".concat(o,"-").concat(f)};return E.createElement(Ut,Rh({},de(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Ut.parseViewBox(ge(s)?d:mN(mN({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Si.displayName="LabelList";function Ete(e,t){return e?e===!0?E.createElement(Si,{key:"labelList-implicit",data:t}):E.isValidElement(e)||pe(e)?E.createElement(Si,{key:"labelList-implicit",data:t,content:e}):Fl(e)?E.createElement(Si,Rh({data:t},e,{key:"labelList-implicit"})):null:null}function kte(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Wr(n,Si).map(function(s,o){return O.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return i;var a=Ete(e.label,t);return[a].concat(yte(i))}Si.renderCallByParent=kte;function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(this,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){Ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ate(e,t,r){return t=Tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tte(e){var t=Cte(e,"string");return Mu(t)=="symbol"?t:t+""}function Cte(e,t){if(Mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $te=function(t,r){var n=hr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},af=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/$h,h=u?a:a+s*f,p=Qe(r,n,d,h),v=Qe(r,n,i,h),y=u?a-s*f:a,x=Qe(r,n,d*Math.cos(f*$h),y);return{center:p,circleTangency:v,lineTangency:x,theta:f}},KC=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,o=t.endAngle,c=$te(s,o),u=s+c,d=Qe(r,n,a,s),f=Qe(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Qe(r,n,i,s),v=Qe(r,n,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Rte=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=hr(d-u),h=af({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,y=h.theta,x=af({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),m=x.circleTangency,g=x.lineTangency,b=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-y-b;if(_<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):KC({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
  `);if(i>0){var j=af({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),S=j.circleTangency,N=j.lineTangency,P=j.theta,A=af({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=A.circleTangency,T=A.lineTangency,M=A.theta,I=c?Math.abs(u-d):Math.abs(u-d)-P-M;if(I<0&&s===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Mte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GC=function(t){var r=yN(yN({},Mte),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var p=ve("recharts-sector",h),v=s-a,y=pr(o,v,0,!0),x;return y>0&&Math.abs(d-f)<360?x=Rte({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=KC({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),E.createElement("path",f0({},de(r,!0),{className:p,d:x,role:"img"}))};function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){Ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ite(e,t,r){return t=Lte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=Dte(e,"string");return Iu(t)=="symbol"?t:t+""}function Dte(e,t){if(Iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wN={curveBasisClosed:Iz,curveBasisOpen:Lz,curveBasis:Mz,curveBumpX:wz,curveBumpY:_z,curveLinearClosed:Dz,curveLinear:qp,curveMonotoneX:Fz,curveMonotoneY:Bz,curveNatural:Uz,curveStep:zz,curveStepAfter:qz,curveStepBefore:Wz},sf=function(t){return t.x===+t.x&&t.y===+t.y},mc=function(t){return t.x},gc=function(t){return t.y},Fte=function(t,r){if(pe(t))return t;var n="curve".concat(zp(t));return(n==="curveMonotone"||n==="curveBump")&&r?wN["".concat(n).concat(r==="vertical"?"Y":"X")]:wN[n]||qp},Bte=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Fte(n,o),f=u?a.filter(function(y){return sf(y)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(y){return sf(y)}):s,v=f.map(function(y,x){return bN(bN({},y),{},{base:p[x]})});return o==="vertical"?h=Qd().y(gc).x1(mc).x0(function(y){return y.base.x}):h=Qd().x(mc).y1(gc).y0(function(y){return y.base.y}),h.defined(sf).curve(d),h(v)}return o==="vertical"&&X(s)?h=Qd().y(gc).x1(mc).x0(s):X(s)?h=Qd().x(mc).y1(gc).y0(s):h=z2().x(mc).y(gc),h.defined(sf).curve(d),h(f)},Mh=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?Bte(t):i;return O.createElement("path",h0({},de(t,!1),ah(t),{className:ve("recharts-curve",r),d:s,ref:a}))},QC={exports:{}},Ute="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zte=Ute,Wte=zte;function YC(){}function XC(){}XC.resetWarningCache=YC;var qte=function(){function e(n,i,a,s,o,c){if(c!==Wte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:XC,resetWarningCache:YC};return r.PropTypes=r,r};QC.exports=qte();var Vte=QC.exports;const Ce=Ie(Vte);var Hte=Object.getOwnPropertyNames,Kte=Object.getOwnPropertySymbols,Gte=Object.prototype.hasOwnProperty;function _N(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function of(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function Qte(e){return e!=null?e[Symbol.toStringTag]:void 0}function jN(e){return Hte(e).concat(Kte(e))}var Yte=Object.hasOwn||function(e,t){return Gte.call(e,t)};function zs(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Xte="__v",Jte="__o",Zte="_owner",SN=Object.getOwnPropertyDescriptor,NN=Object.keys;function ere(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function tre(e,t){return zs(e.getTime(),t.getTime())}function rre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function nre(e,t){return e===t}function ON(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),s,o,c=0;(s=a.next())&&!s.done;){for(var u=t.entries(),d=!1,f=0;(o=u.next())&&!o.done;){if(i[f]){f++;continue}var h=s.value,p=o.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ire=zs;function are(e,t,r){var n=NN(e),i=n.length;if(NN(t).length!==i)return!1;for(;i-- >0;)if(!JC(e,t,r,n[i]))return!1;return!0}function vc(e,t,r){var n=jN(e),i=n.length;if(jN(t).length!==i)return!1;for(var a,s,o;i-- >0;)if(a=n[i],!JC(e,t,r,a)||(s=SN(e,a),o=SN(t,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function sre(e,t){return zs(e.valueOf(),t.valueOf())}function ore(e,t){return e.source===t.source&&e.flags===t.flags}function PN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),s,o;(s=a.next())&&!s.done;){for(var c=t.values(),u=!1,d=0;(o=c.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function lre(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function cre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function JC(e,t,r,n){return(n===Zte||n===Jte||n===Xte)&&(e.$$typeof||t.$$typeof)?!0:Yte(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var ure="[object Arguments]",dre="[object Boolean]",fre="[object Date]",hre="[object Error]",pre="[object Map]",mre="[object Number]",gre="[object Object]",vre="[object RegExp]",yre="[object Set]",xre="[object String]",bre="[object URL]",wre=Array.isArray,EN=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,kN=Object.assign,_re=Object.prototype.toString.call.bind(Object.prototype.toString);function jre(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,p=e.unknownTagComparators;return function(y,x,m){if(y===x)return!0;if(y==null||x==null)return!1;var g=typeof y;if(g!==typeof x)return!1;if(g!=="object")return g==="number"?s(y,x,m):g==="function"?i(y,x,m):!1;var b=y.constructor;if(b!==x.constructor)return!1;if(b===Object)return o(y,x,m);if(wre(y))return t(y,x,m);if(EN!=null&&EN(y))return f(y,x,m);if(b===Date)return r(y,x,m);if(b===RegExp)return u(y,x,m);if(b===Map)return a(y,x,m);if(b===Set)return d(y,x,m);var _=_re(y);if(_===fre)return r(y,x,m);if(_===vre)return u(y,x,m);if(_===pre)return a(y,x,m);if(_===yre)return d(y,x,m);if(_===gre)return typeof y.then!="function"&&typeof x.then!="function"&&o(y,x,m);if(_===bre)return h(y,x,m);if(_===hre)return n(y,x,m);if(_===ure)return o(y,x,m);if(_===dre||_===mre||_===xre)return c(y,x,m);if(p){var w=p[_];if(!w){var j=Qte(y);j&&(w=p[j])}if(w)return w(y,x,m)}return!1}}function Sre(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?vc:ere,areDatesEqual:tre,areErrorsEqual:rre,areFunctionsEqual:nre,areMapsEqual:n?_N(ON,vc):ON,areNumbersEqual:ire,areObjectsEqual:n?vc:are,arePrimitiveWrappersEqual:sre,areRegExpsEqual:ore,areSetsEqual:n?_N(PN,vc):PN,areTypedArraysEqual:n?vc:lre,areUrlsEqual:cre,unknownTagComparators:void 0};if(r&&(i=kN({},i,r(i))),t){var a=of(i.areArraysEqual),s=of(i.areMapsEqual),o=of(i.areObjectsEqual),c=of(i.areSetsEqual);i=kN({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:c})}return i}function Nre(e){return function(t,r,n,i,a,s,o){return e(t,r,o)}}function Ore(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:i,meta:p,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,s)}}var Pre=Ra();Ra({strict:!0});Ra({circular:!0});Ra({circular:!0,strict:!0});Ra({createInternalComparator:function(){return zs}});Ra({strict:!0,createInternalComparator:function(){return zs}});Ra({circular:!0,createInternalComparator:function(){return zs}});Ra({circular:!0,createInternalComparator:function(){return zs},strict:!0});function Ra(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,s=a===void 0?!1:a,o=Sre(e),c=jre(o),u=n?n(c):Nre(c);return Ore({circular:r,comparator:c,createState:i,equals:u,strict:s})}function Ere(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function AN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):Ere(i)};requestAnimationFrame(n)}function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}function kre(e){return $re(e)||Cre(e)||Tre(e)||Are()}function Are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(e,t){if(e){if(typeof e=="string")return TN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(e,t)}}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $re(e){if(Array.isArray(e))return e}function Rre(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=kre(s),c=o[0],u=o.slice(1);if(typeof c=="number"){AN(i.bind(null,u),c);return}i(c),AN(i.bind(null,u));return}p0(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){ZC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZC(e,t,r){return t=Mre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mre(e){var t=Ire(e,"string");return Lu(t)==="symbol"?t:String(t)}function Ire(e,t){if(Lu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lre=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Dre=function(t){return t},Fre=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Uc=function(t,r){return Object.keys(r).reduce(function(n,i){return $N($N({},n),{},ZC({},i,t(i,r[i])))},{})},RN=function(t,r,n){return t.map(function(i){return"".concat(Fre(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Bre(e,t){return Wre(e)||zre(e,t)||e$(e,t)||Ure()}function Ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Wre(e){if(Array.isArray(e))return e}function qre(e){return Kre(e)||Hre(e)||e$(e)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$(e,t){if(e){if(typeof e=="string")return m0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m0(e,t)}}function Hre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kre(e){if(Array.isArray(e))return m0(e)}function m0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ih=1e-4,t$=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},r$=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},MN=function(t,r){return function(n){var i=t$(t,r);return r$(i,n)}},Gre=function(t,r){return function(n){var i=t$(t,r),a=[].concat(qre(i.map(function(s,o){return s*o}).slice(1)),[0]);return r$(a,n)}},IN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Bre(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=MN(i,s),h=MN(a,o),p=Gre(i,s),v=function(m){return m>1?1:m<0?0:m},y=function(m){for(var g=m>1?1:m,b=g,_=0;_<8;++_){var w=f(b)-g,j=p(b);if(Math.abs(w-g)<Ih||j<Ih)return h(b);b=v(b-w/j)}return h(b)};return y.isStepper=!1,y},Qre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,o=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,v=h*a,y=h+(p-v)*o/1e3,x=h*o/1e3+d;return Math.abs(x-f)<Ih&&Math.abs(y)<Ih?[f,0]:[x,y]};return c.isStepper=!0,c.dt=o,c},Yre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IN(i);case"spring":return Qre();default:if(i.split("(")[0]==="cubic-bezier")return IN(i)}return typeof i=="function"?i:null};function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}function LN(e){return Zre(e)||Jre(e)||n$(e)||Xre()}function Xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zre(e){if(Array.isArray(e))return v0(e)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){g0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g0(e,t,r){return t=ene(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ene(e){var t=tne(e,"string");return Du(t)==="symbol"?t:String(t)}function tne(e,t){if(Du(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Du(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rne(e,t){return ane(e)||ine(e,t)||n$(e,t)||nne()}function nne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n$(e,t){if(e){if(typeof e=="string")return v0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v0(e,t)}}function v0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ine(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ane(e){if(Array.isArray(e))return e}var Lh=function(t,r,n){return t+(r-t)*n},y0=function(t){var r=t.from,n=t.to;return r!==n},sne=function e(t,r,n){var i=Uc(function(a,s){if(y0(s)){var o=t(s.from,s.to,s.velocity),c=rne(o,2),u=c[0],d=c[1];return Kt(Kt({},s),{},{from:u,velocity:d})}return s},r);return n<1?Uc(function(a,s){return y0(s)?Kt(Kt({},s),{},{velocity:Lh(s.velocity,i[a].velocity,n),from:Lh(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const one=function(e,t,r,n,i){var a=Lre(e,t),s=a.reduce(function(x,m){return Kt(Kt({},x),{},g0({},m,[e[m],t[m]]))},{}),o=a.reduce(function(x,m){return Kt(Kt({},x),{},g0({},m,{from:e[m],velocity:0,to:t[m]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Uc(function(m,g){return g.from},o)},p=function(){return!Object.values(o).filter(y0).length},v=function(m){u||(u=m);var g=m-u,b=g/r.dt;o=sne(r,o,b),i(Kt(Kt(Kt({},e),t),h())),u=m,p()||(c=requestAnimationFrame(f))},y=function(m){d||(d=m);var g=(m-d)/n,b=Uc(function(w,j){return Lh.apply(void 0,LN(j).concat([r(g)]))},s);if(i(Kt(Kt(Kt({},e),t),b)),g<1)c=requestAnimationFrame(f);else{var _=Uc(function(w,j){return Lh.apply(void 0,LN(j).concat([r(1)]))},s);i(Kt(Kt(Kt({},e),t),_))}};return f=r.isStepper?v:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}var lne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function cne(e,t){if(e==null)return{};var r=une(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function une(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ag(e){return pne(e)||hne(e)||fne(e)||dne()}function dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(e,t){if(e){if(typeof e=="string")return x0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x0(e,t)}}function hne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pne(e){if(Array.isArray(e))return x0(e)}function x0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){Oc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oc(e,t,r){return t=i$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i$(n.key),n)}}function vne(e,t,r){return t&&gne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i$(e){var t=yne(e,"string");return dl(t)==="symbol"?t:String(t)}function yne(e,t){if(dl(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b0(e,t)}function b0(e,t){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b0(e,t)}function bne(e){var t=wne();return function(){var n=Dh(e),i;if(t){var a=Dh(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return w0(this,i)}}function w0(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _0(e)}function _0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dh(e){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dh(e)}var Qn=function(e){xne(r,e);var t=bne(r);function r(n,i){var a;mne(this,r),a=t.call(this,n,i);var s=a.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(_0(a)),a.changeStyle=a.changeStyle.bind(_0(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),w0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},w0(a);a.state={style:c?Oc({},c,u):u}}else a.state={style:{}};return a}return vne(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:c?Oc({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Pre(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||u?f:i.to;if(this.state&&h){var x={style:c?Oc({},c,y):y};(c&&h[c]!==y||!c&&h!==y)&&this.setState(x)}this.runAnimation(gn(gn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=one(s,o,Yre(u),c,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,x,m){if(m===0)return y;var g=x.duration,b=x.easing,_=b===void 0?"ease":b,w=x.style,j=x.properties,S=x.onAnimationEnd,N=m>0?s[m-1]:x,P=j||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(Ag(y),[a.runJSAnimation.bind(a,{from:N.style,to:w,duration:g,easing:_}),g]);var A=RN(P,g,_),k=gn(gn(gn({},N.style),w),{},{transition:A});return[].concat(Ag(y),[k,g,S]).filter(Dre)};return this.manager.start([c].concat(Ag(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Rre());var a=i.begin,s=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=o?Oc({},o,c):c,x=RN(Object.keys(y),s,u);v.start([d,a,gn(gn({},y),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=cne(i,lne),u=O.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(p){var v=p.props,y=v.style,x=y===void 0?{}:y,m=v.className,g=O.cloneElement(p,gn(gn({},c),{},{style:gn(gn({},x),d),className:m}));return g};return u===1?f(O.Children.only(a)):E.createElement("div",null,O.Children.map(a,function(h){return f(h)}))}}]),r}(O.PureComponent);Qn.displayName="Animate";Qn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qn.propTypes={from:Ce.oneOfType([Ce.object,Ce.string]),to:Ce.oneOfType([Ce.object,Ce.string]),attributeName:Ce.string,duration:Ce.number,begin:Ce.number,easing:Ce.oneOfType([Ce.string,Ce.func]),steps:Ce.arrayOf(Ce.shape({duration:Ce.number.isRequired,style:Ce.object.isRequired,easing:Ce.oneOfType([Ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ce.func]),properties:Ce.arrayOf("string"),onAnimationEnd:Ce.func})),children:Ce.oneOfType([Ce.node,Ce.func]),isActive:Ce.bool,canBegin:Ce.bool,onAnimationEnd:Ce.func,shouldReAnimate:Ce.bool,onAnimationStart:Ce.func,onAnimationReStart:Ce.func};function Fu(e){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function _ne(e,t){return One(e)||Nne(e,t)||Sne(e,t)||jne()}function jne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(e,t){if(e){if(typeof e=="string")return BN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(e,t)}}function BN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function One(e){if(Array.isArray(e))return e}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){Pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pne(e,t,r){return t=Ene(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ene(e){var t=kne(e,"string");return Fu(t)=="symbol"?t:t+""}function kne(e,t){if(Fu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WN=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);d="M ".concat(t,",").concat(r+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*v,`
            L `).concat(t+n,",").concat(r+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+i,`
            L `).concat(t+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+i-o*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Ane=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Tne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pw=function(t){var r=zN(zN({},Tne),t),n=O.useRef(),i=O.useState(-1),a=_ne(i,2),s=a[0],o=a[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,y=r.animationDuration,x=r.animationBegin,m=r.isAnimationActive,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=ve("recharts-rectangle",p);return g?E.createElement(Qn,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:v,isActive:g},function(_){var w=_.width,j=_.height,S=_.x,N=_.y;return E.createElement(Qn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:m,easing:v},E.createElement("path",Fh({},de(r,!0),{className:b,d:WN(S,N,w,j,h),ref:n})))}):E.createElement("path",Fh({},de(r,!0),{className:b,d:WN(c,u,d,f,h)}))},Cne=["points","className","baseLinePoints","connectNulls"];function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vo.apply(this,arguments)}function $ne(e,t){if(e==null)return{};var r=Rne(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qN(e){return Dne(e)||Lne(e)||Ine(e)||Mne()}function Mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(e,t){if(e){if(typeof e=="string")return j0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(e,t)}}function Lne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dne(e){if(Array.isArray(e))return j0(e)}function j0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var VN=function(t){return t&&t.x===+t.x&&t.y===+t.y},Fne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){VN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),VN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},zc=function(t,r){var n=Fne(t);r&&(n=[n.reduce(function(a,s){return[].concat(qN(a),qN(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Bne=function(t,r,n){var i=zc(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(zc(r.reverse(),n).slice(1))},Une=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=$ne(t,Cne);if(!r||!r.length)return null;var o=ve("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=Bne(r,i,a);return E.createElement("g",{className:o},E.createElement("path",vo({},de(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?E.createElement("path",vo({},de(s,!0),{fill:"none",d:zc(r,a)})):null,c?E.createElement("path",vo({},de(s,!0),{fill:"none",d:zc(i,a)})):null)}var d=zc(r,a);return E.createElement("path",vo({},de(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}var om=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=ve("recharts-dot",a);return r===+r&&n===+n&&i===+i?O.createElement("circle",S0({},de(t,!1),ah(t),{className:s,cx:r,cy:n,r:i})):null};function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}var zne=["x","y","top","left","width","height","className"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qne(e,t,r){return t=Vne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vne(e){var t=Hne(e,"string");return Bu(t)=="symbol"?t:t+""}function Hne(e,t){if(Bu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kne(e,t){if(e==null)return{};var r=Gne(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Qne=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Yne=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,o=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,y=Kne(t,zne),x=Wne({x:n,y:a,top:o,left:u,width:f,height:p},y);return!X(n)||!X(a)||!X(f)||!X(p)||!X(o)||!X(u)?null:E.createElement("path",N0({},de(x,!0),{className:ve("recharts-cross",v),d:Qne(n,a,f,p,o,u)}))},Xne=rm,Jne=gC,Zne=Zn;function eie(e,t){return e&&e.length?Xne(e,Zne(t),Jne):void 0}var tie=eie;const rie=Ie(tie);var nie=rm,iie=Zn,aie=vC;function sie(e,t){return e&&e.length?nie(e,iie(t),aie):void 0}var oie=sie;const lie=Ie(oie);var cie=["cx","cy","angle","ticks","axisLine"],uie=["ticks","tick","angle","tickFormatter","stroke"];function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wc.apply(this,arguments)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GN(e,t){if(e==null)return{};var r=die(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function die(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s$(n.key),n)}}function hie(e,t,r){return t&&QN(e.prototype,t),r&&QN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pie(e,t,r){return t=Bh(t),mie(e,a$()?Reflect.construct(t,r||[],Bh(e).constructor):t.apply(e,r))}function mie(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gie(e)}function gie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!e})()}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bh(e)}function vie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O0(e,t)}function O0(e,t){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O0(e,t)}function lm(e,t,r){return t=s$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$(e){var t=yie(e,"string");return fl(t)=="symbol"?t:t+""}function yie(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cm=function(e){function t(){return fie(this,t),pie(this,t,arguments)}return vie(t,e),hie(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,c=a.cy;return Qe(o,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=rie(o,function(d){return d.coordinate||0}),u=lie(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=GN(n,cie),d=o.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),f=Qe(i,a,d[0],s),h=Qe(i,a,d[1],s),p=Da(Da(Da({},de(u,!1)),{},{fill:"none"},de(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return E.createElement("line",Wc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,c=i.tickFormatter,u=i.stroke,d=GN(i,uie),f=this.getTickTextAnchor(),h=de(d,!1),p=de(s,!1),v=a.map(function(y,x){var m=n.getTickValueCoord(y),g=Da(Da(Da(Da({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(m.x,", ").concat(m.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:x},m),{},{payload:y});return E.createElement(Ee,Wc({className:ve("recharts-polar-radius-axis-tick",VC(s)),key:"tick-".concat(y.coordinate)},ks(n.props,y,x)),t.renderTickItem(s,g,c?c(y.value,x):y.value))});return E.createElement(Ee,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:E.createElement(Ee,{className:ve("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Ut.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return E.isValidElement(n)?s=E.cloneElement(n,i):pe(n)?s=n(i):s=E.createElement(As,Wc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(O.PureComponent);lm(cm,"displayName","PolarRadiusAxis");lm(cm,"axisType","radiusAxis");lm(cm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(this,arguments)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){um(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l$(n.key),n)}}function bie(e,t,r){return t&&XN(e.prototype,t),r&&XN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wie(e,t,r){return t=Uh(t),_ie(e,o$()?Reflect.construct(t,r||[],Uh(e).constructor):t.apply(e,r))}function _ie(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jie(e)}function jie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!e})()}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uh(e)}function Sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P0(e,t)}function P0(e,t){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P0(e,t)}function um(e,t,r){return t=l$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l$(e){var t=Nie(e,"string");return hl(t)=="symbol"?t:t+""}function Nie(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oie=Math.PI/180,JN=1e-5,dm=function(e){function t(){return xie(this,t),wie(this,t,arguments)}return Sie(t,e),bie(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Qe(a,s,o,n.coordinate),h=Qe(a,s,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Oie),s;return a>JN?s=i==="outer"?"start":"end":a<-JN?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=Fa(Fa({},de(this.props,!1)),{},{fill:"none"},de(o,!1));if(c==="circle")return E.createElement(om,Qa({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Qe(i,a,s,h.coordinate)});return E.createElement(Une,Qa({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,c=i.tickFormatter,u=i.stroke,d=de(this.props,!1),f=de(s,!1),h=Fa(Fa({},d),{},{fill:"none"},de(o,!1)),p=a.map(function(v,y){var x=n.getTickLineCoord(v),m=n.getTickTextAnchor(v),g=Fa(Fa(Fa({textAnchor:m},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:v,x:x.x2,y:x.y2});return E.createElement(Ee,Qa({className:ve("recharts-polar-angle-axis-tick",VC(s)),key:"tick-".concat(v.coordinate)},ks(n.props,v,y)),o&&E.createElement("line",Qa({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&t.renderTickItem(s,g,c?c(v.value,y):v.value))});return E.createElement(Ee,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:E.createElement(Ee,{className:ve("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return E.isValidElement(n)?s=E.cloneElement(n,i):pe(n)?s=n(i):s=E.createElement(As,Qa({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(O.PureComponent);um(dm,"displayName","PolarAngleAxis");um(dm,"axisType","angleAxis");um(dm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Pie=fT,Eie=Pie(Object.getPrototypeOf,Object),kie=Eie,Aie=Ri,Tie=kie,Cie=Mi,$ie="[object Object]",Rie=Function.prototype,Mie=Object.prototype,c$=Rie.toString,Iie=Mie.hasOwnProperty,Lie=c$.call(Object);function Die(e){if(!Cie(e)||Aie(e)!=$ie)return!1;var t=Tie(e);if(t===null)return!0;var r=Iie.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&c$.call(r)==Lie}var Fie=Die;const Bie=Ie(Fie);var Uie=Ri,zie=Mi,Wie="[object Boolean]";function qie(e){return e===!0||e===!1||zie(e)&&Uie(e)==Wie}var Vie=qie;const Hie=Ie(Vie);function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zh.apply(this,arguments)}function Kie(e,t){return Xie(e)||Yie(e,t)||Qie(e,t)||Gie()}function Gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qie(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Xie(e){if(Array.isArray(e))return e}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jie(e,t,r){return t=Zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=eae(e,"string");return Uu(t)=="symbol"?t:t+""}function eae(e,t){if(Uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rO=function(t,r,n,i,a){var s=n-i,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+a),o+="L ".concat(t+n-s/2-i,",").concat(r+a),o+="L ".concat(t,",").concat(r," Z"),o},tae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rae=function(t){var r=tO(tO({},tae),t),n=O.useRef(),i=O.useState(-1),a=Kie(i,2),s=a[0],o=a[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,y=r.animationDuration,x=r.animationBegin,m=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var g=ve("recharts-trapezoid",p);return m?E.createElement(Qn,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:y,animationEasing:v,isActive:m},function(b){var _=b.upperWidth,w=b.lowerWidth,j=b.height,S=b.x,N=b.y;return E.createElement(Qn,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:v},E.createElement("path",zh({},de(r,!0),{className:g,d:rO(S,N,_,w,j),ref:n})))}):E.createElement("g",null,E.createElement("path",zh({},de(r,!0),{className:g,d:rO(c,u,d,f,h)})))},nae=["option","shapeType","propTransformer","activeClassName","isActive"];function zu(e){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function iae(e,t){if(e==null)return{};var r=aae(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){sae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sae(e,t,r){return t=oae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oae(e){var t=lae(e,"string");return zu(t)=="symbol"?t:t+""}function lae(e,t){if(zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cae(e,t){return Wh(Wh({},t),e)}function uae(e,t){return e==="symbols"}function iO(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(pw,r);case"trapezoid":return E.createElement(rae,r);case"sector":return E.createElement(GC,r);case"symbols":if(uae(t))return E.createElement(Cb,r);break;default:return null}}function dae(e){return O.isValidElement(e)?e.props:e}function u$(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?cae:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,o=e.isActive,c=iae(e,nae),u;if(O.isValidElement(t))u=O.cloneElement(t,Wh(Wh({},c),dae(t)));else if(pe(t))u=t(c);else if(Bie(t)&&!Hie(t)){var d=i(t,c);u=E.createElement(iO,{shapeType:r,elementProps:d})}else{var f=c;u=E.createElement(iO,{shapeType:r,elementProps:f})}return o?E.createElement(Ee,{className:s},u):u}function fm(e,t){return t!=null&&"trapezoids"in e.props}function hm(e,t){return t!=null&&"sectors"in e.props}function Wu(e,t){return t!=null&&"points"in e.props}function fae(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function hae(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function pae(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function mae(e,t){var r;return fm(e,t)?r=fae:hm(e,t)?r=hae:Wu(e,t)&&(r=pae),r}function gae(e,t){var r;return fm(e,t)?r="trapezoids":hm(e,t)?r="sectors":Wu(e,t)&&(r="points"),r}function vae(e,t){if(fm(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(hm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wu(e,t)?t.payload:{}}function yae(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=gae(r,t),a=vae(r,t),s=n.filter(function(c,u){var d=gd(a,c),f=r.props[i].filter(function(v){var y=mae(r,t);return y(v,t)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var jf;function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yo.apply(this,arguments)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){rn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f$(n.key),n)}}function bae(e,t,r){return t&&sO(e.prototype,t),r&&sO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wae(e,t,r){return t=qh(t),_ae(e,d$()?Reflect.construct(t,r||[],qh(e).constructor):t.apply(e,r))}function _ae(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jae(e)}function jae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qh(e)}function Sae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E0(e,t)}function E0(e,t){return E0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E0(e,t)}function rn(e,t,r){return t=f$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f$(e){var t=Nae(e,"string");return pl(t)=="symbol"?t:t+""}function Nae(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Li=function(e){function t(r){var n;return xae(this,t),n=wae(this,t,[r]),rn(n,"pieRef",null),rn(n,"sectorRefs",[]),rn(n,"id",Wl("recharts-pie-")),rn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),pe(i)&&i()}),rn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),pe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Sae(t,e),bae(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,c=a.dataKey,u=a.valueKey,d=de(this.props,!1),f=de(s,!1),h=de(o,!1),p=s&&s.offsetRadius||20,v=n.map(function(y,x){var m=(y.startAngle+y.endAngle)/2,g=Qe(y.cx,y.cy,y.outerRadius+p,m),b=qe(qe(qe(qe({},d),y),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(g.x,y.cx)},g),_=qe(qe(qe(qe({},d),y),{},{fill:"none",stroke:y.fill},h),{},{index:x,points:[Qe(y.cx,y.cy,y.outerRadius,m),g]}),w=c;return ge(c)&&ge(u)?w="value":ge(c)&&(w=u),E.createElement(Ee,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},o&&t.renderLabelLineItem(o,_,"line"),t.renderLabelItem(s,b,$t(y,w)))});return E.createElement(Ee,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?s:h,v=qe(qe({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return E.createElement(Ee,yo({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ks(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),E.createElement(u$,yo({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return E.createElement(Qn,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,x=[],m=a&&a[0],g=m.startAngle;return a.forEach(function(b,_){var w=h&&h[_],j=_>0?zr(b,"paddingAngle",0):0;if(w){var S=Mr(w.endAngle-w.startAngle,b.endAngle-b.startAngle),N=qe(qe({},b),{},{startAngle:g+j,endAngle:g+S(y)+j});x.push(N),g=N.endAngle}else{var P=b.endAngle,A=b.startAngle,k=Mr(0,P-A),T=k(y),M=qe(qe({},b),{},{startAngle:g+j,endAngle:g+T+j});x.push(M),g=M.endAngle}}),E.createElement(Ee,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!gd(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!s||!s.length||!X(u)||!X(d)||!X(f)||!X(h))return null;var y=ve("recharts-pie",o);return E.createElement(Ee,{tabIndex:this.props.rootTabIndex,className:y,ref:function(m){n.pieRef=m}},this.renderSectors(),c&&this.renderLabels(s),Ut.renderCallByParent(this.props,null,!1),(!p||v)&&Si.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(E.isValidElement(n))return E.cloneElement(n,i);if(pe(n))return n(i);var s=ve("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return E.createElement(Mh,yo({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(E.isValidElement(n))return E.cloneElement(n,i);var s=a;if(pe(n)&&(s=n(i),E.isValidElement(s)))return s;var o=ve("recharts-pie-label-text",typeof n!="boolean"&&!pe(n)?n.className:"");return E.createElement(As,yo({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(O.PureComponent);jf=Li;rn(Li,"displayName","Pie");rn(Li,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});rn(Li,"parseDeltaAngle",function(e,t){var r=hr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});rn(Li,"getRealPieData",function(e){var t=e.data,r=e.children,n=de(e,!1),i=Wr(r,Qp);return t&&t.length?t.map(function(a,s){return qe(qe(qe({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return qe(qe({},n),a.props)}):[]});rn(Li,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=qC(i,a),o=n+pr(e.cx,i,i/2),c=r+pr(e.cy,a,a/2),u=pr(e.innerRadius,s,0),d=pr(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});rn(Li,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?qe(qe({},t.type.defaultProps),t.props):t.props,i=jf.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=jf.parseCoordinateOfPie(n,r),y=jf.parseDeltaAngle(s,o),x=Math.abs(y),m=u;ge(u)&&ge(f)?(Tn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m="value"):ge(u)&&(Tn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),m=f);var g=i.filter(function(N){return $t(N,m,0)!==0}).length,b=(x>=360?g:g-1)*c,_=x-g*p-b,w=i.reduce(function(N,P){var A=$t(P,m,0);return N+(X(A)?A:0)},0),j;if(w>0){var S;j=i.map(function(N,P){var A=$t(N,m,0),k=$t(N,d,P),T=(X(A)?A:0)/w,M;P?M=S.endAngle+hr(y)*c*(A!==0?1:0):M=s;var I=M+hr(y)*((A!==0?p:0)+T*_),D=(M+I)/2,F=(v.innerRadius+v.outerRadius)/2,q=[{name:k,value:A,payload:N,dataKey:m,type:h}],R=Qe(v.cx,v.cy,F,D);return S=qe(qe(qe({percent:T,cornerRadius:a,name:k,tooltipPayload:q,midAngle:D,middleRadius:F,tooltipPosition:R},N),v),{},{value:$t(N,m),startAngle:M,endAngle:I,payload:N,paddingAngle:hr(y)*c}),S})}return qe(qe({},v),{},{sectors:j,data:i})});var Oae=Math.ceil,Pae=Math.max;function Eae(e,t,r,n){for(var i=-1,a=Pae(Oae((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var kae=Eae,Aae=TT,oO=1/0,Tae=17976931348623157e292;function Cae(e){if(!e)return e===0?e:0;if(e=Aae(e),e===oO||e===-oO){var t=e<0?-1:1;return t*Tae}return e===e?e:0}var h$=Cae,$ae=kae,Rae=Gp,Tg=h$;function Mae(e){return function(t,r,n){return n&&typeof n!="number"&&Rae(t,r,n)&&(r=n=void 0),t=Tg(t),r===void 0?(r=t,t=0):r=Tg(r),n=n===void 0?t<r?1:-1:Tg(n),$ae(t,r,n,e)}}var Iae=Mae,Lae=Iae,Dae=Lae(),Fae=Dae;const Vh=Ie(Fae);function qu(e){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){p$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p$(e,t,r){return t=Bae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bae(e){var t=Uae(e,"string");return qu(t)=="symbol"?t:t+""}function Uae(e,t){if(qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zae=["Webkit","Moz","O","ms"],Wae=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=zae.reduce(function(a,s){return cO(cO({},a),{},p$({},s+n,r))},{});return i[t]=r,i};function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g$(n.key),n)}}function Vae(e,t,r){return t&&dO(e.prototype,t),r&&dO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hae(e,t,r){return t=Kh(t),Kae(e,m$()?Reflect.construct(t,r||[],Kh(e).constructor):t.apply(e,r))}function Kae(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gae(e)}function Gae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!e})()}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kh(e)}function Qae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k0(e,t)}function k0(e,t){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k0(e,t)}function Cr(e,t,r){return t=g$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=Yae(e,"string");return ml(t)=="symbol"?t:t+""}function Yae(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xae=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Fc().domain(Vh(0,c)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},fO=function(t){return t.changedTouches&&!!t.changedTouches.length},gl=function(e){function t(r){var n;return qae(this,t),n=Hae(this,t,[r]),Cr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Cr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Cr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),Cr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cr(n,"handleSlideDragStart",function(i){var a=fO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Qae(t,e),Vae(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(s,f),v=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,c=$t(a[n],o,n);return pe(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,y=n.pageX-a;y>0?y=Math.min(y,u+d-f-o,u+d-f-s):y<0&&(y=Math.max(y,u-s,u-o));var x=this.getIndex({startX:s+y,endX:o+y});(x.startIndex!==h||x.endIndex!==p)&&v&&v(x),this.setState({startX:s+y,endX:o+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=fO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,y=d.gap,x=d.data,m={startX:this.state.startX,endX:this.state.endX},g=n.pageX-a;g>0?g=Math.min(g,f+h-p-u):g<0&&(g=Math.max(g,f-u)),m[s]=u+g;var b=this.getIndex(m),_=b.startIndex,w=b.endIndex,j=function(){var N=x.length-1;return s==="startX"&&(o>c?_%y===0:w%y===0)||o<c&&w===N||s==="endX"&&(o>c?w%y===0:_%y===0)||o>c&&w===N};this.setState(Cr(Cr({},s,u+g),"brushMoveStartX",n.pageX),function(){v&&j()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Cr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return E.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=O.Children.only(u);return f?E.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,y=c.startIndex,x=c.endIndex,m=Math.max(n,this.props.x),g=Cg(Cg({},de(this.props,!1)),{},{x:m,y:u,width:d,height:f}),b=p||"Min value: ".concat((a=v[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return E.createElement(Ee,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,g))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return E.createElement(Ee,{className:"recharts-brush-texts"},E.createElement(As,Hh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},v),this.getTextOfTick(i)),E.createElement(As,Hh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+o/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,y=h.isTextActive,x=h.isSlideMoving,m=h.isTravellerMoving,g=h.isTravellerFocused;if(!i||!i.length||!X(o)||!X(c)||!X(u)||!X(d)||u<=0||d<=0)return null;var b=ve("recharts-brush",a),_=E.Children.count(s)===1,w=Wae("userSelect","none");return E.createElement(Ee,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(y||x||m||g||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(a+o/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:i,y:a,width:s,height:o,fill:c,stroke:"none"}),E.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return E.isValidElement(n)?a=E.cloneElement(n,i):pe(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Cg({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?Xae({data:a,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+s-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>i?o=c:s=c}return i>=n[o]?o:s}}])}(O.PureComponent);Cr(gl,"displayName","Brush");Cr(gl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Jae=Fb;function Zae(e,t){var r;return Jae(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var ese=Zae,tse=iT,rse=Zn,nse=ese,ise=kr,ase=Gp;function sse(e,t,r){var n=ise(e)?tse:nse;return r&&ase(e,t,r)&&(t=void 0),n(e,rse(t))}var ose=sse;const lse=Ie(ose);var Hn=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},hO=OT;function cse(e,t,r){t=="__proto__"&&hO?hO(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var use=cse,dse=use,fse=ST,hse=Zn;function pse(e,t){var r={};return t=hse(t),fse(e,function(n,i,a){dse(r,i,t(n,i,a))}),r}var mse=pse;const gse=Ie(mse);function vse(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var yse=vse,xse=Fb;function bse(e,t){var r=!0;return xse(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var wse=bse,_se=yse,jse=wse,Sse=Zn,Nse=kr,Ose=Gp;function Pse(e,t,r){var n=Nse(e)?_se:jse;return r&&Ose(e,t,r)&&(t=void 0),n(e,Sse(t))}var Ese=Pse;const v$=Ie(Ese);var kse=["x","y"];function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(this,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){Ase(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ase(e,t,r){return t=Tse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tse(e){var t=Cse(e,"string");return Vu(t)=="symbol"?t:t+""}function Cse(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $se(e,t){if(e==null)return{};var r=Rse(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mse(e,t){var r=e.x,n=e.y,i=$se(e,kse),a="".concat(r),s=parseInt(a,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return yc(yc(yc(yc(yc({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function mO(e){return E.createElement(u$,A0({shapeType:"rectangle",propTransformer:Mse,activeClassName:"recharts-active-bar"},e))}var Ise=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=X(n)||s8(n);return a?t(n,i):(a||Cs(),r)}},Lse=["value","background"],y$;function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function Dse(e,t){if(e==null)return{};var r=Fse(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){da(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b$(n.key),n)}}function Use(e,t,r){return t&&vO(e.prototype,t),r&&vO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zse(e,t,r){return t=Qh(t),Wse(e,x$()?Reflect.construct(t,r||[],Qh(e).constructor):t.apply(e,r))}function Wse(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qse(e)}function qse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qh(e)}function Vse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T0(e,t)}function T0(e,t){return T0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T0(e,t)}function da(e,t,r){return t=b$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b$(e){var t=Hse(e,"string");return vl(t)=="symbol"?t:t+""}function Hse(e,t){if(vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Na=function(e){function t(){var r;Bse(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=zse(this,t,[].concat(i)),da(r,"state",{isAnimationFinished:!1}),da(r,"id",Wl("recharts-bar-")),da(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),da(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Vse(t,e),Use(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,c=a.activeIndex,u=a.activeBar,d=de(this.props,!1);return n&&n.map(function(f,h){var p=h===c,v=p?u:s,y=jt(jt(jt({},d),f),{},{isActive:p,option:v,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return E.createElement(Ee,Gh({className:"recharts-bar-rectangle"},ks(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),E.createElement(mO,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return E.createElement(Qn,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,y=a.map(function(x,m){var g=h&&h[m];if(g){var b=Mr(g.x,x.x),_=Mr(g.y,x.y),w=Mr(g.width,x.width),j=Mr(g.height,x.height);return jt(jt({},x),{},{x:b(v),y:_(v),width:w(v),height:j(v)})}if(s==="horizontal"){var S=Mr(0,x.height),N=S(v);return jt(jt({},x),{},{y:x.y+x.height-N,height:N})}var P=Mr(0,x.width),A=P(v);return jt(jt({},x),{},{width:A})});return E.createElement(Ee,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!gd(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,c=de(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Dse(u,Lse);if(!f)return null;var p=jt(jt(jt(jt(jt({},h),{},{fill:"#eee"},f),c),ks(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return E.createElement(mO,Gh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Wr(d,vd);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(x,m){var g=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:g,errorVal:$t(x,m)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return E.createElement(Ee,v,f.map(function(y){return E.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,y=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,m=ve("recharts-bar",s),g=o&&o.allowDataOverflow,b=c&&c.allowDataOverflow,_=g||b,w=ge(y)?this.id:y;return E.createElement(Ee,{className:m},g||b?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(w)},E.createElement("rect",{x:g?u:u-f/2,y:b?d:d-h/2,width:g?f:f*2,height:b?h:h*2}))):null,E.createElement(Ee,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||x)&&Si.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(O.PureComponent);y$=Na;da(Na,"displayName","Bar");da(Na,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});da(Na,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Nee(n,r);if(!p)return null;var v=t.layout,y=r.type.defaultProps,x=y!==void 0?jt(jt({},y),r.props):r.props,m=x.dataKey,g=x.children,b=x.minPointSize,_=v==="horizontal"?s:a,w=u?_.scale.domain():null,j=Cee({numericAxis:_}),S=Wr(g,Qp),N=f.map(function(P,A){var k,T,M,I,D,F;u?k=Oee(u[d+A],w):(k=$t(P,m),Array.isArray(k)||(k=[j,k]));var q=Ise(b,y$.defaultProps.minPointSize)(k[1],A);if(v==="horizontal"){var R,B=[s.scale(k[0]),s.scale(k[1])],U=B[0],V=B[1];T=sN({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:P,index:A}),M=(R=V??U)!==null&&R!==void 0?R:void 0,I=p.size;var K=U-V;if(D=Number.isNaN(K)?0:K,F={x:T,y:s.y,width:I,height:s.height},Math.abs(q)>0&&Math.abs(D)<Math.abs(q)){var le=hr(D||q)*(Math.abs(q)-Math.abs(D));M-=le,D+=le}}else{var Ne=[a.scale(k[0]),a.scale(k[1])],Fe=Ne[0],st=Ne[1];if(T=Fe,M=sN({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:P,index:A}),I=st-Fe,D=p.size,F={x:a.x,y:M,width:a.width,height:D},Math.abs(q)>0&&Math.abs(I)<Math.abs(q)){var Jt=hr(I||q)*(Math.abs(q)-Math.abs(I));I+=Jt}}return jt(jt(jt({},P),{},{x:T,y:M,width:I,height:D,value:u?k:k[1],payload:P,background:F},S&&S[A]&&S[A].props),{},{tooltipPayload:[zC(r,P)],tooltipPosition:{x:T+I/2,y:M+D/2}})});return jt({data:N,layout:v},h)});function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function Kse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w$(n.key),n)}}function Gse(e,t,r){return t&&yO(e.prototype,t),r&&yO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pm(e,t,r){return t=w$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=Qse(e,"string");return Hu(t)=="symbol"?t:t+""}function Qse(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _$=function(t,r,n,i,a){var s=t.width,o=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Rr(u,Na);return d.reduce(function(p,v){var y=r[v],x=y.orientation,m=y.domain,g=y.padding,b=g===void 0?{}:g,_=y.mirror,w=y.reversed,j="".concat(x).concat(_?"Mirror":""),S,N,P,A,k;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var T=m[1]-m[0],M=1/0,I=y.categoricalDomain.sort(c8);if(I.forEach(function(Ne,Fe){Fe>0&&(M=Math.min((Ne||0)-(I[Fe-1]||0),M))}),Number.isFinite(M)){var D=M/T,F=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(S=D*F/2),y.padding==="no-gap"){var q=pr(t.barCategoryGap,D*F),R=D*F/2;S=R-q-(R-q)/F*q}}}i==="xAxis"?N=[n.left+(b.left||0)+(S||0),n.left+n.width-(b.right||0)-(S||0)]:i==="yAxis"?N=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(S||0),n.top+n.height-(b.bottom||0)-(S||0)]:N=y.range,w&&(N=[N[1],N[0]]);var B=DC(y,a,h),U=B.scale,V=B.realScaleType;U.domain(m).range(N),FC(U);var K=BC(U,Sn(Sn({},y),{},{realScaleType:V}));i==="xAxis"?(k=x==="top"&&!_||x==="bottom"&&_,P=n.left,A=f[j]-k*y.height):i==="yAxis"&&(k=x==="left"&&!_||x==="right"&&_,P=f[j]-k*y.width,A=n.top);var le=Sn(Sn(Sn({},y),K),{},{realScaleType:V,x:P,y:A,scale:U,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return le.bandSize=Ch(le,K),!y.hide&&i==="xAxis"?f[j]+=(k?-1:1)*le.height:y.hide||(f[j]+=(k?-1:1)*le.width),Sn(Sn({},p),{},pm({},v,le))},{})},j$=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Yse=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return j$({x:r,y:n},{x:i,y:a})},S$=function(){function e(t){Kse(this,e),this.scale=t}return Gse(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();pm(S$,"EPS",1e-4);var mw=function(t){var r=Object.keys(t).reduce(function(n,i){return Sn(Sn({},n),{},pm({},i,S$.create(t[i])))},{});return Sn(Sn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return gse(i,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(i){return v$(i,function(a,s){return r[s].isInRange(a)})}})};function Xse(e){return(e%180+180)%180}var Jse=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Xse(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Zse=Zn,eoe=dd,toe=Hp;function roe(e){return function(t,r,n){var i=Object(t);if(!eoe(t)){var a=Zse(r);t=toe(t),r=function(o){return a(i[o],o,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var noe=roe,ioe=h$;function aoe(e){var t=ioe(e),r=t%1;return t===t?r?t-r:t:0}var soe=aoe,ooe=yT,loe=Zn,coe=soe,uoe=Math.max;function doe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:coe(r);return i<0&&(i=uoe(n+i,0)),ooe(e,loe(t),i)}var foe=doe,hoe=noe,poe=foe,moe=hoe(poe),goe=moe;const voe=Ie(goe);var yoe=fU(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),gw=O.createContext(void 0),vw=O.createContext(void 0),N$=O.createContext(void 0),O$=O.createContext({}),P$=O.createContext(void 0),E$=O.createContext(0),k$=O.createContext(0),bO=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,o=t.children,c=t.width,u=t.height,d=yoe(a);return E.createElement(gw.Provider,{value:n},E.createElement(vw.Provider,{value:i},E.createElement(O$.Provider,{value:a},E.createElement(N$.Provider,{value:d},E.createElement(P$.Provider,{value:s},E.createElement(E$.Provider,{value:u},E.createElement(k$.Provider,{value:c},o)))))))},xoe=function(){return O.useContext(P$)},A$=function(t){var r=O.useContext(gw);r==null&&Cs();var n=r[t];return n==null&&Cs(),n},boe=function(){var t=O.useContext(gw);return Xi(t)},woe=function(){var t=O.useContext(vw),r=voe(t,function(n){return v$(n.domain,Number.isFinite)});return r||Xi(t)},T$=function(t){var r=O.useContext(vw);r==null&&Cs();var n=r[t];return n==null&&Cs(),n},_oe=function(){var t=O.useContext(N$);return t},joe=function(){return O.useContext(O$)},yw=function(){return O.useContext(k$)},xw=function(){return O.useContext(E$)};function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function Soe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Noe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$$(n.key),n)}}function Ooe(e,t,r){return t&&Noe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Poe(e,t,r){return t=Yh(t),Eoe(e,C$()?Reflect.construct(t,r||[],Yh(e).constructor):t.apply(e,r))}function Eoe(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return koe(e)}function koe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!e})()}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yh(e)}function Aoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C0(e,t)}function C0(e,t){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C0(e,t)}function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){bw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bw(e,t,r){return t=$$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $$(e){var t=Toe(e,"string");return yl(t)=="symbol"?t:t+""}function Toe(e,t){if(yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Coe(e,t){return Ioe(e)||Moe(e,t)||Roe(e,t)||$oe()}function $oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Roe(e,t){if(e){if(typeof e=="string")return jO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(e,t)}}function jO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Moe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Ioe(e){if(Array.isArray(e))return e}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(this,arguments)}var Loe=function(t,r){var n;return E.isValidElement(t)?n=E.cloneElement(t,r):pe(t)?n=t(r):n=E.createElement("line",$0({},r,{className:"recharts-reference-line-line"})),n},Doe=function(t,r,n,i,a,s,o,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var v=u.y,y=t.y.apply(v,{position:s});if(Hn(u,"discard")&&!t.y.isInRange(y))return null;var x=[{x:d+h,y},{x:d,y}];return c==="left"?x.reverse():x}if(r){var m=u.x,g=t.x.apply(m,{position:s});if(Hn(u,"discard")&&!t.x.isInRange(g))return null;var b=[{x:g,y:f+p},{x:g,y:f}];return o==="top"?b.reverse():b}if(i){var _=u.segment,w=_.map(function(j){return t.apply(j,{position:s})});return Hn(u,"discard")&&lse(w,function(j){return!t.isInRange(j)})?null:w}return null};function Foe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,u=xoe(),d=A$(i),f=T$(a),h=_oe();if(!u||!h)return null;Tn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=mw({x:d.scale,y:f.scale}),v=Mt(t),y=Mt(r),x=n&&n.length===2,m=Doe(p,v,y,x,h,e.position,d.orientation,f.orientation,e);if(!m)return null;var g=Coe(m,2),b=g[0],_=b.x,w=b.y,j=g[1],S=j.x,N=j.y,P=Hn(e,"hidden")?"url(#".concat(u,")"):void 0,A=_O(_O({clipPath:P},de(e,!0)),{},{x1:_,y1:w,x2:S,y2:N});return E.createElement(Ee,{className:ve("recharts-reference-line",o)},Loe(s,A),Ut.renderCallByParent(e,Yse({x1:_,y1:w,x2:S,y2:N})))}var ww=function(e){function t(){return Soe(this,t),Poe(this,t,arguments)}return Aoe(t,e),Ooe(t,[{key:"render",value:function(){return E.createElement(Foe,this.props)}}])}(E.Component);bw(ww,"displayName","ReferenceLine");bw(ww,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(this,arguments)}function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M$(n.key),n)}}function zoe(e,t,r){return t&&Uoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Woe(e,t,r){return t=Xh(t),qoe(e,R$()?Reflect.construct(t,r||[],Xh(e).constructor):t.apply(e,r))}function qoe(e,t){if(t&&(xl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Voe(e)}function Voe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!e})()}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xh(e)}function Hoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M0(e,t)}function M0(e,t){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M0(e,t)}function mm(e,t,r){return t=M$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M$(e){var t=Koe(e,"string");return xl(t)=="symbol"?t:t+""}function Koe(e,t){if(xl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Goe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=mw({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Hn(t,"discard")&&!s.isInRange(o)?null:o},gm=function(e){function t(){return Boe(this,t),Woe(this,t,arguments)}return Hoe(t,e),zoe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=Mt(i),d=Mt(a);if(Tn(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Goe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,y=v.shape,x=v.className,m=Hn(this.props,"hidden")?"url(#".concat(c,")"):void 0,g=NO(NO({clipPath:m},de(this.props,!0)),{},{cx:h,cy:p});return E.createElement(Ee,{className:ve("recharts-reference-dot",x)},t.renderDot(y,g),Ut.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(E.Component);mm(gm,"displayName","ReferenceDot");mm(gm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mm(gm,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):pe(e)?r=e(t):r=E.createElement(om,R0({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yoe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L$(n.key),n)}}function Xoe(e,t,r){return t&&Yoe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Joe(e,t,r){return t=Jh(t),Zoe(e,I$()?Reflect.construct(t,r||[],Jh(e).constructor):t.apply(e,r))}function Zoe(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ele(e)}function ele(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!e})()}function Jh(e){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jh(e)}function tle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L0(e,t)}function L0(e,t){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L0(e,t)}function vm(e,t,r){return t=L$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=rle(e,"string");return bl(t)=="symbol"?t:t+""}function rle(e,t){if(bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nle=function(t,r,n,i,a){var s=a.x1,o=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=mw({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Hn(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:j$(p,v)},ym=function(e){function t(){return Qoe(this,t),Joe(this,t,arguments)}return tle(t,e),Xoe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Tn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Mt(i),h=Mt(a),p=Mt(s),v=Mt(o),y=this.props.shape;if(!f&&!h&&!p&&!v&&!y)return null;var x=nle(f,h,p,v,this.props);if(!x&&!y)return null;var m=Hn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return E.createElement(Ee,{className:ve("recharts-reference-area",c)},t.renderRect(y,PO(PO({clipPath:m},de(this.props,!0)),x)),Ut.renderCallByParent(this.props,x))}}])}(E.Component);vm(ym,"displayName","ReferenceArea");vm(ym,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vm(ym,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):pe(e)?r=e(t):r=E.createElement(pw,I0({},t,{className:"recharts-reference-area-rect"})),r});function D$(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function ile(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Jse(n,r)}function ale(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,o=e.height;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Zh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function sle(e,t){return D$(e,t+1)}function ole(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,o=t.end,c=0,u=1,d=s,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:D$(n,u)};var y=c,x,m=function(){return x===void 0&&(x=r(v,y)),x},g=v.coordinate,b=c===0||Zh(e,g,m,d,o);b||(c=0,d=s,u+=1),b&&(d=g+e*(m()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){lle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lle(e,t,r){return t=cle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cle(e){var t=ule(e,"string");return Ku(t)=="symbol"?t:t+""}function ule(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dle(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=t.start,c=t.end,u=function(h){var p=a[h],v,y=function(){return v===void 0&&(v=r(p,h)),v};if(h===s-1){var x=e*(p.coordinate+e*y()/2-c);a[h]=p=ir(ir({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else a[h]=p=ir(ir({},p),{},{tickCoord:p.coordinate});var m=Zh(e,p.tickCoord,y,o,c);m&&(c=p.tickCoord-e*(y()/2+i),a[h]=ir(ir({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function fle(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,c=t.start,u=t.end;if(a){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);s[o-1]=d=ir(ir({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Zh(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+i),s[o-1]=ir(ir({},d),{},{isShow:!0}))}for(var v=a?o-1:o,y=function(g){var b=s[g],_,w=function(){return _===void 0&&(_=r(b,g)),_};if(g===0){var j=e*(b.coordinate-e*w()/2-c);s[g]=b=ir(ir({},b),{},{tickCoord:j<0?b.coordinate-j*e:b.coordinate})}else s[g]=b=ir(ir({},b),{},{tickCoord:b.coordinate});var S=Zh(e,b.tickCoord,w,c,u);S&&(c=b.tickCoord+e*(w()/2+i),s[g]=ir(ir({},b),{},{isShow:!0}))},x=0;x<v;x++)y(x);return s}function _w(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(X(c)||Fs.isSsr)return sle(i,typeof c=="number"&&X(c)?c:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",v=d&&p==="width"?Dc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(b,_){var w=pe(u)?u(b.value,_):b.value;return p==="width"?ile(Dc(w,{fontSize:t,letterSpacing:r}),v,f):Dc(w,{fontSize:t,letterSpacing:r})[p]},x=i.length>=2?hr(i[1].coordinate-i[0].coordinate):1,m=ale(a,x,p);return c==="equidistantPreserveStart"?ole(x,m,y,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=fle(x,m,y,i,s,c==="preserveStartEnd"):h=dle(x,m,y,i,s),h.filter(function(g){return g.isShow}))}var hle=["viewBox"],ple=["viewBox"],mle=["ticks"];function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(this,arguments)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){jw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $g(e,t){if(e==null)return{};var r=gle(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B$(n.key),n)}}function yle(e,t,r){return t&&AO(e.prototype,t),r&&AO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xle(e,t,r){return t=ep(t),ble(e,F$()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function ble(e,t){if(t&&(wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wle(e)}function wle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F$=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function _le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D0(e,t)}function D0(e,t){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D0(e,t)}function jw(e,t,r){return t=B$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B$(e){var t=jle(e,"string");return wl(t)=="symbol"?t:t+""}function jle(e,t){if(wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yl=function(e){function t(r){var n;return vle(this,t),n=xle(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return _le(t,e),yle(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=$g(n,hle),o=this.props,c=o.viewBox,u=$g(o,ple);return!Ao(a,c)||!Ao(s,u)||!Ao(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,y,x,m,g,b=f?-1:1,_=n.tickSize||d,w=X(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=s+ +!f*c,y=x-b*_,g=y-b*h,m=w;break;case"left":y=x=n.coordinate,v=a+ +!f*o,p=v-b*_,m=p-b*h,g=w;break;case"right":y=x=n.coordinate,v=a+ +f*o,p=v+b*_,m=p+b*h,g=w;break;default:p=v=n.coordinate,x=s+ +f*c,y=x+b*_,g=y+b*h,m=w;break}return{line:{x1:p,y1:y,x2:v,y2:x},tick:{x:m,y:g}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Et(Et(Et({},de(this.props,!1)),de(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Et(Et({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Et(Et({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return E.createElement("line",xo({},f,{className:ve("recharts-cartesian-axis-line",zr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=_w(Et(Et({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=de(this.props,!1),m=de(d,!1),g=Et(Et({},x),{},{fill:"none"},de(c,!1)),b=p.map(function(_,w){var j=s.getTickLineCoord(_),S=j.line,N=j.tick,P=Et(Et(Et(Et({textAnchor:v,verticalAnchor:y},x),{},{stroke:"none",fill:u},m),N),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:f});return E.createElement(Ee,xo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ks(s.props,_,w)),c&&E.createElement("line",xo({},g,S,{className:ve("recharts-cartesian-axis-tick-line",zr(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(pe(f)?f(_.value,w):_.value).concat(h||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=$g(f,mle),v=h;return pe(c)&&(v=h&&h.length>0?c(this.props):c(p)),s<=0||o<=0||!v||!v.length?null:E.createElement(Ee,{className:ve("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ut.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=ve(i.className,"recharts-cartesian-axis-tick-value");return E.isValidElement(n)?s=E.cloneElement(n,Et(Et({},i),{},{className:o})):pe(n)?s=n(Et(Et({},i),{},{className:o})):s=E.createElement(As,xo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(O.Component);jw(Yl,"displayName","CartesianAxis");jw(Yl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Sle=["x1","y1","x2","y2","key"],Nle=["offset"];function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){Ole(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ole(e,t,r){return t=Ple(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ple(e){var t=Ele(e,"string");return $s(t)=="symbol"?t:t+""}function Ele(e,t){if($s(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(this,arguments)}function CO(e,t){if(e==null)return{};var r=kle(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ale=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,o=t.height,c=t.ry;return E.createElement("rect",{x:i,y:a,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function U$(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(pe(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,c=CO(t,Sle),u=de(c,!1);u.offset;var d=CO(u,Nle);r=E.createElement("line",is({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Tle(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=sr(sr({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return U$(i,u)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Cle(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=sr(sr({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return U$(i,u)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function $le(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],y=v?i+s-h:d[p+1]-h;if(y<=0)return null;var x=p%t.length;return E.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:y,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Rle(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],y=v?a+o-h:d[p+1]-h;if(y<=0)return null;var x=p%n.length;return E.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:y,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Mle=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return LC(_w(sr(sr(sr({},Yl.defaultProps),n),{},{ticks:yi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Ile=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return LC(_w(sr(sr(sr({},Yl.defaultProps),n),{},{ticks:yi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Xs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sw(e){var t,r,n,i,a,s,o=yw(),c=xw(),u=joe(),d=sr(sr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Xs.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Xs.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Xs.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Xs.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Xs.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Xs.verticalFill,x:X(e.x)?e.x:u.left,y:X(e.y)?e.y:u.top,width:X(e.width)?e.width:u.width,height:X(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,y=d.syncWithTicks,x=d.horizontalValues,m=d.verticalValues,g=boe(),b=woe();if(!X(p)||p<=0||!X(v)||v<=0||!X(f)||f!==+f||!X(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||Mle,w=d.horizontalCoordinatesGenerator||Ile,j=d.horizontalPoints,S=d.verticalPoints;if((!j||!j.length)&&pe(w)){var N=x&&x.length,P=w({yAxis:b?sr(sr({},b),{},{ticks:N?x:b.ticks}):void 0,width:o,height:c,offset:u},N?!0:y);Tn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($s(P),"]")),Array.isArray(P)&&(j=P)}if((!S||!S.length)&&pe(_)){var A=m&&m.length,k=_({xAxis:g?sr(sr({},g),{},{ticks:A?m:g.ticks}):void 0,width:o,height:c,offset:u},A?!0:y);Tn(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($s(k),"]")),Array.isArray(k)&&(S=k)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(Ale,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),E.createElement(Tle,is({},d,{offset:u,horizontalPoints:j,xAxis:g,yAxis:b})),E.createElement(Cle,is({},d,{offset:u,verticalPoints:S,xAxis:g,yAxis:b})),E.createElement($le,is({},d,{horizontalPoints:j})),E.createElement(Rle,is({},d,{verticalPoints:S})))}Sw.displayName="CartesianGrid";var Lle=["type","layout","connectNulls","ref"],Dle=["key"];function _l(e){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}function $O(e,t){if(e==null)return{};var r=Fle(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}function RO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(r),!0).forEach(function(n){Nn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Js(e){return Wle(e)||zle(e)||Ule(e)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ule(e,t){if(e){if(typeof e=="string")return F0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F0(e,t)}}function zle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wle(e){if(Array.isArray(e))return F0(e)}function F0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W$(n.key),n)}}function Vle(e,t,r){return t&&MO(e.prototype,t),r&&MO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hle(e,t,r){return t=tp(t),Kle(e,z$()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function Kle(e,t){if(t&&(_l(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gle(e)}function Gle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z$=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function Qle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B0(e,t)}function B0(e,t){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B0(e,t)}function Nn(e,t,r){return t=W$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W$(e){var t=Yle(e,"string");return _l(t)=="symbol"?t:t+""}function Yle(e,t){if(_l(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xs=function(e){function t(){var r;qle(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hle(this,t,[].concat(i)),Nn(r,"state",{isAnimationFinished:!0,totalLength:0}),Nn(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Nn(r,"getStrokeDasharray",function(s,o,c){var u=c.reduce(function(m,g){return m+g});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,p=[],v=0,y=0;v<c.length;y+=c[v],++v)if(y+c[v]>f){p=[].concat(Js(c.slice(0,v)),[f-y]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(Js(t.repeat(c,d)),Js(p),x).map(function(m){return"".concat(m,"px")}).join(", ")}),Nn(r,"id",Wl("recharts-line-")),Nn(r,"pathRef",function(s){r.mainCurve=s}),Nn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Nn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Qle(t,e),Vle(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Wr(d,vd);if(!f)return null;var h=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:$t(y.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return E.createElement(Ee,p,f.map(function(v){return E.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,d=o.dataKey,f=de(this.props,!1),h=de(c,!0),p=u.map(function(y,x){var m=Tr(Tr(Tr({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return t.renderDotItem(c,m)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return E.createElement(Ee,qc({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,c=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=$O(o,Lle),h=Tr(Tr(Tr({},de(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return E.createElement(Mh,qc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,v=s.animateNewValues,y=s.width,x=s.height,m=this.state,g=m.prevPoints,b=m.totalLength;return E.createElement(Qn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(g){var j=g.length/o.length,S=o.map(function(T,M){var I=Math.floor(M*j);if(g[I]){var D=g[I],F=Mr(D.x,T.x),q=Mr(D.y,T.y);return Tr(Tr({},T),{},{x:F(w),y:q(w)})}if(v){var R=Mr(y*2,T.x),B=Mr(x/2,T.y);return Tr(Tr({},T),{},{x:R(w),y:B(w)})}return Tr(Tr({},T),{},{x:T.x,y:T.y})});return a.renderCurveStatically(S,n,i)}var N=Mr(0,b),P=N(w),A;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});A=a.getStrokeDasharray(P,b,k)}else A=a.generateSimpleStrokeDasharray(b,P);return a.renderCurveStatically(o,n,i,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return o&&s&&s.length&&(!u&&d>0||!gd(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,v=i.height,y=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var m=this.state.isAnimationFinished,g=o.length===1,b=ve("recharts-line",c),_=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,j=_||w,S=ge(x)?this.id:x,N=(n=de(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=N.r,A=P===void 0?3:P,k=N.strokeWidth,T=k===void 0?2:k,M=y8(s)?s:{},I=M.clipDot,D=I===void 0?!0:I,F=A*2+T;return E.createElement(Ee,{className:b},_||w?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(S)},E.createElement("rect",{x:_?h:h-p/2,y:w?f:f-v/2,width:_?p:p*2,height:w?v:v*2})),!D&&E.createElement("clipPath",{id:"clipPath-dots-".concat(S)},E.createElement("rect",{x:h-F/2,y:f-F/2,width:p+F,height:v+F}))):null,!g&&this.renderCurve(j,S),this.renderErrorBar(j,S),(g||s)&&this.renderDots(j,D,S),(!y||m)&&Si.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Js(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Js(s),Js(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(E.isValidElement(n))a=E.cloneElement(n,i);else if(pe(n))a=n(i);else{var s=i.key,o=$O(i,Dle),c=ve("recharts-line-dot",typeof n!="boolean"?n.className:"");a=E.createElement(om,qc({key:s},o,{className:c}))}return a}}])}(O.PureComponent);Nn(xs,"displayName","Line");Nn(xs,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Nn(xs,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,o=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var v=$t(h,s);return d==="horizontal"?{x:aN({axis:r,ticks:i,bandSize:o,entry:h,index:p}),y:ge(v)?null:n.scale(v),value:v,payload:h}:{x:ge(v)?null:r.scale(v),y:aN({axis:n,ticks:a,bandSize:o,entry:h,index:p}),value:v,payload:h}});return Tr({points:f,layout:d},u)});function jl(e){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(e)}function Xle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H$(n.key),n)}}function Zle(e,t,r){return t&&Jle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ece(e,t,r){return t=rp(t),tce(e,q$()?Reflect.construct(t,r||[],rp(e).constructor):t.apply(e,r))}function tce(e,t){if(t&&(jl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rce(e)}function rce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!e})()}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function nce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U0(e,t)}function U0(e,t){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U0(e,t)}function V$(e,t,r){return t=H$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H$(e){var t=ice(e,"string");return jl(t)=="symbol"?t:t+""}function ice(e,t){if(jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(this,arguments)}function ace(e){var t=e.xAxisId,r=yw(),n=xw(),i=A$(t);return i==null?null:O.createElement(Yl,z0({},i,{className:ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return yi(s,!0)}}))}var Xl=function(e){function t(){return Xle(this,t),ece(this,t,arguments)}return nce(t,e),Zle(t,[{key:"render",value:function(){return O.createElement(ace,this.props)}}])}(O.Component);V$(Xl,"displayName","XAxis");V$(Xl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function sce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q$(n.key),n)}}function lce(e,t,r){return t&&oce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cce(e,t,r){return t=np(t),uce(e,K$()?Reflect.construct(t,r||[],np(e).constructor):t.apply(e,r))}function uce(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(e)}function dce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K$=function(){return!!e})()}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(e)}function fce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W0(e,t)}function W0(e,t){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(e,t)}function G$(e,t,r){return t=Q$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q$(e){var t=hce(e,"string");return Sl(t)=="symbol"?t:t+""}function hce(e,t){if(Sl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(this,arguments)}var pce=function(t){var r=t.yAxisId,n=yw(),i=xw(),a=T$(r);return a==null?null:O.createElement(Yl,q0({},a,{className:ve("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return yi(o,!0)}}))},Jl=function(e){function t(){return sce(this,t),cce(this,t,arguments)}return fce(t,e),lce(t,[{key:"render",value:function(){return O.createElement(pce,this.props)}}])}(O.Component);G$(Jl,"displayName","YAxis");G$(Jl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function IO(e){return yce(e)||vce(e)||gce(e)||mce()}function mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(e,t){if(e){if(typeof e=="string")return V0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V0(e,t)}}function vce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yce(e){if(Array.isArray(e))return V0(e)}function V0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H0=function(t,r,n,i,a){var s=Wr(t,ww),o=Wr(t,gm),c=[].concat(IO(s),IO(o)),u=Wr(t,ym),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(y,x){if(x.props[d]===n&&Hn(x.props,"extendDomain")&&X(x.props[f])){var m=x.props[f];return[Math.min(y[0],m),Math.max(y[1],m)]}return y},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(y,x){if(x.props[d]===n&&Hn(x.props,"extendDomain")&&X(x.props[p])&&X(x.props[v])){var m=x.props[p],g=x.props[v];return[Math.min(y[0],m,g),Math.max(y[1],m,g)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,x){return X(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},h)),h},Y$={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,v){var y=r?r+u:u;if(!this._events[y])return!1;var x=this._events[y],m=arguments.length,g,b;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),m){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,v),!0}for(b=1,g=new Array(m-1);b<m;b++)g[b-1]=arguments[b];x.fn.apply(x.context,g)}else{var _=x.length,w;for(b=0;b<_;b++)switch(x[b].once&&this.removeListener(u,x[b].fn,void 0,!0),m){case 1:x[b].fn.call(x[b].context);break;case 2:x[b].fn.call(x[b].context,d);break;case 3:x[b].fn.call(x[b].context,d,f);break;case 4:x[b].fn.call(x[b].context,d,f,h);break;default:if(!g)for(w=1,g=new Array(m-1);w<m;w++)g[w-1]=arguments[w];x[b].fn.apply(x[b].context,g)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,p);else{for(var y=0,x=[],m=v.length;y<m;y++)(v[y].fn!==d||h&&!v[y].once||f&&v[y].context!==f)&&x.push(v[y]);x.length?this._events[p]=x.length===1?x[0]:x:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Y$);var xce=Y$.exports;const bce=Ie(xce);var Rg=new bce,Mg="recharts.syncMouseEvents";function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function wce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X$(n.key),n)}}function jce(e,t,r){return t&&_ce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ig(e,t,r){return t=X$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X$(e){var t=Sce(e,"string");return Gu(t)=="symbol"?t:t+""}function Sce(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nce=function(){function e(){wce(this,e),Ig(this,"activeIndex",0),Ig(this,"coordinateList",[]),Ig(this,"layout","horizontal")}return jce(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Oce(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&X(n)&&X(i))return!0}return!1}function Pce(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function J$(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=Qe(t,r,n,i),o=Qe(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Ece(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Qe(o,c,u,f),p=Qe(o,c,d,f);n=h.x,i=h.y,a=p.x,s=p.y}else return J$(t);return[{x:n,y:i},{x:a,y:s}]}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){kce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t,r){return t=Ace(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ace(e){var t=Tce(e,"string");return Qu(t)=="symbol"?t:t+""}function Tce(e,t){if(Qu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cce(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,y=Mh;if(h==="ScatterChart")v=s,y=Yne;else if(h==="BarChart")v=Pce(f,s,c,d),y=pw;else if(f==="radial"){var x=J$(s),m=x.cx,g=x.cy,b=x.radius,_=x.startAngle,w=x.endAngle;v={cx:m,cy:g,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},y=GC}else v={points:Ece(f,s,c)},y=Mh;var j=lf(lf(lf(lf({stroke:"#ccc",pointerEvents:"none"},c),v),de(p,!1)),{},{payload:o,payloadIndex:u,className:ve("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,j):O.createElement(y,j)}var $ce=["item"],Rce=["children","className","width","height","style","compact","title","desc"];function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bo.apply(this,arguments)}function DO(e,t){return Lce(e)||Ice(e,t)||eR(e,t)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ice(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function Lce(e){if(Array.isArray(e))return e}function FO(e,t){if(e==null)return{};var r=Dce(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tR(n.key),n)}}function Uce(e,t,r){return t&&Bce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zce(e,t,r){return t=ip(t),Wce(e,Z$()?Reflect.construct(t,r||[],ip(e).constructor):t.apply(e,r))}function Wce(e,t){if(t&&(Nl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qce(e)}function qce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!e})()}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ip(e)}function Vce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K0(e,t)}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K0(e,t)}function Ol(e){return Gce(e)||Kce(e)||eR(e)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eR(e,t){if(e){if(typeof e=="string")return G0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G0(e,t)}}function Kce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gce(e){if(Array.isArray(e))return G0(e)}function G0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){fe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fe(e,t,r){return t=tR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tR(e){var t=Qce(e,"string");return Nl(t)=="symbol"?t:t+""}function Qce(e,t){if(Nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yce={xAxis:["bottom","top"],yAxis:["left","right"]},Xce={width:"100%",height:"100%"},rR={x:0,y:0};function cf(e){return e}var Jce=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Zce=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,o=i.radius;return W(W(W({},i),Qe(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,u=i.angle;return W(W(W({},i),Qe(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return rR},xm=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(Ol(o),Ol(u)):o},[]);return s.length>0?s:t&&t.length&&X(i)&&X(a)?t.slice(i,a+1):[]};function nR(e){return e==="number"?[0,"auto"]:void 0}var Q0=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,o=xm(r,t);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=ih(p,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(Ol(c),[zC(u,h)]):c},[])},UO=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=Jce(a,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=xee(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Q0(t,r,d,f),p=Zce(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},eue=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=IC(d,a);return n.reduce(function(v,y){var x,m=y.type.defaultProps!==void 0?W(W({},y.type.defaultProps),y.props):y.props,g=m.type,b=m.dataKey,_=m.allowDataOverflow,w=m.allowDuplicatedCategory,j=m.scale,S=m.ticks,N=m.includeHidden,P=m[s];if(v[P])return v;var A=xm(t.data,{graphicalItems:i.filter(function(K){var le,Ne=s in K.props?K.props[s]:(le=K.type.defaultProps)===null||le===void 0?void 0:le[s];return Ne===P}),dataStartIndex:c,dataEndIndex:u}),k=A.length,T,M,I;Oce(m.domain,_,g)&&(T=c0(m.domain,null,_),p&&(g==="number"||j!=="auto")&&(I=Bc(A,b,"category")));var D=nR(g);if(!T||T.length===0){var F,q=(F=m.domain)!==null&&F!==void 0?F:D;if(b){if(T=Bc(A,b,g),g==="category"&&p){var R=l8(T);w&&R?(M=T,T=Vh(0,k)):w||(T=cN(q,T,y).reduce(function(K,le){return K.indexOf(le)>=0?K:[].concat(Ol(K),[le])},[]))}else if(g==="category")w?T=T.filter(function(K){return K!==""&&!ge(K)}):T=cN(q,T,y).reduce(function(K,le){return K.indexOf(le)>=0||le===""||ge(le)?K:[].concat(Ol(K),[le])},[]);else if(g==="number"){var B=See(A,i.filter(function(K){var le,Ne,Fe=s in K.props?K.props[s]:(le=K.type.defaultProps)===null||le===void 0?void 0:le[s],st="hide"in K.props?K.props.hide:(Ne=K.type.defaultProps)===null||Ne===void 0?void 0:Ne.hide;return Fe===P&&(N||!st)}),b,a,d);B&&(T=B)}p&&(g==="number"||j!=="auto")&&(I=Bc(A,b,"category"))}else p?T=Vh(0,k):o&&o[P]&&o[P].hasStack&&g==="number"?T=h==="expand"?[0,1]:UC(o[P].stackGroups,c,u):T=MC(A,i.filter(function(K){var le=s in K.props?K.props[s]:K.type.defaultProps[s],Ne="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return le===P&&(N||!Ne)}),g,d,!0);if(g==="number")T=H0(f,T,P,a,S),q&&(T=c0(q,T,_));else if(g==="category"&&q){var U=q,V=T.every(function(K){return U.indexOf(K)>=0});V&&(T=U)}}return W(W({},v),{},fe({},P,W(W({},m),{},{axisType:a,domain:T,categoricalDomain:I,duplicateDomain:M,originalDomain:(x=m.domain)!==null&&x!==void 0?x:D,isCategorical:p,layout:d})))},{})},tue=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=xm(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=IC(d,a),y=-1;return n.reduce(function(x,m){var g=m.type.defaultProps!==void 0?W(W({},m.type.defaultProps),m.props):m.props,b=g[s],_=nR("number");if(!x[b]){y++;var w;return v?w=Vh(0,p):o&&o[b]&&o[b].hasStack?(w=UC(o[b].stackGroups,c,u),w=H0(f,w,b,a)):(w=c0(_,MC(h,n.filter(function(j){var S,N,P=s in j.props?j.props[s]:(S=j.type.defaultProps)===null||S===void 0?void 0:S[s],A="hide"in j.props?j.props.hide:(N=j.type.defaultProps)===null||N===void 0?void 0:N.hide;return P===b&&!A}),"number",d),i.defaultProps.allowDataOverflow),w=H0(f,w,b,a)),W(W({},x),{},fe({},b,W(W({axisType:a},i.defaultProps),{},{hide:!0,orientation:zr(Yce,"".concat(a,".").concat(y%2),null),domain:w,originalDomain:_,isCategorical:v,layout:d})))}return x},{})},rue=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Wr(d,a),p={};return h&&h.length?p=eue(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=tue(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},nue=function(t){var r=Xi(t),n=yi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Bb(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ch(r,n)}},zO=function(t){var r=t.children,n=t.defaultShowTooltip,i=Rr(r,gl),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},iue=function(t){return!t||!t.length?!1:t.some(function(r){var n=wi(r&&r.type);return n&&n.indexOf("Bar")>=0})},WO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aue=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Rr(f,gl),v=Rr(f,_i),y=Object.keys(c).reduce(function(w,j){var S=c[j],N=S.orientation;return!S.mirror&&!S.hide?W(W({},w),{},fe({},N,w[N]+S.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(w,j){var S=s[j],N=S.orientation;return!S.mirror&&!S.hide?W(W({},w),{},fe({},N,zr(w,"".concat(N))+S.height)):w},{top:h.top||0,bottom:h.bottom||0}),m=W(W({},x),y),g=m.bottom;p&&(m.bottom+=p.props.height||gl.defaultProps.height),v&&r&&(m=_ee(m,i,n,r));var b=u-m.left-m.right,_=d-m.top-m.bottom;return W(W({brushBottom:g},m),{},{width:Math.max(b,0),height:Math.max(_,0)})},sue=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Nw=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(m,g){var b=g.graphicalItems,_=g.stackGroups,w=g.offset,j=g.updateId,S=g.dataStartIndex,N=g.dataEndIndex,P=m.barSize,A=m.layout,k=m.barGap,T=m.barCategoryGap,M=m.maxBarSize,I=WO(A),D=I.numericAxisName,F=I.cateAxisName,q=iue(b),R=[];return b.forEach(function(B,U){var V=xm(m.data,{graphicalItems:[B],dataStartIndex:S,dataEndIndex:N}),K=B.type.defaultProps!==void 0?W(W({},B.type.defaultProps),B.props):B.props,le=K.dataKey,Ne=K.maxBarSize,Fe=K["".concat(D,"Id")],st=K["".concat(F,"Id")],Jt={},Vt=c.reduce(function(L,z){var te=g["".concat(z.axisType,"Map")],J=K["".concat(z.axisType,"Id")];te&&te[J]||z.axisType==="zAxis"||Cs();var Q=te[J];return W(W({},L),{},fe(fe({},z.axisType,Q),"".concat(z.axisType,"Ticks"),yi(Q)))},Jt),ee=Vt[F],me=Vt["".concat(F,"Ticks")],ye=_&&_[Fe]&&_[Fe].hasStack&&$ee(B,_[Fe].stackGroups),H=wi(B.type).indexOf("Bar")>=0,rt=Ch(ee,me),Se=[],dt=q&&bee({barSize:P,stackGroups:_,totalSize:sue(Vt,F)});if(H){var vt,Zt,ei=ge(Ne)?M:Ne,ti=(vt=(Zt=Ch(ee,me,!0))!==null&&Zt!==void 0?Zt:ei)!==null&&vt!==void 0?vt:0;Se=wee({barGap:k,barCategoryGap:T,bandSize:ti!==rt?ti:rt,sizeList:dt[st],maxBarSize:ei}),ti!==rt&&(Se=Se.map(function(L){return W(W({},L),{},{position:W(W({},L.position),{},{offset:L.position.offset-ti/2})})}))}var $=B&&B.type&&B.type.getComposedData;$&&R.push({props:W(W({},$(W(W({},Vt),{},{displayedData:V,props:m,dataKey:le,item:B,bandSize:rt,barPosition:Se,offset:w,stackedData:ye,layout:A,dataStartIndex:S,dataEndIndex:N}))),{},fe(fe(fe({key:B.key||"item-".concat(U)},D,Vt[D]),F,Vt[F]),"animationId",j)),childIndex:w8(B,m.children),item:B})}),R},p=function(m,g){var b=m.props,_=m.dataStartIndex,w=m.dataEndIndex,j=m.updateId;if(!r1({props:b}))return null;var S=b.children,N=b.layout,P=b.stackOffset,A=b.data,k=b.reverseStackOrder,T=WO(N),M=T.numericAxisName,I=T.cateAxisName,D=Wr(S,n),F=Tee(A,D,"".concat(M,"Id"),"".concat(I,"Id"),P,k),q=c.reduce(function(K,le){var Ne="".concat(le.axisType,"Map");return W(W({},K),{},fe({},Ne,rue(b,W(W({},le),{},{graphicalItems:D,stackGroups:le.axisType===M&&F,dataStartIndex:_,dataEndIndex:w}))))},{}),R=aue(W(W({},q),{},{props:b,graphicalItems:D}),g==null?void 0:g.legendBBox);Object.keys(q).forEach(function(K){q[K]=d(b,q[K],R,K.replace("Map",""),r)});var B=q["".concat(I,"Map")],U=nue(B),V=h(b,W(W({},q),{},{dataStartIndex:_,dataEndIndex:w,updateId:j,graphicalItems:D,stackGroups:F,offset:R}));return W(W({formattedGraphicalItems:V,graphicalItems:D,offset:R,stackGroups:F},U),q)},v=function(x){function m(g){var b,_,w;return Fce(this,m),w=zce(this,m,[g]),fe(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fe(w,"accessibilityManager",new Nce),fe(w,"handleLegendBBoxUpdate",function(j){if(j){var S=w.state,N=S.dataStartIndex,P=S.dataEndIndex,A=S.updateId;w.setState(W({legendBBox:j},p({props:w.props,dataStartIndex:N,dataEndIndex:P,updateId:A},W(W({},w.state),{},{legendBBox:j}))))}}),fe(w,"handleReceiveSyncEvent",function(j,S,N){if(w.props.syncId===j){if(N===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(S)}}),fe(w,"handleBrushChange",function(j){var S=j.startIndex,N=j.endIndex;if(S!==w.state.dataStartIndex||N!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return W({dataStartIndex:S,dataEndIndex:N},p({props:w.props,dataStartIndex:S,dataEndIndex:N,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:S,dataEndIndex:N})}}),fe(w,"handleMouseEnter",function(j){var S=w.getMouseInfo(j);if(S){var N=W(W({},S),{},{isTooltipActive:!0});w.setState(N),w.triggerSyncEvent(N);var P=w.props.onMouseEnter;pe(P)&&P(N,j)}}),fe(w,"triggeredAfterMouseMove",function(j){var S=w.getMouseInfo(j),N=S?W(W({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(N),w.triggerSyncEvent(N);var P=w.props.onMouseMove;pe(P)&&P(N,j)}),fe(w,"handleItemMouseEnter",function(j){w.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),fe(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),fe(w,"handleMouseMove",function(j){j.persist(),w.throttleTriggeredAfterMouseMove(j)}),fe(w,"handleMouseLeave",function(j){w.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var N=w.props.onMouseLeave;pe(N)&&N(S,j)}),fe(w,"handleOuterEvent",function(j){var S=b8(j),N=zr(w.props,"".concat(S));if(S&&pe(N)){var P,A;/.*touch.*/i.test(S)?A=w.getMouseInfo(j.changedTouches[0]):A=w.getMouseInfo(j),N((P=A)!==null&&P!==void 0?P:{},j)}}),fe(w,"handleClick",function(j){var S=w.getMouseInfo(j);if(S){var N=W(W({},S),{},{isTooltipActive:!0});w.setState(N),w.triggerSyncEvent(N);var P=w.props.onClick;pe(P)&&P(N,j)}}),fe(w,"handleMouseDown",function(j){var S=w.props.onMouseDown;if(pe(S)){var N=w.getMouseInfo(j);S(N,j)}}),fe(w,"handleMouseUp",function(j){var S=w.props.onMouseUp;if(pe(S)){var N=w.getMouseInfo(j);S(N,j)}}),fe(w,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),fe(w,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseDown(j.changedTouches[0])}),fe(w,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&w.handleMouseUp(j.changedTouches[0])}),fe(w,"handleDoubleClick",function(j){var S=w.props.onDoubleClick;if(pe(S)){var N=w.getMouseInfo(j);S(N,j)}}),fe(w,"handleContextMenu",function(j){var S=w.props.onContextMenu;if(pe(S)){var N=w.getMouseInfo(j);S(N,j)}}),fe(w,"triggerSyncEvent",function(j){w.props.syncId!==void 0&&Rg.emit(Mg,w.props.syncId,j,w.eventEmitterSymbol)}),fe(w,"applySyncEvent",function(j){var S=w.props,N=S.layout,P=S.syncMethod,A=w.state.updateId,k=j.dataStartIndex,T=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)w.setState(W({dataStartIndex:k,dataEndIndex:T},p({props:w.props,dataStartIndex:k,dataEndIndex:T,updateId:A},w.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,I=j.chartY,D=j.activeTooltipIndex,F=w.state,q=F.offset,R=F.tooltipTicks;if(!q)return;if(typeof P=="function")D=P(R,j);else if(P==="value"){D=-1;for(var B=0;B<R.length;B++)if(R[B].value===j.activeLabel){D=B;break}}var U=W(W({},q),{},{x:q.left,y:q.top}),V=Math.min(M,U.x+U.width),K=Math.min(I,U.y+U.height),le=R[D]&&R[D].value,Ne=Q0(w.state,w.props.data,D),Fe=R[D]?{x:N==="horizontal"?R[D].coordinate:V,y:N==="horizontal"?K:R[D].coordinate}:rR;w.setState(W(W({},j),{},{activeLabel:le,activeCoordinate:Fe,activePayload:Ne,activeTooltipIndex:D}))}else w.setState(j)}),fe(w,"renderCursor",function(j){var S,N=w.state,P=N.isTooltipActive,A=N.activeCoordinate,k=N.activePayload,T=N.offset,M=N.activeTooltipIndex,I=N.tooltipAxisBandSize,D=w.getTooltipEventType(),F=(S=j.props.active)!==null&&S!==void 0?S:P,q=w.props.layout,R=j.key||"_recharts-cursor";return E.createElement(Cce,{key:R,activeCoordinate:A,activePayload:k,activeTooltipIndex:M,chartName:r,element:j,isActive:F,layout:q,offset:T,tooltipAxisBandSize:I,tooltipEventType:D})}),fe(w,"renderPolarAxis",function(j,S,N){var P=zr(j,"type.axisType"),A=zr(w.state,"".concat(P,"Map")),k=j.type.defaultProps,T=k!==void 0?W(W({},k),j.props):j.props,M=A&&A[T["".concat(P,"Id")]];return O.cloneElement(j,W(W({},M),{},{className:ve(P,M.className),key:j.key||"".concat(S,"-").concat(N),ticks:yi(M,!0)}))}),fe(w,"renderPolarGrid",function(j){var S=j.props,N=S.radialLines,P=S.polarAngles,A=S.polarRadius,k=w.state,T=k.radiusAxisMap,M=k.angleAxisMap,I=Xi(T),D=Xi(M),F=D.cx,q=D.cy,R=D.innerRadius,B=D.outerRadius;return O.cloneElement(j,{polarAngles:Array.isArray(P)?P:yi(D,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(A)?A:yi(I,!0).map(function(U){return U.coordinate}),cx:F,cy:q,innerRadius:R,outerRadius:B,key:j.key||"polar-grid",radialLines:N})}),fe(w,"renderLegend",function(){var j=w.state.formattedGraphicalItems,S=w.props,N=S.children,P=S.width,A=S.height,k=w.props.margin||{},T=P-(k.left||0)-(k.right||0),M=$C({children:N,formattedGraphicalItems:j,legendWidth:T,legendContent:u});if(!M)return null;var I=M.item,D=FO(M,$ce);return O.cloneElement(I,W(W({},D),{},{chartWidth:P,chartHeight:A,margin:k,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),fe(w,"renderTooltip",function(){var j,S=w.props,N=S.children,P=S.accessibilityLayer,A=Rr(N,Zr);if(!A)return null;var k=w.state,T=k.isTooltipActive,M=k.activeCoordinate,I=k.activePayload,D=k.activeLabel,F=k.offset,q=(j=A.props.active)!==null&&j!==void 0?j:T;return O.cloneElement(A,{viewBox:W(W({},F),{},{x:F.left,y:F.top}),active:q,label:D,payload:q?I:[],coordinate:M,accessibilityLayer:P})}),fe(w,"renderBrush",function(j){var S=w.props,N=S.margin,P=S.data,A=w.state,k=A.offset,T=A.dataStartIndex,M=A.dataEndIndex,I=A.updateId;return O.cloneElement(j,{key:j.key||"_recharts-brush",onChange:nf(w.handleBrushChange,j.props.onChange),data:P,x:X(j.props.x)?j.props.x:k.left,y:X(j.props.y)?j.props.y:k.top+k.height+k.brushBottom-(N.bottom||0),width:X(j.props.width)?j.props.width:k.width,startIndex:T,endIndex:M,updateId:"brush-".concat(I)})}),fe(w,"renderReferenceElement",function(j,S,N){if(!j)return null;var P=w,A=P.clipPathId,k=w.state,T=k.xAxisMap,M=k.yAxisMap,I=k.offset,D=j.type.defaultProps||{},F=j.props,q=F.xAxisId,R=q===void 0?D.xAxisId:q,B=F.yAxisId,U=B===void 0?D.yAxisId:B;return O.cloneElement(j,{key:j.key||"".concat(S,"-").concat(N),xAxis:T[R],yAxis:M[U],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),fe(w,"renderActivePoints",function(j){var S=j.item,N=j.activePoint,P=j.basePoint,A=j.childIndex,k=j.isRange,T=[],M=S.props.key,I=S.item.type.defaultProps!==void 0?W(W({},S.item.type.defaultProps),S.item.props):S.item.props,D=I.activeDot,F=I.dataKey,q=W(W({index:A,dataKey:F,cx:N.x,cy:N.y,r:4,fill:hw(S.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},de(D,!1)),ah(D));return T.push(m.renderActiveDot(D,q,"".concat(M,"-activePoint-").concat(A))),P?T.push(m.renderActiveDot(D,W(W({},q),{},{cx:P.x,cy:P.y}),"".concat(M,"-basePoint-").concat(A))):k&&T.push(null),T}),fe(w,"renderGraphicChild",function(j,S,N){var P=w.filterFormatItem(j,S,N);if(!P)return null;var A=w.getTooltipEventType(),k=w.state,T=k.isTooltipActive,M=k.tooltipAxis,I=k.activeTooltipIndex,D=k.activeLabel,F=w.props.children,q=Rr(F,Zr),R=P.props,B=R.points,U=R.isRange,V=R.baseLine,K=P.item.type.defaultProps!==void 0?W(W({},P.item.type.defaultProps),P.item.props):P.item.props,le=K.activeDot,Ne=K.hide,Fe=K.activeBar,st=K.activeShape,Jt=!!(!Ne&&T&&q&&(le||Fe||st)),Vt={};A!=="axis"&&q&&q.props.trigger==="click"?Vt={onClick:nf(w.handleItemMouseEnter,j.props.onClick)}:A!=="axis"&&(Vt={onMouseLeave:nf(w.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:nf(w.handleItemMouseEnter,j.props.onMouseEnter)});var ee=O.cloneElement(j,W(W({},P.props),Vt));function me(z){return typeof M.dataKey=="function"?M.dataKey(z.payload):null}if(Jt)if(I>=0){var ye,H;if(M.dataKey&&!M.allowDuplicatedCategory){var rt=typeof M.dataKey=="function"?me:"payload.".concat(M.dataKey.toString());ye=ih(B,rt,D),H=U&&V&&ih(V,rt,D)}else ye=B==null?void 0:B[I],H=U&&V&&V[I];if(st||Fe){var Se=j.props.activeIndex!==void 0?j.props.activeIndex:I;return[O.cloneElement(j,W(W(W({},P.props),Vt),{},{activeIndex:Se})),null,null]}if(!ge(ye))return[ee].concat(Ol(w.renderActivePoints({item:P,activePoint:ye,basePoint:H,childIndex:I,isRange:U})))}else{var dt,vt=(dt=w.getItemByXY(w.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:ee},Zt=vt.graphicalItem,ei=Zt.item,ti=ei===void 0?j:ei,$=Zt.childIndex,L=W(W(W({},P.props),Vt),{},{activeIndex:$});return[O.cloneElement(ti,L),null,null]}return U?[ee,null,null]:[ee,null]}),fe(w,"renderCustomized",function(j,S,N){return O.cloneElement(j,W(W({key:"recharts-customized-".concat(N)},w.props),w.state))}),fe(w,"renderMap",{CartesianGrid:{handler:cf,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:cf},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:cf},YAxis:{handler:cf},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=g.id)!==null&&b!==void 0?b:Wl("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=CT(w.triggeredAfterMouseMove,(_=g.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return Vce(m,x),Uce(m,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,j=b.height,S=b.layout,N=Rr(_,Zr);if(N){var P=N.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=Q0(this.state,w,P,A),T=this.state.tooltipTicks[P].coordinate,M=(this.state.offset.top+j)/2,I=S==="horizontal",D=I?{x:T,y:M}:{y:T,x:M},F=this.state.formattedGraphicalItems.find(function(R){var B=R.item;return B.type.name==="Scatter"});F&&(D=W(W({},D),F.props.points[P].tooltipPosition),k=F.props.points[P].tooltipPayload);var q={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:k,activeCoordinate:D};this.setState(q),this.renderCursor(N),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(b){Sy([Rr(b.children,Zr)],[Rr(this.props.children,Zr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Rr(this.props.children,Zr);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return o.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),j=KQ(w),S={chartX:Math.round(b.pageX-j.left),chartY:Math.round(b.pageY-j.top)},N=w.width/_.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,N);if(!P)return null;var A=this.state,k=A.xAxisMap,T=A.yAxisMap,M=this.getTooltipEventType(),I=UO(this.state,this.props.data,this.props.layout,P);if(M!=="axis"&&k&&T){var D=Xi(k).scale,F=Xi(T).scale,q=D&&D.invert?D.invert(S.chartX):null,R=F&&F.invert?F.invert(S.chartY):null;return W(W({},S),{},{xValue:q,yValue:R},I)}return I?W(W({},S),I):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,S=b/w,N=_/w;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,A=S>=P.left&&S<=P.left+P.width&&N>=P.top&&N<=P.top+P.height;return A?{x:S,y:N}:null}var k=this.state,T=k.angleAxisMap,M=k.radiusAxisMap;if(T&&M){var I=Xi(T);return fN({x:S,y:N},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=Rr(b,Zr),j={};w&&_==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=ah(this.props,this.handleOuterEvent);return W(W({},S),j)}},{key:"addListener",value:function(){Rg.on(Mg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rg.removeListener(Mg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var j=this.state.formattedGraphicalItems,S=0,N=j.length;S<N;S++){var P=j[S];if(P.item===b||P.props.key===b.key||_===wi(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,j=_.top,S=_.height,N=_.width;return E.createElement("defs",null,E.createElement("clipPath",{id:b},E.createElement("rect",{x:w,y:j,height:S,width:N})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var j=DO(w,2),S=j[0],N=j[1];return W(W({},_),{},fe({},S,N.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var j=DO(w,2),S=j[0],N=j[1];return W(W({},_),{},fe({},S,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,j=_.activeItem;if(w&&w.length)for(var S=0,N=w.length;S<N;S++){var P=w[S],A=P.props,k=P.item,T=k.type.defaultProps!==void 0?W(W({},k.type.defaultProps),k.props):k.props,M=wi(k.type);if(M==="Bar"){var I=(A.data||[]).find(function(R){return Ane(b,R)});if(I)return{graphicalItem:P,payload:I}}else if(M==="RadialBar"){var D=(A.data||[]).find(function(R){return fN(b,R)});if(D)return{graphicalItem:P,payload:D}}else if(fm(P,j)||hm(P,j)||Wu(P,j)){var F=yae({graphicalItem:P,activeTooltipItem:j,itemData:T.data}),q=T.activeIndex===void 0?F:T.activeIndex;return{graphicalItem:W(W({},P),{},{childIndex:q}),payload:Wu(P,j)?T.data[F]:P.props.data[F]}}}return null}},{key:"render",value:function(){var b=this;if(!r1(this))return null;var _=this.props,w=_.children,j=_.className,S=_.width,N=_.height,P=_.style,A=_.compact,k=_.title,T=_.desc,M=FO(_,Rce),I=de(M,!1);if(A)return E.createElement(bO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(Oy,bo({},I,{width:S,height:N,title:k,desc:T}),this.renderClipPath(),i1(w,this.renderMap)));if(this.props.accessibilityLayer){var D,F;I.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,I.role=(F=this.props.role)!==null&&F!==void 0?F:"application",I.onKeyDown=function(R){b.accessibilityManager.keyboardEvent(R)},I.onFocus=function(){b.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return E.createElement(bO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",bo({className:ve("recharts-wrapper",j),style:W({position:"relative",cursor:"default",width:S,height:N},P)},q,{ref:function(B){b.container=B}}),E.createElement(Oy,bo({},I,{width:S,height:N,title:k,desc:T,style:Xce}),this.renderClipPath(),i1(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);fe(v,"displayName",r),fe(v,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),fe(v,"getDerivedStateFromProps",function(x,m){var g=x.dataKey,b=x.data,_=x.children,w=x.width,j=x.height,S=x.layout,N=x.stackOffset,P=x.margin,A=m.dataStartIndex,k=m.dataEndIndex;if(m.updateId===void 0){var T=zO(x);return W(W(W({},T),{},{updateId:0},p(W(W({props:x},T),{},{updateId:0}),m)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:j,prevLayout:S,prevStackOffset:N,prevMargin:P,prevChildren:_})}if(g!==m.prevDataKey||b!==m.prevData||w!==m.prevWidth||j!==m.prevHeight||S!==m.prevLayout||N!==m.prevStackOffset||!Ao(P,m.prevMargin)){var M=zO(x),I={chartX:m.chartX,chartY:m.chartY,isTooltipActive:m.isTooltipActive},D=W(W({},UO(m,b,S)),{},{updateId:m.updateId+1}),F=W(W(W({},M),I),D);return W(W(W({},F),p(W({props:x},F),m)),{},{prevDataKey:g,prevData:b,prevWidth:w,prevHeight:j,prevLayout:S,prevStackOffset:N,prevMargin:P,prevChildren:_})}if(!Sy(_,m.prevChildren)){var q,R,B,U,V=Rr(_,gl),K=V&&(q=(R=V.props)===null||R===void 0?void 0:R.startIndex)!==null&&q!==void 0?q:A,le=V&&(B=(U=V.props)===null||U===void 0?void 0:U.endIndex)!==null&&B!==void 0?B:k,Ne=K!==A||le!==k,Fe=!ge(b),st=Fe&&!Ne?m.updateId:m.updateId+1;return W(W({updateId:st},p(W(W({props:x},m),{},{updateId:st,dataStartIndex:K,dataEndIndex:le}),m)),{},{prevChildren:_,dataStartIndex:K,dataEndIndex:le})}return null}),fe(v,"renderActiveDot",function(x,m,g){var b;return O.isValidElement(x)?b=O.cloneElement(x,m):pe(x)?b=x(m):b=E.createElement(om,m),E.createElement(Ee,{className:"recharts-active-dot",key:g},b)});var y=O.forwardRef(function(m,g){return E.createElement(v,bo({},m,{ref:g}))});return y.displayName=v.displayName,y},oue=Nw({chartName:"LineChart",GraphicalChild:xs,axisComponents:[{axisType:"xAxis",AxisComp:Xl},{axisType:"yAxis",AxisComp:Jl}],formatAxisMap:_$}),lue=Nw({chartName:"BarChart",GraphicalChild:Na,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xl},{axisType:"yAxis",AxisComp:Jl}],formatAxisMap:_$}),cue=Nw({chartName:"PieChart",GraphicalChild:Li,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dm},{axisType:"radiusAxis",AxisComp:cm}],formatAxisMap:Wee,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function uue({singles:e,doubles:t}){const r=[{name:"Singles",value:e,color:"#3b82f6"},{name:"Doubles",value:t,color:"#8b5cf6"}],n=e+t;if(n===0)return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(ln,{className:"h-5 w-5 text-blue-500"}),"Match Type Distribution"]})}),l.jsx(Te,{children:l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No matches recorded yet"})})]});const i=({active:a,payload:s})=>{if(a&&s&&s.length){const o=s[0],c=(o.value/n*100).toFixed(1);return l.jsxs("div",{className:"bg-card border rounded-lg p-3 shadow-lg",children:[l.jsx("p",{className:"font-medium",children:o.name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.value," matches (",c,"%)"]})]})}return null};return l.jsxs(Ae,{className:"transition-all duration-300 hover:shadow-lg",children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(ln,{className:"h-5 w-5 text-blue-500"}),"Match Type Distribution"]})}),l.jsx(Te,{children:l.jsx(zb,{width:"100%",height:300,children:l.jsxs(cue,{children:[l.jsx(Li,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",animationBegin:0,animationDuration:800,children:r.map((a,s)=>l.jsx(Qp,{fill:a.color,className:"transition-all duration-300 hover:opacity-80"},`cell-${s}`))}),l.jsx(Zr,{content:l.jsx(i,{})}),l.jsx(_i,{verticalAlign:"bottom",height:36,formatter:(a,s)=>{const o=(s.payload.value/n*100).toFixed(1);return`${a}: ${s.payload.value} (${o}%)`}})]})})})]})}const qO={Hard:"#3b82f6",Clay:"#f97316",Grass:"#22c55e",Carpet:"#8b5cf6",Unknown:"#6b7280"};function due({matchesBySurface:e}){const t=Object.entries(e).map(([n,i])=>({surface:n,total:i.total,wins:i.wins,losses:i.losses,winRate:i.winRate,color:qO[n]||qO.Unknown}));if(t.length===0)return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(el,{className:"h-5 w-5 text-orange-500"}),"Surface Performance"]})}),l.jsx(Te,{children:l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No surface data available"})})]});const r=({active:n,payload:i})=>{if(n&&i&&i.length){const a=i[0].payload;return l.jsxs("div",{className:"bg-card border rounded-lg p-3 shadow-lg",children:[l.jsx("p",{className:"font-medium mb-1",children:a.surface}),l.jsxs("p",{className:"text-sm text-green-600",children:["Wins: ",a.wins]}),l.jsxs("p",{className:"text-sm text-red-600",children:["Losses: ",a.losses]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Win Rate: ",a.winRate.toFixed(1),"%"]})]})}return null};return l.jsxs(Ae,{className:"transition-all duration-300 hover:shadow-lg",children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(el,{className:"h-5 w-5 text-orange-500"}),"Surface Performance"]})}),l.jsxs(Te,{children:[l.jsx(zb,{width:"100%",height:300,children:l.jsxs(lue,{data:t,children:[l.jsx(Sw,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Xl,{dataKey:"surface",className:"text-xs",tick:{fontSize:12}}),l.jsx(Jl,{className:"text-xs",tick:{fontSize:12},label:{value:"Matches",angle:-90,position:"insideLeft",fontSize:12}}),l.jsx(Zr,{content:l.jsx(r,{})}),l.jsx(_i,{formatter:n=>n==="wins"?"Wins":n==="losses"?"Losses":n}),l.jsx(Na,{dataKey:"wins",stackId:"a",fill:"#10b981",radius:[0,0,0,0],animationBegin:0,animationDuration:800}),l.jsx(Na,{dataKey:"losses",stackId:"a",fill:"#ef4444",radius:[4,4,0,0],animationBegin:0,animationDuration:800})]})}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-4",children:t.map(n=>l.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-accent/50",children:[l.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n.color}}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-xs font-medium truncate",children:n.surface}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[n.winRate.toFixed(0),"% wins"]})]})]},n.surface))})]})]})}const VO={sm:"w-10 h-10",md:"w-16 h-16",lg:"w-24 h-24",xl:"w-32 h-32"},fue={sm:"w-5 h-5",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};function Pl({url:e,alt:t,size:r="md",className:n=""}){const[i,a]=O.useState(!1);return!e||i?l.jsx("div",{className:`${VO[r]} ${n} rounded-full bg-[#a3cf08] flex items-center justify-center shadow-md`,children:l.jsx(db,{className:`${fue[r]} text-white`})}):l.jsx("img",{src:e,alt:t,className:`${VO[r]} ${n} rounded-full object-cover shadow-md border-2 border-white`,onError:()=>a(!0)})}function hue({topPlayers:e}){return e.length===0?l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(Kn,{className:"h-5 w-5 text-yellow-500"}),"Top Players"]})}),l.jsx(Te,{children:l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No players with 3+ matches yet"})})]}):l.jsxs(Ae,{className:"transition-all duration-300 hover:shadow-lg",children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(Kn,{className:"h-5 w-5 text-yellow-500"}),"Top Players"]})}),l.jsxs(Te,{children:[l.jsx("div",{className:"space-y-3",children:e.map((t,r)=>l.jsx(gt,{to:`/dashboard/players/${t.player_id}`,className:"block group",children:l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-accent transition-colors",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 text-white font-bold text-sm flex-shrink-0",children:r+1}),l.jsx(Pl,{url:t.avatar_url,alt:t.full_name,size:"sm"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate group-hover:text-primary transition-colors",children:t.full_name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.totalMatches," matches"]})]}),l.jsxs("div",{className:"text-right flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-sm mb-1",children:[l.jsx("span",{className:"text-green-600 font-medium",children:t.wins}),l.jsx("span",{className:"text-gray-400",children:"-"}),l.jsx("span",{className:"text-red-600 font-medium",children:t.losses})]}),l.jsxs("div",{className:"text-xs font-medium text-primary",children:[t.winRate.toFixed(1),"% wins"]})]})]})},t.player_id))}),l.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"Top 5 players with 3+ matches"})})]})]})}function pue({recentMatches:e}){if(e.length===0)return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(ay,{className:"h-5 w-5 text-indigo-500"}),"Recent Activity"]})}),l.jsx(Te,{children:l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No recent activity"})})]});const t=n=>n.format==="doubles"?l.jsx(ln,{className:"h-4 w-4"}):l.jsx(Ns,{className:"h-4 w-4"}),r=n=>n==="win"?"text-green-600 bg-green-50":n==="loss"?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50";return l.jsxs(Ae,{className:"transition-all duration-300 hover:shadow-lg",children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(ay,{className:"h-5 w-5 text-indigo-500"}),"Recent Activity"]})}),l.jsxs(Te,{children:[l.jsx("div",{className:"space-y-3",children:e.slice(0,10).map((n,i)=>{var d,f,h;const a=((d=n.match_players)==null?void 0:d.filter(p=>p.side==="A"))||[],s=((f=n.match_players)==null?void 0:f.filter(p=>p.side==="B"))||[],o=a.map(p=>{var v;return((v=p.players)==null?void 0:v.full_name)||p.display_name}).join(" & "),c=s.map(p=>{var v;return((v=p.players)==null?void 0:v.full_name)||p.display_name}).join(" & "),u=n.final_result==="win";return l.jsx(gt,{to:`/dashboard/matches/${n.match_id}`,className:"block group",children:l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-accent transition-colors",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:`p-2 rounded-full ${u?"bg-green-100":"bg-red-100"}`,children:t(n)}),i<e.length-1&&l.jsx("div",{className:"w-0.5 h-full bg-border mt-2"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium group-hover:text-primary transition-colors",children:[l.jsx("span",{className:u?"font-bold":"",children:o||"Unknown"}),l.jsx("span",{className:"text-muted-foreground mx-1 font-normal",children:"vs"}),l.jsx("span",{className:u?"":"font-bold",children:c||"Unknown"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[l.jsx(Ns,{className:"h-3 w-3"}),l.jsx("span",{children:n.match_date?new Date(n.match_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No Date"}),n.surface&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx("span",{className:"capitalize",children:n.surface})]}),n.format==="doubles"&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx("span",{children:"Doubles"})]})]})]}),l.jsx("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${r(n.final_result)}`,children:((h=n.final_result)==null?void 0:h.toUpperCase())||"N/A"})]}),n.score_line&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n.score_line})]})]})},n.match_id)})}),e.length>10&&l.jsx("div",{className:"mt-4 pt-4 border-t text-center",children:l.jsx(gt,{to:"/dashboard/matches",className:"text-sm text-primary hover:underline font-medium",children:"View all matches "})})]})]})}function mue(){const{data:e,isLoading:t,error:r}=O6();return t?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})}):r?l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-red-600 font-medium mb-2",children:"Error loading dashboard"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Please try refreshing the page"})]})}):e?l.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-[#132d24] via-[#1a4030] to-[#a3cf08] p-8 text-white shadow-2xl",children:[l.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,rgba(255,255,255,0.5))]"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:l.jsx(QA,{className:"h-8 w-8"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Dashboard"}),l.jsx("p",{className:"text-[#a3cf08] mt-1 font-medium",children:"Tennis Performance Analytics"})]})]}),l.jsx("p",{className:"text-white/90 max-w-2xl",children:"Track your progress, analyze your performance, and discover insights to improve your game."})]})]}),l.jsx(k6,{totalPlayers:e.totalPlayers,totalMatches:e.totalMatches,winRate:e.winRate,newPlayersThisMonth:e.newPlayersThisMonth}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(uue,{singles:e.matchesByType.singles,doubles:e.matchesByType.doubles}),l.jsx(due,{matchesBySurface:e.matchesBySurface})]}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsx(hue,{topPlayers:e.topPlayers}),l.jsx(pue,{recentMatches:e.recentMatches})]}),l.jsx("div",{className:"text-center text-sm text-muted-foreground pb-8",children:l.jsx("p",{children:"Data updates in real-time as you add matches and players"})})]}):null}function bm(){const e=Xn();return $n({queryKey:["players",e],queryFn:async()=>{if(!e)throw new Error("No team membership found");const{data:t,error:r}=await Y.from("players").select("*").eq("team_id",e).order("full_name");if(r)throw r;return t},enabled:!!e})}function gue(e){const t=Xn();return $n({queryKey:["players",e,t],queryFn:async()=>{if(!t)throw new Error("No team membership found");const{data:r,error:n}=await Y.from("players").select("*").eq("player_id",e).eq("team_id",t).single();if(n)throw n;return r},enabled:!!e&&!!t})}function vue(){const e=Xt();return Wt({mutationFn:async t=>{const{data:{user:r}}=await Y.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:n,error:i}=await Y.from("team_members").select("team_id").eq("user_id",r.id).eq("status","approved").single();if(i||!n)throw new Error("No approved team membership found");const a={...t,team_id:n.team_id},{data:s,error:o}=await Y.from("players").insert(a).select().single();if(o)throw o;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["players"]})}})}function yue(){const e=Xt();return Wt({mutationFn:async({id:t,updates:r})=>{const{data:{user:n}}=await Y.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:i}=await Y.from("team_members").select("team_id").eq("user_id",n.id).eq("status","approved").single();if(!i)throw new Error("No approved team membership found");const{data:a,error:s}=await Y.from("players").update(r).eq("player_id",t).eq("team_id",i.team_id).select().single();if(s)throw s;return a},onSuccess:t=>{e.invalidateQueries({queryKey:["players"]}),e.invalidateQueries({queryKey:["players",t.player_id]})}})}function HO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xue(...e){return t=>{let r=!1;const n=e.map(i=>{const a=HO(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():HO(e[i],null)}}}}var bue=Symbol.for("react.lazy"),ap=CP[" use ".trim().toString()];function wue(e){return typeof e=="object"&&e!==null&&"then"in e}function iR(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===bue&&"_payload"in e&&wue(e._payload)}function _ue(e){const t=Sue(e),r=O.forwardRef((n,i)=>{let{children:a,...s}=n;iR(a)&&typeof ap=="function"&&(a=ap(a._payload));const o=O.Children.toArray(a),c=o.find(Oue);if(c){const u=c.props.children,d=o.map(f=>f===c?O.Children.count(u)>1?O.Children.only(null):O.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:O.isValidElement(u)?O.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var jue=_ue("Slot");function Sue(e){const t=O.forwardRef((r,n)=>{let{children:i,...a}=r;if(iR(i)&&typeof ap=="function"&&(i=ap(i._payload)),O.isValidElement(i)){const s=Eue(i),o=Pue(a,i.props);return i.type!==O.Fragment&&(o.ref=n?xue(n,s):s),O.cloneElement(i,o)}return O.Children.count(i)>1?O.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nue=Symbol("radix.slottable");function Oue(e){return O.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nue}function Pue(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Eue(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const KO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GO=ve,aR=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return GO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=KO(d)||KO(f);return i[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[y,x]=v;return Array.isArray(x)?x.includes({...a,...o}[y]):{...a,...o}[y]===x})?[...u,f,h]:u},[]);return GO(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)},kue=aR("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),we=O.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const s=n?jue:"button";return l.jsx(s,{className:bt(kue({variant:t,size:r,className:e})),ref:a,...i})});we.displayName="Button";const Z=O.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:bt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Z.displayName="Input";const Ow=O.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:bt("w-full caption-bottom text-sm",e),...t})}));Ow.displayName="Table";const Pw=O.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:bt("[&_tr]:border-b",e),...t}));Pw.displayName="TableHeader";const Ew=O.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:bt("[&_tr:last-child]:border-0",e),...t}));Ew.displayName="TableBody";const Aue=O.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:bt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Aue.displayName="TableFooter";const xi=O.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:bt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));xi.displayName="TableRow";const Dt=O.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:bt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Dt.displayName="TableHead";const ht=O.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:bt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ht.displayName="TableCell";const Tue=O.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:bt("mt-4 text-sm text-muted-foreground",e),...t}));Tue.displayName="TableCaption";function Cue({players:e,isLoading:t,onEdit:r}){return l.jsx("div",{className:"rounded-md border bg-white",children:l.jsxs(Ow,{children:[l.jsx(Pw,{children:l.jsxs(xi,{children:[l.jsx(Dt,{children:"Avatar"}),l.jsx(Dt,{children:"Name"}),l.jsx(Dt,{children:"Gender"}),l.jsx(Dt,{children:"Level"}),l.jsx(Dt,{children:"Dominant Hand"}),l.jsx(Dt,{children:"Backhand"}),l.jsx(Dt,{className:"text-right",children:"Actions"})]})}),l.jsx(Ew,{children:t?l.jsx(xi,{children:l.jsx(ht,{colSpan:7,className:"text-center h-24",children:"Loading..."})}):(e==null?void 0:e.length)===0?l.jsx(xi,{children:l.jsx(ht,{colSpan:7,className:"text-center h-24",children:"No players found."})}):e==null?void 0:e.map(n=>l.jsxs(xi,{children:[l.jsx(ht,{children:l.jsx(Pl,{url:n.avatar_url,alt:n.full_name,size:"sm"})}),l.jsx(ht,{className:"font-medium",children:n.full_name}),l.jsx(ht,{className:"capitalize",children:n.gender||"-"}),l.jsx(ht,{children:n.level||"-"}),l.jsx(ht,{className:"capitalize",children:n.dominant_hand||"-"}),l.jsx(ht,{className:"capitalize",children:n.backhand_type||"-"}),l.jsxs(ht,{className:"text-right space-x-2",children:[l.jsx(we,{variant:"outline",size:"sm",onClick:()=>r(n),children:"Edit"}),l.jsx(gt,{to:`/dashboard/players/${n.player_id}`,children:l.jsx(we,{variant:"ghost",size:"sm",children:"View"})})]})]},n.player_id))})]})})}var yd=e=>e.type==="checkbox",as=e=>e instanceof Date,wr=e=>e==null;const sR=e=>typeof e=="object";var Pt=e=>!wr(e)&&!Array.isArray(e)&&sR(e)&&!as(e),$ue=e=>Pt(e)&&e.target?yd(e.target)?e.target.checked:e.target.value:e,Rue=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Mue=(e,t)=>e.has(Rue(t)),Iue=e=>{const t=e.constructor&&e.constructor.prototype;return Pt(t)&&t.hasOwnProperty("isPrototypeOf")},kw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(kw&&(e instanceof Blob||n))&&(r||Pt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!Iue(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=nt(e[i]));else return e;return t}var wm=e=>/^\w*$/.test(e),et=e=>e===void 0,_m=e=>Array.isArray(e)?e.filter(Boolean):[],Aw=e=>_m(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ne=(e,t,r)=>{if(!t||!Pt(e))return r;const n=(wm(t)?[t]:Aw(t)).reduce((i,a)=>wr(i)?i:i[a],e);return et(n)||n===e?et(e[t])?r:e[t]:n},Ln=e=>typeof e=="boolean",We=(e,t,r)=>{let n=-1;const i=wm(t)?[t]:Aw(t),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let c=r;if(n!==s){const u=e[o];c=Pt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const QO={BLUR:"blur",FOCUS_OUT:"focusout"},nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oR=E.createContext(null);oR.displayName="HookFormContext";const Lue=()=>E.useContext(oR);var Due=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==nn.all&&(t._proxyFormState[s]=!n||nn.all),e[s]}});return i};const lR=typeof window<"u"?E.useLayoutEffect:E.useEffect;var Fr=e=>typeof e=="string",Fue=(e,t,r,n,i)=>Fr(e)?(n&&t.watch.add(e),ne(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),ne(r,a))):(n&&(t.watchAll=!0),r),Y0=e=>wr(e)||!sR(e);function Ji(e,t,r=new WeakSet){if(Y0(e)||Y0(t))return Object.is(e,t);if(as(e)&&as(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const s=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=t[a];if(as(s)&&as(o)||Pt(s)&&Pt(o)||Array.isArray(s)&&Array.isArray(o)?!Ji(s,o,r):!Object.is(s,o))return!1}}return!0}var Bue=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Nr=e=>Array.isArray(e)?e:[e],YO=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function cR(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],a=t[n];if(i&&Pt(i)&&a){const s=cR(i,a);Pt(s)&&(r[n]=s)}else e[n]&&(r[n]=a)}return r}var nr=e=>Pt(e)&&!Object.keys(e).length,Tw=e=>e.type==="file",En=e=>typeof e=="function",sp=e=>{if(!kw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},uR=e=>e.type==="select-multiple",Cw=e=>e.type==="radio",Uue=e=>Cw(e)||yd(e),Lg=e=>sp(e)&&e.isConnected;function zue(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=et(e)?n++:e[t[n++]];return e}function Wue(e){for(const t in e)if(e.hasOwnProperty(t)&&!et(e[t]))return!1;return!0}function yt(e,t){const r=Array.isArray(t)?t:wm(t)?[t]:Aw(t),n=r.length===1?e:zue(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Pt(n)&&nr(n)||Array.isArray(n)&&Wue(n))&&yt(e,r.slice(0,-1)),e}var que=e=>{for(const t in e)if(En(e[t]))return!0;return!1};function dR(e){return Array.isArray(e)||Pt(e)&&!que(e)}function X0(e,t={}){for(const r in e){const n=e[r];dR(n)?(t[r]=Array.isArray(n)?[]:{},X0(n,t[r])):et(n)||(t[r]=!0)}return t}function ro(e,t,r){r||(r=X0(t));for(const n in e){const i=e[n];if(dR(i))et(t)||Y0(r[n])?r[n]=X0(i,Array.isArray(i)?[]:{}):ro(i,wr(t)?{}:t[n],r[n]);else{const a=t[n];r[n]=!Ji(i,a)}}return r}const XO={value:!1,isValid:!1},JO={value:!0,isValid:!0};var fR=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!et(e[0].attributes.value)?et(e[0].value)||e[0].value===""?JO:{value:e[0].value,isValid:!0}:JO:XO}return XO},hR=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>et(e)?e:t?e===""?NaN:e&&+e:r&&Fr(e)?new Date(e):n?n(e):e;const ZO={isValid:!1,value:null};var pR=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ZO):ZO;function eP(e){const t=e.ref;return Tw(t)?t.files:Cw(t)?pR(e.refs).value:uR(t)?[...t.selectedOptions].map(({value:r})=>r):yd(t)?fR(e.refs).value:hR(et(t.value)?e.ref.value:t.value,e)}var Vue=(e,t,r,n)=>{const i={};for(const a of e){const s=ne(t,a);s&&We(i,a,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},op=e=>e instanceof RegExp,xc=e=>et(e)?e:op(e)?e.source:Pt(e)?op(e.value)?e.value.source:e.value:e,wo=e=>({isOnSubmit:!e||e===nn.onSubmit,isOnBlur:e===nn.onBlur,isOnChange:e===nn.onChange,isOnAll:e===nn.all,isOnTouch:e===nn.onTouched});const tP="AsyncFunction";var Hue=e=>!!e&&!!e.validate&&!!(En(e.validate)&&e.validate.constructor.name===tP||Pt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===tP)),Kue=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),J0=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const $o=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=ne(e,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if($o(o,t))break}else if(Pt(o)&&$o(o,t))break}}};function rP(e,t,r){const n=ne(e,r);if(n||wm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=ne(t,a),o=ne(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var Gue=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return nr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!n||nn.all))},Que=(e,t,r)=>!e||!t||e===t||Nr(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Yue=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Xue=(e,t)=>!_m(ne(e,t)).length&&yt(e,t),mR=(e,t,r)=>{const n=Nr(ne(e,r));return We(n,"root",t[r]),We(e,r,n),e};function nP(e,t,r="validate"){if(Fr(e)||Array.isArray(e)&&e.every(Fr)||Ln(e)&&!e)return{type:r,message:Fr(e)?e:"",ref:t}}var Zs=e=>Pt(e)&&!op(e)?e:{value:e,message:""},Z0=async(e,t,r,n,i,a)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:y,valueAsNumber:x,mount:m}=e._f,g=ne(r,y);if(!m||t.has(y))return{};const b=o?o[0]:s,_=T=>{i&&b.reportValidity&&(b.setCustomValidity(Ln(T)?"":T||""),b.reportValidity())},w={},j=Cw(s),S=yd(s),N=j||S,P=(x||Tw(s))&&et(s.value)&&et(g)||sp(s)&&s.value===""||g===""||Array.isArray(g)&&!g.length,A=Bue.bind(null,y,n,w),k=(T,M,I,D=ii.maxLength,F=ii.minLength)=>{const q=T?M:I;w[y]={type:T?D:F,message:q,ref:s,...A(T?D:F,q)}};if(a?!Array.isArray(g)||!g.length:c&&(!N&&(P||wr(g))||Ln(g)&&!g||S&&!fR(o).isValid||j&&!pR(o).isValid)){const{value:T,message:M}=Fr(c)?{value:!!c,message:c}:Zs(c);if(T&&(w[y]={type:ii.required,message:M,ref:b,...A(ii.required,M)},!n))return _(M),w}if(!P&&(!wr(f)||!wr(h))){let T,M;const I=Zs(h),D=Zs(f);if(!wr(g)&&!isNaN(g)){const F=s.valueAsNumber||g&&+g;wr(I.value)||(T=F>I.value),wr(D.value)||(M=F<D.value)}else{const F=s.valueAsDate||new Date(g),q=U=>new Date(new Date().toDateString()+" "+U),R=s.type=="time",B=s.type=="week";Fr(I.value)&&g&&(T=R?q(g)>q(I.value):B?g>I.value:F>new Date(I.value)),Fr(D.value)&&g&&(M=R?q(g)<q(D.value):B?g<D.value:F<new Date(D.value))}if((T||M)&&(k(!!T,I.message,D.message,ii.max,ii.min),!n))return _(w[y].message),w}if((u||d)&&!P&&(Fr(g)||a&&Array.isArray(g))){const T=Zs(u),M=Zs(d),I=!wr(T.value)&&g.length>+T.value,D=!wr(M.value)&&g.length<+M.value;if((I||D)&&(k(I,T.message,M.message),!n))return _(w[y].message),w}if(p&&!P&&Fr(g)){const{value:T,message:M}=Zs(p);if(op(T)&&!g.match(T)&&(w[y]={type:ii.pattern,message:M,ref:s,...A(ii.pattern,M)},!n))return _(M),w}if(v){if(En(v)){const T=await v(g,r),M=nP(T,b);if(M&&(w[y]={...M,...A(ii.validate,M.message)},!n))return _(M.message),w}else if(Pt(v)){let T={};for(const M in v){if(!nr(T)&&!n)break;const I=nP(await v[M](g,r),b,M);I&&(T={...I,...A(M,I.message)},_(I.message),n&&(w[y]=T))}if(!nr(T)&&(w[y]={ref:b,...T},!n))return w}}return _(!0),w};const Jue={mode:nn.onSubmit,reValidateMode:nn.onChange,shouldFocusError:!0};function Zue(e={}){let t={...Jue,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:En(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Pt(t.defaultValues)||Pt(t.values)?nt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:nt(i),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:YO(),state:YO()},p=t.criteriaMode===nn.all,v=$=>L=>{clearTimeout(u),u=setTimeout($,L)},y=async $=>{if(!t.disabled&&(d.isValid||f.isValid||$)){const L=t.resolver?nr((await S()).errors):await P(n,!0);L!==r.isValid&&h.state.next({isValid:L})}},x=($,L)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(z=>{z&&(L?We(r.validatingFields,z,L):yt(r.validatingFields,z))}),h.state.next({validatingFields:r.validatingFields,isValidating:!nr(r.validatingFields)}))},m=($,L=[],z,te,J=!0,Q=!0)=>{if(te&&z&&!t.disabled){if(s.action=!0,Q&&Array.isArray(ne(n,$))){const ue=z(ne(n,$),te.argA,te.argB);J&&We(n,$,ue)}if(Q&&Array.isArray(ne(r.errors,$))){const ue=z(ne(r.errors,$),te.argA,te.argB);J&&We(r.errors,$,ue),Xue(r.errors,$)}if((d.touchedFields||f.touchedFields)&&Q&&Array.isArray(ne(r.touchedFields,$))){const ue=z(ne(r.touchedFields,$),te.argA,te.argB);J&&We(r.touchedFields,$,ue)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ro(i,a)),h.state.next({name:$,isDirty:k($,L),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else We(a,$,L)},g=($,L)=>{We(r.errors,$,L),h.state.next({errors:r.errors})},b=$=>{r.errors=$,h.state.next({errors:r.errors,isValid:!1})},_=($,L,z,te)=>{const J=ne(n,$);if(J){const Q=ne(a,$,et(z)?ne(i,$):z);et(Q)||te&&te.defaultChecked||L?We(a,$,L?Q:eP(J._f)):I($,Q),s.mount&&!s.action&&y()}},w=($,L,z,te,J)=>{let Q=!1,ue=!1;const Re={name:$};if(!t.disabled){if(!z||te){(d.isDirty||f.isDirty)&&(ue=r.isDirty,r.isDirty=Re.isDirty=k(),Q=ue!==Re.isDirty);const Ue=Ji(ne(i,$),L);ue=!!ne(r.dirtyFields,$),Ue?yt(r.dirtyFields,$):We(r.dirtyFields,$,!0),Re.dirtyFields=r.dirtyFields,Q=Q||(d.dirtyFields||f.dirtyFields)&&ue!==!Ue}if(z){const Ue=ne(r.touchedFields,$);Ue||(We(r.touchedFields,$,z),Re.touchedFields=r.touchedFields,Q=Q||(d.touchedFields||f.touchedFields)&&Ue!==z)}Q&&J&&h.state.next(Re)}return Q?Re:{}},j=($,L,z,te)=>{const J=ne(r.errors,$),Q=(d.isValid||f.isValid)&&Ln(L)&&r.isValid!==L;if(t.delayError&&z?(c=v(()=>g($,z)),c(t.delayError)):(clearTimeout(u),c=null,z?We(r.errors,$,z):yt(r.errors,$)),(z?!Ji(J,z):J)||!nr(te)||Q){const ue={...te,...Q&&Ln(L)?{isValid:L}:{},errors:r.errors,name:$};r={...r,...ue},h.state.next(ue)}},S=async $=>{x($,!0);const L=await t.resolver(a,t.context,Vue($||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x($),L},N=async $=>{const{errors:L}=await S($);if($)for(const z of $){const te=ne(L,z);te?We(r.errors,z,te):yt(r.errors,z)}else r.errors=L;return L},P=async($,L,z={valid:!0})=>{for(const te in $){const J=$[te];if(J){const{_f:Q,...ue}=J;if(Q){const Re=o.array.has(Q.name),Ue=J._f&&Hue(J._f);Ue&&d.validatingFields&&x([Q.name],!0);const Kr=await Z0(J,o.disabled,a,p,t.shouldUseNativeValidation&&!L,Re);if(Ue&&d.validatingFields&&x([Q.name]),Kr[Q.name]&&(z.valid=!1,L))break;!L&&(ne(Kr,Q.name)?Re?mR(r.errors,Kr,Q.name):We(r.errors,Q.name,Kr[Q.name]):yt(r.errors,Q.name))}!nr(ue)&&await P(ue,L,z)}}return z.valid},A=()=>{for(const $ of o.unMount){const L=ne(n,$);L&&(L._f.refs?L._f.refs.every(z=>!Lg(z)):!Lg(L._f.ref))&&Jt($)}o.unMount=new Set},k=($,L)=>!t.disabled&&($&&L&&We(a,$,L),!Ji(U(),i)),T=($,L,z)=>Fue($,o,{...s.mount?a:et(L)?i:Fr($)?{[$]:L}:L},z,L),M=$=>_m(ne(s.mount?a:i,$,t.shouldUnregister?ne(i,$,[]):[])),I=($,L,z={})=>{const te=ne(n,$);let J=L;if(te){const Q=te._f;Q&&(!Q.disabled&&We(a,$,hR(L,Q)),J=sp(Q.ref)&&wr(L)?"":L,uR(Q.ref)?[...Q.ref.options].forEach(ue=>ue.selected=J.includes(ue.value)):Q.refs?yd(Q.ref)?Q.refs.forEach(ue=>{(!ue.defaultChecked||!ue.disabled)&&(Array.isArray(J)?ue.checked=!!J.find(Re=>Re===ue.value):ue.checked=J===ue.value||!!J)}):Q.refs.forEach(ue=>ue.checked=ue.value===J):Tw(Q.ref)?Q.ref.value="":(Q.ref.value=J,Q.ref.type||h.state.next({name:$,values:nt(a)})))}(z.shouldDirty||z.shouldTouch)&&w($,J,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&B($)},D=($,L,z)=>{for(const te in L){if(!L.hasOwnProperty(te))return;const J=L[te],Q=$+"."+te,ue=ne(n,Q);(o.array.has($)||Pt(J)||ue&&!ue._f)&&!as(J)?D(Q,J,z):I(Q,J,z)}},F=($,L,z={})=>{const te=ne(n,$),J=o.array.has($),Q=nt(L);We(a,$,Q),J?(h.array.next({name:$,values:nt(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&z.shouldDirty&&h.state.next({name:$,dirtyFields:ro(i,a),isDirty:k($,Q)})):te&&!te._f&&!wr(Q)?D($,Q,z):I($,Q,z),J0($,o)&&h.state.next({...r,name:$}),h.state.next({name:s.mount?$:void 0,values:nt(a)})},q=async $=>{s.mount=!0;const L=$.target;let z=L.name,te=!0;const J=ne(n,z),Q=Ue=>{te=Number.isNaN(Ue)||as(Ue)&&isNaN(Ue.getTime())||Ji(Ue,ne(a,z,Ue))},ue=wo(t.mode),Re=wo(t.reValidateMode);if(J){let Ue,Kr;const xd=L.type?eP(J._f):$ue($),Di=$.type===QO.BLUR||$.type===QO.FOCUS_OUT,yR=!Kue(J._f)&&!t.resolver&&!ne(r.errors,z)&&!J._f.deps||Yue(Di,ne(r.touchedFields,z),r.isSubmitted,Re,ue),jm=J0(z,o,Di);We(a,z,xd),Di?(!L||!L.readOnly)&&(J._f.onBlur&&J._f.onBlur($),c&&c(0)):J._f.onChange&&J._f.onChange($);const Sm=w(z,xd,Di),xR=!nr(Sm)||jm;if(!Di&&h.state.next({name:z,type:$.type,values:nt(a)}),yR)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Di&&y():Di||y()),xR&&h.state.next({name:z,...jm?{}:Sm});if(!Di&&jm&&h.state.next({...r}),t.resolver){const{errors:Mw}=await S([z]);if(Q(xd),te){const bR=rP(r.errors,n,z),Iw=rP(Mw,n,bR.name||z);Ue=Iw.error,z=Iw.name,Kr=nr(Mw)}}else x([z],!0),Ue=(await Z0(J,o.disabled,a,p,t.shouldUseNativeValidation))[z],x([z]),Q(xd),te&&(Ue?Kr=!1:(d.isValid||f.isValid)&&(Kr=await P(n,!0)));te&&(J._f.deps&&(!Array.isArray(J._f.deps)||J._f.deps.length>0)&&B(J._f.deps),j(z,Kr,Ue,Sm))}},R=($,L)=>{if(ne(r.errors,L)&&$.focus)return $.focus(),1},B=async($,L={})=>{let z,te;const J=Nr($);if(t.resolver){const Q=await N(et($)?$:J);z=nr(Q),te=$?!J.some(ue=>ne(Q,ue)):z}else $?(te=(await Promise.all(J.map(async Q=>{const ue=ne(n,Q);return await P(ue&&ue._f?{[Q]:ue}:ue)}))).every(Boolean),!(!te&&!r.isValid)&&y()):te=z=await P(n);return h.state.next({...!Fr($)||(d.isValid||f.isValid)&&z!==r.isValid?{}:{name:$},...t.resolver||!$?{isValid:z}:{},errors:r.errors}),L.shouldFocus&&!te&&$o(n,R,$?J:o.mount),te},U=($,L)=>{let z={...s.mount?a:i};return L&&(z=cR(L.dirtyFields?r.dirtyFields:r.touchedFields,z)),et($)?z:Fr($)?ne(z,$):$.map(te=>ne(z,te))},V=($,L)=>({invalid:!!ne((L||r).errors,$),isDirty:!!ne((L||r).dirtyFields,$),error:ne((L||r).errors,$),isValidating:!!ne(r.validatingFields,$),isTouched:!!ne((L||r).touchedFields,$)}),K=$=>{$&&Nr($).forEach(L=>yt(r.errors,L)),h.state.next({errors:$?r.errors:{}})},le=($,L,z)=>{const te=(ne(n,$,{_f:{}})._f||{}).ref,J=ne(r.errors,$)||{},{ref:Q,message:ue,type:Re,...Ue}=J;We(r.errors,$,{...Ue,...L,ref:te}),h.state.next({name:$,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&te&&te.focus&&te.focus()},Ne=($,L)=>En($)?h.state.subscribe({next:z=>"values"in z&&$(T(void 0,L),z)}):T($,L,!0),Fe=$=>h.state.subscribe({next:L=>{Que($.name,L.name,$.exact)&&Gue(L,$.formState||d,Zt,$.reRenderRoot)&&$.callback({values:{...a},...r,...L,defaultValues:i})}}).unsubscribe,st=$=>(s.mount=!0,f={...f,...$.formState},Fe({...$,formState:f})),Jt=($,L={})=>{for(const z of $?Nr($):o.mount)o.mount.delete(z),o.array.delete(z),L.keepValue||(yt(n,z),yt(a,z)),!L.keepError&&yt(r.errors,z),!L.keepDirty&&yt(r.dirtyFields,z),!L.keepTouched&&yt(r.touchedFields,z),!L.keepIsValidating&&yt(r.validatingFields,z),!t.shouldUnregister&&!L.keepDefaultValue&&yt(i,z);h.state.next({values:nt(a)}),h.state.next({...r,...L.keepDirty?{isDirty:k()}:{}}),!L.keepIsValid&&y()},Vt=({disabled:$,name:L})=>{(Ln($)&&s.mount||$||o.disabled.has(L))&&($?o.disabled.add(L):o.disabled.delete(L))},ee=($,L={})=>{let z=ne(n,$);const te=Ln(L.disabled)||Ln(t.disabled);return We(n,$,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:$}},name:$,mount:!0,...L}}),o.mount.add($),z?Vt({disabled:Ln(L.disabled)?L.disabled:t.disabled,name:$}):_($,!0,L.value),{...te?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:xc(L.min),max:xc(L.max),minLength:xc(L.minLength),maxLength:xc(L.maxLength),pattern:xc(L.pattern)}:{},name:$,onChange:q,onBlur:q,ref:J=>{if(J){ee($,L),z=ne(n,$);const Q=et(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,ue=Uue(Q),Re=z._f.refs||[];if(ue?Re.find(Ue=>Ue===Q):Q===z._f.ref)return;We(n,$,{_f:{...z._f,...ue?{refs:[...Re.filter(Lg),Q,...Array.isArray(ne(i,$))?[{}]:[]],ref:{type:Q.type,name:$}}:{ref:Q}}}),_($,!1,void 0,Q)}else z=ne(n,$,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(Mue(o.array,$)&&s.action)&&o.unMount.add($)}}},me=()=>t.shouldFocusError&&$o(n,R,o.mount),ye=$=>{Ln($)&&(h.state.next({disabled:$}),$o(n,(L,z)=>{const te=ne(n,z);te&&(L.disabled=te._f.disabled||$,Array.isArray(te._f.refs)&&te._f.refs.forEach(J=>{J.disabled=te._f.disabled||$}))},0,!1))},H=($,L)=>async z=>{let te;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let J=nt(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Q,values:ue}=await S();r.errors=Q,J=nt(ue)}else await P(n);if(o.disabled.size)for(const Q of o.disabled)yt(J,Q);if(yt(r.errors,"root"),nr(r.errors)){h.state.next({errors:{}});try{await $(J,z)}catch(Q){te=Q}}else L&&await L({...r.errors},z),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nr(r.errors)&&!te,submitCount:r.submitCount+1,errors:r.errors}),te)throw te},rt=($,L={})=>{ne(n,$)&&(et(L.defaultValue)?F($,nt(ne(i,$))):(F($,L.defaultValue),We(i,$,nt(L.defaultValue))),L.keepTouched||yt(r.touchedFields,$),L.keepDirty||(yt(r.dirtyFields,$),r.isDirty=L.defaultValue?k($,nt(ne(i,$))):k()),L.keepError||(yt(r.errors,$),d.isValid&&y()),h.state.next({...r}))},Se=($,L={})=>{const z=$?nt($):i,te=nt(z),J=nr($),Q=J?i:te;if(L.keepDefaultValues||(i=z),!L.keepValues){if(L.keepDirtyValues){const ue=new Set([...o.mount,...Object.keys(ro(i,a))]);for(const Re of Array.from(ue))ne(r.dirtyFields,Re)?We(Q,Re,ne(a,Re)):F(Re,ne(Q,Re))}else{if(kw&&et($))for(const ue of o.mount){const Re=ne(n,ue);if(Re&&Re._f){const Ue=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(sp(Ue)){const Kr=Ue.closest("form");if(Kr){Kr.reset();break}}}}if(L.keepFieldsRef)for(const ue of o.mount)F(ue,ne(Q,ue));else n={}}a=t.shouldUnregister?L.keepDefaultValues?nt(i):{}:nt(Q),h.array.next({values:{...Q}}),h.state.next({values:{...Q}})}o={mount:L.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues||!t.shouldUnregister&&!nr(Q),s.watch=!!t.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?r.submitCount:0,isDirty:J?!1:L.keepDirty?r.isDirty:!!(L.keepDefaultValues&&!Ji($,i)),isSubmitted:L.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:J?{}:L.keepDirtyValues?L.keepDefaultValues&&a?ro(i,a):r.dirtyFields:L.keepDefaultValues&&$?ro(i,$):L.keepDirty?r.dirtyFields:{},touchedFields:L.keepTouched?r.touchedFields:{},errors:L.keepErrors?r.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},dt=($,L)=>Se(En($)?$(a):$,L),vt=($,L={})=>{const z=ne(n,$),te=z&&z._f;if(te){const J=te.refs?te.refs[0]:te.ref;J.focus&&(J.focus(),L.shouldSelect&&En(J.select)&&J.select())}},Zt=$=>{r={...r,...$}},ti={control:{register:ee,unregister:Jt,getFieldState:V,handleSubmit:H,setError:le,_subscribe:Fe,_runSchema:S,_focusError:me,_getWatch:T,_getDirty:k,_setValid:y,_setFieldArray:m,_setDisabledField:Vt,_setErrors:b,_getFieldArray:M,_reset:Se,_resetDefaultValues:()=>En(t.defaultValues)&&t.defaultValues().then($=>{dt($,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:ye,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state($){s=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return t},set _options($){t={...t,...$}}},subscribe:st,trigger:B,register:ee,handleSubmit:H,watch:Ne,setValue:F,getValues:U,reset:dt,resetField:rt,clearErrors:K,unregister:Jt,setError:le,setFocus:vt,getFieldState:V};return{...ti,formControl:ti}}var Wi=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Dg=(e,t,r={})=>r.shouldFocus||et(r.shouldFocus)?r.focusName||`${e}.${et(r.focusIndex)?t:r.focusIndex}.`:"",Fg=(e,t)=>[...e,...Nr(t)],Bg=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ug(e,t,r){return[...e.slice(0,t),...Nr(r),...e.slice(t)]}var zg=(e,t,r)=>Array.isArray(e)?(et(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Wg=(e,t)=>[...Nr(t),...Nr(e)];function ede(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return _m(n).length?n:[]}var qg=(e,t)=>et(t)?[]:ede(e,Nr(t).sort((r,n)=>r-n)),Vg=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},iP=(e,t,r)=>(e[t]=r,e);function aP(e){const t=Lue(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:a,rules:s}=e,[o,c]=E.useState(r._getFieldArray(n)),u=E.useRef(r._getFieldArray(n).map(Wi)),d=E.useRef(!1);r._names.array.add(n),E.useMemo(()=>s&&o.length>=0&&r.register(n,s),[r,n,o.length,s]),lR(()=>r._subjects.array.subscribe({next:({values:_,name:w})=>{if(w===n||!w){const j=ne(_,n);Array.isArray(j)&&(c(j),u.current=j.map(Wi))}}}).unsubscribe,[r,n]);const f=E.useCallback(_=>{d.current=!0,r._setFieldArray(n,_)},[r,n]),h=(_,w)=>{const j=Nr(nt(_)),S=Fg(r._getFieldArray(n),j);r._names.focus=Dg(n,S.length-1,w),u.current=Fg(u.current,j.map(Wi)),f(S),c(S),r._setFieldArray(n,S,Fg,{argA:Bg(_)})},p=(_,w)=>{const j=Nr(nt(_)),S=Wg(r._getFieldArray(n),j);r._names.focus=Dg(n,0,w),u.current=Wg(u.current,j.map(Wi)),f(S),c(S),r._setFieldArray(n,S,Wg,{argA:Bg(_)})},v=_=>{const w=qg(r._getFieldArray(n),_);u.current=qg(u.current,_),f(w),c(w),!Array.isArray(ne(r._fields,n))&&We(r._fields,n,void 0),r._setFieldArray(n,w,qg,{argA:_})},y=(_,w,j)=>{const S=Nr(nt(w)),N=Ug(r._getFieldArray(n),_,S);r._names.focus=Dg(n,_,j),u.current=Ug(u.current,_,S.map(Wi)),f(N),c(N),r._setFieldArray(n,N,Ug,{argA:_,argB:Bg(w)})},x=(_,w)=>{const j=r._getFieldArray(n);Vg(j,_,w),Vg(u.current,_,w),f(j),c(j),r._setFieldArray(n,j,Vg,{argA:_,argB:w},!1)},m=(_,w)=>{const j=r._getFieldArray(n);zg(j,_,w),zg(u.current,_,w),f(j),c(j),r._setFieldArray(n,j,zg,{argA:_,argB:w},!1)},g=(_,w)=>{const j=nt(w),S=iP(r._getFieldArray(n),_,j);u.current=[...S].map((N,P)=>!N||P===_?Wi():u.current[P]),f(S),c([...S]),r._setFieldArray(n,S,iP,{argA:_,argB:j},!0,!1)},b=_=>{const w=Nr(nt(_));u.current=w.map(Wi),f([...w]),c([...w]),r._setFieldArray(n,[...w],j=>j,{},!0,!1)};return E.useEffect(()=>{if(r._state.action=!1,J0(n,r._names)&&r._subjects.state.next({...r._formState}),d.current&&(!wo(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!wo(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(_=>{const w=ne(_.errors,n),j=ne(r._formState.errors,n);(j?!w&&j.type||w&&(j.type!==w.type||j.message!==w.message):w&&w.type)&&(w?We(r._formState.errors,n,w):yt(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const _=ne(r._fields,n);_&&_._f&&!(wo(r._options.reValidateMode).isOnSubmit&&wo(r._options.mode).isOnSubmit)&&Z0(_,r._names.disabled,r._formValues,r._options.criteriaMode===nn.all,r._options.shouldUseNativeValidation,!0).then(w=>!nr(w)&&r._subjects.state.next({errors:mR(r._formState.errors,w,n)}))}r._subjects.state.next({name:n,values:nt(r._formValues)}),r._names.focus&&$o(r._fields,(_,w)=>{if(r._names.focus&&w.startsWith(r._names.focus)&&_.focus)return _.focus(),1}),r._names.focus="",r._setValid(),d.current=!1},[o,n,r]),E.useEffect(()=>(!ne(r._formValues,n)&&r._setFieldArray(n),()=>{const _=(w,j)=>{const S=ne(r._fields,w);S&&S._f&&(S._f.mount=j)};r._options.shouldUnregister||a?r.unregister(n):_(n,!1)}),[n,r,i,a]),{swap:E.useCallback(x,[f,n,r]),move:E.useCallback(m,[f,n,r]),prepend:E.useCallback(p,[f,n,r]),append:E.useCallback(h,[f,n,r]),remove:E.useCallback(v,[f,n,r]),insert:E.useCallback(y,[f,n,r]),update:E.useCallback(g,[f,n,r]),replace:E.useCallback(b,[f,n,r]),fields:E.useMemo(()=>o.map((_,w)=>({..._,[i]:u.current[w]||Wi()})),[o,i])}}function $w(e={}){const t=E.useRef(void 0),r=E.useRef(void 0),[n,i]=E.useState({isDirty:!1,isValidating:!1,isLoading:En(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:En(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!En(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...o}=Zue(e);t.current={...o,formState:n}}const a=t.current.control;return a._options=e,lR(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),E.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),E.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),E.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),E.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),E.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),E.useEffect(()=>{var s;e.values&&!Ji(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((s=a._options.resetOptions)===null||s===void 0)&&s.keepIsValid||a._setValid(),r.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),E.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Due(n,a),t.current}const tde=3*1024*1024,rde=["image/jpeg","image/png","image/jpg"];function nde({currentAvatarUrl:e,playerId:t,onAvatarChange:r}){const[n,i]=O.useState(e),[a,s]=O.useState(!1),[o,c]=O.useState(null),u=O.useRef(null),d=v=>rde.includes(v.type)?v.size>tde?"File size must be less than 3MB":null:"Only JPEG and PNG images are allowed",f=async v=>{var g;const y=(g=v.target.files)==null?void 0:g[0];if(!y)return;c(null);const x=d(y);if(x){c(x);return}const m=new FileReader;m.onloadend=()=>{i(m.result)},m.readAsDataURL(y),t&&await h(y,t)},h=async(v,y)=>{s(!0),c(null);try{const x=Date.now(),m=v.name.split(".").pop(),g=`players/${y}-${x}.${m}`,{data:b,error:_}=await Y.storage.from("player-avatars").upload(g,v,{cacheControl:"3600",upsert:!1});if(_)throw _;const{data:{publicUrl:w}}=Y.storage.from("player-avatars").getPublicUrl(b.path);r(w)}catch(x){c(x.message||"Failed to upload image"),i(e)}finally{s(!1)}},p=()=>{i(null),r(null),u.current&&(u.current.value="")};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"text-sm font-medium",children:"Avatar"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Pl,{url:n,alt:"Player avatar",size:"lg"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(we,{type:"button",variant:"outline",size:"sm",onClick:()=>{var v;return(v=u.current)==null?void 0:v.click()},disabled:a,children:[l.jsx(nF,{className:"w-4 h-4 mr-2"}),a?"Uploading...":"Upload Image"]}),n&&l.jsxs(we,{type:"button",variant:"ghost",size:"sm",onClick:p,disabled:a,children:[l.jsx(ZA,{className:"w-4 h-4 mr-2"}),"Remove"]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"JPEG or PNG, max 3MB"}),o&&l.jsx("p",{className:"text-xs text-red-600",children:o})]})]}),l.jsx("input",{ref:u,type:"file",accept:"image/jpeg,image/png,image/jpg",onChange:f,className:"hidden"})]})}function ide({onSubmit:e,onCancel:t,isSubmitting:r,initialData:n}){const[i,a]=O.useState((n==null?void 0:n.avatar_url)||null),{register:s,handleSubmit:o}=$w({defaultValues:n||{full_name:"",gender:"",birth_date:"",dominant_hand:"",backhand_type:"",level:"",notes:""}}),c=u=>{e({...u,avatar_url:i})};return l.jsxs("form",{onSubmit:o(c),className:"space-y-4",children:[l.jsx(nde,{currentAvatarUrl:i,playerId:n==null?void 0:n.player_id,onAvatarChange:a}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),l.jsx(Z,{...s("full_name",{required:!0}),placeholder:"John Doe"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Gender"}),l.jsxs("select",{...s("gender"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select..."}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Birth Date"}),l.jsx(Z,{type:"date",...s("birth_date")})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Dominant Hand"}),l.jsxs("select",{...s("dominant_hand"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select..."}),l.jsx("option",{value:"right",children:"Right"}),l.jsx("option",{value:"left",children:"Left"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Backhand"}),l.jsxs("select",{...s("backhand_type"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select..."}),l.jsx("option",{value:"one-hand",children:"One-Handed"}),l.jsx("option",{value:"two-hand",children:"Two-Handed"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Level"}),l.jsx(Z,{...s("level"),placeholder:"e.g. 4.0, Pro, Junior"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Notes"}),l.jsx("textarea",{...s("notes"),className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Additional notes..."})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[l.jsx(we,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),l.jsx(we,{type:"submit",disabled:r,children:r?"Saving...":"Save Player"})]})]})}function gR({currentPage:e,totalPages:t,totalItems:r,itemsPerPage:n,onPageChange:i,onItemsPerPageChange:a}){const s=r===0?0:(e-1)*n+1,o=Math.min(e*n,r);return l.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",l.jsx("span",{className:"font-medium",children:s})," to"," ",l.jsx("span",{className:"font-medium",children:o})," of"," ",l.jsx("span",{className:"font-medium",children:r})," results"]})}),l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Rows per page:"}),l.jsxs("select",{className:"h-8 w-16 rounded-md border border-input bg-background px-2 py-1 text-sm",value:n,onChange:c=>a(Number(c.target.value)),children:[l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:20,children:"20"}),l.jsx("option",{value:50,children:"50"})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("p",{className:"text-sm font-medium",children:["Page ",e," of ",t||1]})}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(we,{variant:"outline",size:"icon",onClick:()=>i(1),disabled:e===1,className:"h-8 w-8",children:l.jsx(VD,{className:"h-4 w-4"})}),l.jsx(we,{variant:"outline",size:"icon",onClick:()=>i(e-1),disabled:e===1,className:"h-8 w-8",children:l.jsx(zD,{className:"h-4 w-4"})}),l.jsx(we,{variant:"outline",size:"icon",onClick:()=>i(e+1),disabled:e===t||t===0,className:"h-8 w-8",children:l.jsx(WD,{className:"h-4 w-4"})}),l.jsx(we,{variant:"outline",size:"icon",onClick:()=>i(t),disabled:e===t||t===0,className:"h-8 w-8",children:l.jsx(HD,{className:"h-4 w-4"})})]})]})]})}function ade(){const{data:e,isLoading:t}=bm(),[r,n]=O.useState(""),[i,a]=O.useState(!1),[s,o]=O.useState(null),[c,u]=O.useState("name"),[d,f]=O.useState("asc"),[h,p]=O.useState(1),[v,y]=O.useState(20),x=O.useMemo(()=>{if(!e)return[];let N=e.filter(P=>P.full_name.toLowerCase().includes(r.toLowerCase()));return N.sort((P,A)=>{let k=0;switch(c){case"name":k=P.full_name.localeCompare(A.full_name);break;default:k=P.full_name.localeCompare(A.full_name);break}return d==="asc"?k:-k}),N},[e,r,c,d]),m=Math.ceil(x.length/v),g=x.slice((h-1)*v,h*v),b=N=>{n(N),p(1)},_=N=>{y(N),p(1)},w=()=>{o(null),a(!0)},j=N=>{o(N),a(!0)},S=()=>{a(!1),o(null)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Players"}),l.jsxs(we,{onClick:w,children:[l.jsx(hu,{className:"mr-2 h-4 w-4"})," Add Player"]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(XA,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Z,{placeholder:"Search players...",className:"pl-8",value:r,onChange:N=>b(N.target.value)})]}),l.jsxs("div",{className:"flex items-center space-x-2 min-w-[180px]",children:[l.jsx(GA,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:`${c}-${d}`,onChange:N=>{const[P,A]=N.target.value.split("-");u(P),f(A),p(1)},children:[l.jsx("option",{value:"name-asc",children:"Name A-Z"}),l.jsx("option",{value:"name-desc",children:"Name Z-A"})]})]})]}),l.jsx(Cue,{players:g,isLoading:t,onEdit:j}),!t&&x.length>0&&l.jsx(gR,{currentPage:h,totalPages:m,totalItems:x.length,itemsPerPage:v,onPageChange:p,onItemsPerPageChange:_}),!t&&x.length===0&&e&&e.length>0&&l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No players found matching your search."}),i&&l.jsx(sde,{onClose:S,initialData:s})]})}function sde({onClose:e,initialData:t}){const r=vue(),n=yue(),i=!!t,a=s=>{i?n.mutate({id:t.player_id,updates:s},{onSuccess:()=>{e()}}):r.mutate(s,{onSuccess:()=>{e()}})};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md space-y-4",children:[l.jsx("h3",{className:"text-lg font-bold",children:i?"Edit Player":"Add New Player"}),l.jsx(ide,{onSubmit:a,onCancel:e,isSubmitting:r.isPending||n.isPending,initialData:t})]})})}function ode(){const e=Xn();return $n({queryKey:["matches",e],queryFn:async()=>{if(!e)throw new Error("No team membership found");const{data:t,error:r}=await Y.from("matches").select(`
          *,
          match_players (
            *,
            players:player_id (
              full_name,
              avatar_url
            )
          )
        `).eq("team_id",e).order("match_date",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function Rw(e){const t=Xn();return $n({queryKey:["matches",e,t],queryFn:async()=>{if(!t)throw new Error("No team membership found");const{data:r,error:n}=await Y.from("matches").select(`
          *,
          match_players (
            *,
            players:player_id (
              full_name,
              avatar_url
            )
          ),
          sets (
            *,
            set_player_tech_stats (*),
            set_player_tactical_stats (*),
            set_player_physical_mental_stats (*)
          )
        `).eq("match_id",e).eq("team_id",t).single();if(n)throw n;return r},enabled:!!e&&!!t})}function lde(e){const t=Xn();return $n({queryKey:["matches","player",e,t],queryFn:async()=>{if(!t)throw new Error("No team membership found");const{data:r,error:n}=await Y.from("matches").select(`
                    *,
                    match_players!inner(
                        *,
                        players:player_id (
                            full_name,
                            avatar_url
                        )
                    )
                `).eq("match_players.player_id",e).eq("team_id",t).order("match_date",{ascending:!1});if(n)throw n;return r},enabled:!!e&&!!t})}function cde(){const e=Xt();return Wt({mutationFn:async({match:t,players:r,sets:n})=>{const{data:{user:i}}=await Y.auth.getUser();if(!i)throw new Error("User not authenticated");const{data:a,error:s}=await Y.from("team_members").select("team_id").eq("user_id",i.id).eq("status","approved").single();if(s||!a)throw new Error("No approved team membership found");console.log("Original match object:",t);const{match_id:o,...c}=t;console.log("Match object after removing match_id:",c),console.log("Removed match_id:",o);const u={...c,team_id:a.team_id},{data:d,error:f}=await Y.from("matches").insert(u).select().single();if(f)throw console.error("Match insert error:",f),f;const h=d;if(r&&r.length>0){const p=r.map(y=>({...y,match_id:h.match_id})),{error:v}=await Y.from("match_players").insert(p);if(v)throw v}for(const p of n){const{data:v,error:y}=await Y.from("sets").insert({...p.set,match_id:h.match_id}).select().single();if(y)throw y;const x=v;if(p.techStats&&p.techStats.length>0){const m=p.techStats.map(g=>({...g,set_id:x.set_id}));await Y.from("set_player_tech_stats").insert(m)}if(p.tacticalStats&&p.tacticalStats.length>0){const m=p.tacticalStats.map(g=>({...g,set_id:x.set_id}));await Y.from("set_player_tactical_stats").insert(m)}if(p.pmStats&&p.pmStats.length>0){const m=p.pmStats.map(g=>({...g,set_id:x.set_id}));await Y.from("set_player_physical_mental_stats").insert(m)}}return h},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function ude(){const e=Xt();return Wt({mutationFn:async({matchId:t,updates:r})=>{const{data:{user:n}}=await Y.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:i}=await Y.from("team_members").select("team_id").eq("user_id",n.id).eq("status","approved").single();if(!i)throw new Error("No approved team membership found");const{error:a}=await Y.from("matches").update(r).eq("match_id",t).eq("team_id",i.team_id);if(a)throw a},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function dde(){const e=Xt();return Wt({mutationFn:async t=>{const{data:{user:r}}=await Y.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:n}=await Y.from("team_members").select("team_id").eq("user_id",r.id).eq("status","approved").single();if(!n)throw new Error("No approved team membership found");const{error:i}=await Y.from("matches").update({status:"in_progress",started_at:new Date().toISOString()}).eq("match_id",t).eq("team_id",n.team_id);if(i)throw i},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function fde(e){const t=new Date;let r;switch(e){case"1month":r=new Date(t.setMonth(t.getMonth()-1));break;case"3months":r=new Date(t.setMonth(t.getMonth()-3));break;case"6months":r=new Date(t.setMonth(t.getMonth()-6));break;case"1year":r=new Date(t.setFullYear(t.getFullYear()-1));break;case"all":return null}return r.toISOString().split("T")[0]}function hde(e,t="6months"){const r=Xn();return $n({queryKey:["playerStats",e,t,r],queryFn:async()=>{if(!r)throw new Error("No team membership found");const{data:n,error:i}=await Y.from("players").select("team_id").eq("player_id",e).single();if(i||!n)throw i||new Error("Player not found");if(n.team_id!==r)throw new Error("Player does not belong to your team");const a=fde(t);let s=Y.from("matches").select(`
                    *,
                    match_players!inner(
                        *,
                        players(
                            full_name,
                            avatar_url
                        )
                    ),
                    sets (
                        *,
                        set_player_tech_stats (*)
                    )
                `).eq("match_players.player_id",e).eq("team_id",r).order("match_date",{ascending:!1});a&&(s=s.gte("match_date",a));const{data:o,error:c}=await s;if(c)throw c;const u=o||[],d={totalMatches:u.length,wins:0,losses:0,winRate:0,matchesBySurface:{},matchesByType:{singles:{wins:0,losses:0,total:0},doubles:{wins:0,losses:0,total:0}},technicalStats:{avgFirstServePercentage:0,avgAcesPerMatch:0,avgDoubleFaultsPerMatch:0,avgWinnersPerMatch:0,avgUnforcedErrorsPerMatch:0,avgNetSuccessRate:0},monthlyTrends:[],recentMatches:u.slice(0,10)};if(u.length===0)return d;const f={};let h=0,p=0,v=0,y=0,x=0,m=0,g=0,b=0;return u.forEach(_=>{var N;const w=_.final_result==="win";w?d.wins++:d.losses++;const j=_.surface||"Unknown";d.matchesBySurface[j]||(d.matchesBySurface[j]={wins:0,losses:0,total:0,winRate:0}),d.matchesBySurface[j].total++,w?d.matchesBySurface[j].wins++:d.matchesBySurface[j].losses++;const S=_.format==="doubles"?"doubles":"singles";if(d.matchesByType[S].total++,w?d.matchesByType[S].wins++:d.matchesByType[S].losses++,_.match_date){const P=_.match_date.substring(0,7);f[P]||(f[P]={wins:0,losses:0,firstServeIn:0,firstServeTotal:0,unforcedErrors:0,matchCount:0}),f[P].matchCount++,w?f[P].wins++:f[P].losses++}(N=_.sets)==null||N.forEach(P=>{var A;(A=P.set_player_tech_stats)==null||A.forEach(k=>{if(k.first_serve_in!==null&&k.first_serve_total!==null&&(h+=k.first_serve_in,p+=k.first_serve_total,_.match_date)){const I=_.match_date.substring(0,7);f[I]&&(f[I].firstServeIn+=k.first_serve_in,f[I].firstServeTotal+=k.first_serve_total)}k.aces!==null&&(v+=k.aces),k.double_faults!==null&&(y+=k.double_faults);const T=(k.fh_winners||0)+(k.bh_winners||0)+(k.volley_winners||0)+(k.smash_winners||0);x+=T;const M=(k.fh_unforced_errors||0)+(k.bh_unforced_errors||0)+(k.volley_errors||0)+(k.smash_errors||0);if(m+=M,_.match_date){const I=_.match_date.substring(0,7);f[I]&&(f[I].unforcedErrors+=M)}k.net_points_won!==null&&(g+=k.net_points_won),k.net_approaches!==null&&(b+=k.net_approaches)})})}),d.winRate=d.totalMatches>0?d.wins/d.totalMatches*100:0,Object.keys(d.matchesBySurface).forEach(_=>{const w=d.matchesBySurface[_];w.winRate=w.total>0?w.wins/w.total*100:0}),d.technicalStats.avgFirstServePercentage=p>0?h/p*100:0,d.technicalStats.avgAcesPerMatch=d.totalMatches>0?v/d.totalMatches:0,d.technicalStats.avgDoubleFaultsPerMatch=d.totalMatches>0?y/d.totalMatches:0,d.technicalStats.avgWinnersPerMatch=d.totalMatches>0?x/d.totalMatches:0,d.technicalStats.avgUnforcedErrorsPerMatch=d.totalMatches>0?m/d.totalMatches:0,d.technicalStats.avgNetSuccessRate=b>0?g/b*100:0,d.monthlyTrends=Object.entries(f).sort(([_],[w])=>_.localeCompare(w)).map(([_,w])=>({month:_,wins:w.wins,losses:w.losses,winRate:w.matchCount>0?w.wins/w.matchCount*100:0,firstServePercentage:w.firstServeTotal>0?w.firstServeIn/w.firstServeTotal*100:0,unforcedErrors:w.matchCount>0?w.unforcedErrors/w.matchCount:0})),d},enabled:!!e&&!!r})}function pde({wins:e,losses:t,totalMatches:r,winRate:n,singleStats:i,doublesStats:a}){return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(Kn,{className:"h-5 w-5 text-yellow-500"}),"Win/Loss Record"]})}),l.jsxs(Te,{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-4xl font-bold mb-2",children:[l.jsx("span",{className:"text-green-600",children:e}),l.jsx("span",{className:"text-gray-400 mx-2",children:"-"}),l.jsx("span",{className:"text-red-600",children:t})]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Matches: ",r]})]}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsxs("div",{className:"relative w-32 h-32",children:[l.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[l.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-gray-200"}),l.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*56}`,strokeDashoffset:`${2*Math.PI*56*(1-n/100)}`,className:"text-green-500 transition-all duration-1000",strokeLinecap:"round"})]}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[n.toFixed(1),"%"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Win Rate"})]})})]})}),l.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(th,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{className:"font-medium",children:"Singles"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-600 font-medium",children:i.wins}),l.jsx("span",{className:"text-gray-400",children:"-"}),l.jsx("span",{className:"text-red-600 font-medium",children:i.losses}),i.total>0&&l.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",(i.wins/i.total*100).toFixed(0),"%)"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(th,{className:"h-4 w-4 text-purple-500"}),l.jsx("span",{className:"font-medium",children:"Doubles"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-600 font-medium",children:a.wins}),l.jsx("span",{className:"text-gray-400",children:"-"}),l.jsx("span",{className:"text-red-600 font-medium",children:a.losses}),a.total>0&&l.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",(a.wins/a.total*100).toFixed(0),"%)"]})]})]})]})]})]})}function mde({monthlyTrends:e}){if(e.length===0)return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(tl,{className:"h-5 w-5 text-blue-500"}),"Performance Trends"]})}),l.jsx(Te,{children:l.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No data available for trends"})})]});const t=e.map(r=>{const[n,i]=r.month.split("-"),s=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(i)-1]} '${n.slice(2)}`;return{...r,monthLabel:s}});return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(tl,{className:"h-5 w-5 text-blue-500"}),"Performance Trends"]})}),l.jsx(Te,{children:l.jsx(zb,{width:"100%",height:300,children:l.jsxs(oue,{data:t,children:[l.jsx(Sw,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Xl,{dataKey:"monthLabel",className:"text-xs",tick:{fontSize:12}}),l.jsx(Jl,{className:"text-xs",tick:{fontSize:12}}),l.jsx(Zr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),l.jsx(_i,{}),l.jsx(xs,{type:"monotone",dataKey:"winRate",stroke:"#10b981",strokeWidth:2,name:"Win Rate (%)",dot:{fill:"#10b981",r:4}}),l.jsx(xs,{type:"monotone",dataKey:"firstServePercentage",stroke:"#3b82f6",strokeWidth:2,name:"1st Serve (%)",dot:{fill:"#3b82f6",r:4}}),l.jsx(xs,{type:"monotone",dataKey:"unforcedErrors",stroke:"#ef4444",strokeWidth:2,name:"Avg UE/Match",dot:{fill:"#ef4444",r:4}})]})})})]})}function gde({matchesBySurface:e}){const t=Object.entries(e).sort((n,i)=>i[1].total-n[1].total),r=n=>{const i=n.toLowerCase();return i.includes("hard")?"bg-blue-500":i.includes("clay")?"bg-orange-500":i.includes("grass")?"bg-green-500":i.includes("carpet")?"bg-purple-500":"bg-gray-500"};return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(JD,{className:"h-5 w-5 text-orange-500"}),"Surface Performance"]})}),l.jsx(Te,{children:t.length===0?l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No surface data available"}):l.jsx("div",{className:"space-y-4",children:t.map(([n,i])=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${r(n)}`}),l.jsx("span",{className:"font-medium capitalize",children:n})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-600 font-medium",children:i.wins}),l.jsx("span",{className:"text-gray-400",children:"-"}),l.jsx("span",{className:"text-red-600 font-medium",children:i.losses}),l.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",i.winRate.toFixed(0),"%)"]})]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:`h-full ${r(n)} transition-all duration-500`,style:{width:`${i.winRate}%`}})})]},n))})})]})}function vde({technicalStats:e}){const t=[{label:"1st Serve %",value:e.avgFirstServePercentage.toFixed(1),suffix:"%",color:"text-blue-600"},{label:"Aces/Match",value:e.avgAcesPerMatch.toFixed(1),suffix:"",color:"text-green-600"},{label:"Double Faults/Match",value:e.avgDoubleFaultsPerMatch.toFixed(1),suffix:"",color:"text-red-600"},{label:"Winners/Match",value:e.avgWinnersPerMatch.toFixed(1),suffix:"",color:"text-purple-600"},{label:"Unforced Errors/Match",value:e.avgUnforcedErrorsPerMatch.toFixed(1),suffix:"",color:"text-orange-600"},{label:"Net Success %",value:e.avgNetSuccessRate.toFixed(1),suffix:"%",color:"text-teal-600"}];return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(ay,{className:"h-5 w-5 text-purple-500"}),"Technical Statistics"]})}),l.jsx(Te,{children:l.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(r=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r.label}),l.jsxs("p",{className:`text-2xl font-bold ${r.color}`,children:[r.value,l.jsx("span",{className:"text-sm ml-1",children:r.suffix})]})]},r.label))})})]})}function yde({recentMatches:e}){return e.length===0?l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(sy,{className:"h-5 w-5 text-indigo-500"}),"Recent Matches"]})}),l.jsx(Te,{children:l.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent matches"})})]}):l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(sy,{className:"h-5 w-5 text-indigo-500"}),"Recent Matches"]})}),l.jsx(Te,{children:l.jsx("div",{className:"space-y-3",children:e.map((t,r)=>{var s;const n=t.final_result==="win",a=(((s=t.match_players)==null?void 0:s.filter(o=>o.side==="B"||!o.is_tracked))||[]).map(o=>{var c;return((c=o.players)==null?void 0:c.full_name)||o.display_name}).join(" + ");return l.jsx(gt,{to:`/dashboard/matches/${t.match_id}`,className:"block group",children:l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-accent transition-colors",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${n?"bg-green-500":"bg-red-500"}`}),r<e.length-1&&l.jsx("div",{className:"w-0.5 h-full bg-border mt-1"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Ns,{className:"h-3 w-3"}),l.jsx("span",{children:t.match_date?new Date(t.match_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No Date"}),t.surface&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx("span",{className:"capitalize",children:t.surface})]})]}),l.jsx("div",{className:`font-bold text-sm ${n?"text-green-600":"text-red-600"}`,children:n?"W":"L"})]}),l.jsxs("p",{className:"font-medium text-sm mb-1",children:["vs ",a||"Unknown",t.format==="doubles"&&l.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full",children:"Doubles"})]}),t.score_line&&l.jsx("p",{className:"text-xs text-muted-foreground",children:t.score_line})]})]})},t.match_id)})})})]})}function xde({playerId:e}){const[t,r]=O.useState("6months"),{data:n,isLoading:i,error:a}=hde(e,t),s=[{value:"1month",label:"1 Month"},{value:"3months",label:"3 Months"},{value:"6months",label:"6 Months"},{value:"1year",label:"1 Year"},{value:"all",label:"All Time"}];return i?l.jsx("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-8",children:l.jsx("p",{className:"text-center text-muted-foreground",children:"Loading dashboard..."})}):a?l.jsx("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-8",children:l.jsx("p",{className:"text-center text-red-600",children:"Error loading dashboard"})}):n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Performance Dashboard"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Overview of player statistics and trends"})]}),l.jsx("div",{className:"flex gap-2",children:s.map(o=>l.jsx(we,{variant:t===o.value?"default":"outline",size:"sm",onClick:()=>r(o.value),children:o.label},o.value))})]}),n.totalMatches===0?l.jsx("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg font-medium mb-2",children:"No matches found"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"No matches recorded for the selected time period. Try selecting a different date range."})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(pde,{wins:n.wins,losses:n.losses,totalMatches:n.totalMatches,winRate:n.winRate,singleStats:n.matchesByType.singles,doublesStats:n.matchesByType.doubles}),l.jsx(mde,{monthlyTrends:n.monthlyTrends})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsx(gde,{matchesBySurface:n.matchesBySurface}),l.jsx(vde,{technicalStats:n.technicalStats})]}),l.jsx(yde,{recentMatches:n.recentMatches})]})]}):null}function bde(){const{id:e}=sd(),t=parseInt(e||"0"),{data:r,isLoading:n}=gue(t),{data:i,isLoading:a}=lde(t);return n?l.jsx("div",{className:"p-8",children:"Loading player..."}):r?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(gt,{to:"/dashboard/players",children:l.jsx(we,{variant:"ghost",size:"icon",children:l.jsx(ld,{className:"h-4 w-4"})})}),l.jsx(Pl,{url:r.avatar_url,alt:r.full_name,size:"xl"}),l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:r.full_name})]}),l.jsx(xde,{playerId:t}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Profile"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Level"}),l.jsx("p",{className:"font-medium",children:r.level||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Gender"}),l.jsx("p",{className:"font-medium capitalize",children:r.gender||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Dominant Hand"}),l.jsx("p",{className:"font-medium capitalize",children:r.dominant_hand||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Backhand"}),l.jsx("p",{className:"font-medium capitalize",children:r.backhand_type||"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Birth Date"}),l.jsx("p",{className:"font-medium",children:r.birth_date||"-"})]})]}),r.notes&&l.jsxs("div",{className:"pt-2",children:[l.jsx("p",{className:"text-muted-foreground text-sm",children:"Notes"}),l.jsx("p",{className:"text-sm mt-1 whitespace-pre-wrap",children:r.notes})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Match History"}),l.jsx("div",{className:"space-y-4",children:a?l.jsx("p",{children:"Loading matches..."}):(i==null?void 0:i.length)===0?l.jsx("p",{className:"text-muted-foreground text-sm",children:"No matches recorded."}):i==null?void 0:i.map(s=>{var u,d;const c=(((u=s.match_players)==null?void 0:u.filter(f=>f.side==="B"||!f.is_tracked))||[]).map(f=>{var h;return((h=f.players)==null?void 0:h.full_name)||f.display_name}).join(" + ");return l.jsx(gt,{to:`/dashboard/matches/${s.match_id}`,className:"block group",children:l.jsxs("div",{className:"flex items-center justify-between border-b pb-3 last:border-0 last:pb-0 group-hover:bg-gray-50 p-2 rounded-md transition-colors",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[l.jsx(Ns,{className:"h-3 w-3"}),l.jsx("span",{children:s.match_date?new Date(s.match_date).toLocaleDateString():"No Date"}),s.surface&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx("span",{className:"capitalize",children:s.surface})]}),s.format==="doubles"&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-1.5 rounded-full",children:"Doubles"})]})]}),l.jsxs("p",{className:"font-medium",children:["vs ",c||"Unknown"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:`font-bold ${s.final_result==="win"?"text-green-600":"text-red-600"}`,children:(d=s.final_result)==null?void 0:d.toUpperCase()}),l.jsx("p",{className:"text-sm text-muted-foreground",children:s.score_line})]})]})},s.match_id)})})]})]})]}):l.jsx("div",{className:"p-8",children:"Player not found"})}const wde=aR("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _de({className:e,variant:t,...r}){return l.jsx("div",{className:`${wde({variant:t})} ${e||""}`,...r})}function jde({status:e,className:t=""}){const n={scheduled:{label:"Scheduled",variant:"secondary",className:"bg-gray-100 text-gray-700 hover:bg-gray-100"},in_progress:{label:"In Progress",variant:"default",className:"bg-green-100 text-green-700 hover:bg-green-100 animate-pulse"},completed:{label:"Completed",variant:"outline",className:"bg-blue-100 text-blue-700 hover:bg-blue-100"}}[e];return l.jsx(_de,{variant:n.variant,className:`${n.className} ${t}`,children:n.label})}function Sde({startedAt:e,completedAt:t,status:r,className:n=""}){const[i,a]=O.useState(0);O.useEffect(()=>{if(r==="in_progress"&&e){const o=setInterval(()=>{const c=new Date(e).getTime(),u=new Date().getTime();a(Math.floor((u-c)/1e3))},1e3);return()=>clearInterval(o)}else if(r==="completed"&&e&&t){const o=new Date(e).getTime(),c=new Date(t).getTime();a(Math.floor((c-o)/1e3))}},[e,t,r]);const s=o=>{const c=Math.floor(o/3600),u=Math.floor(o%3600/60),d=o%60;return c>0?`${c}:${u.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`:`${u}:${d.toString().padStart(2,"0")}`};return e?l.jsxs("div",{className:`flex items-center gap-2 text-sm ${n}`,children:[l.jsx(sy,{className:"h-4 w-4"}),l.jsx("span",{className:"font-mono",children:s(i)}),r==="completed"&&l.jsx("span",{className:"text-muted-foreground text-xs",children:"(Total Duration)"})]}):null}function Nde({matches:e,isLoading:t}){const r=i=>i.filter(a=>a.is_tracked&&a.side==="A"),n=i=>i.filter(a=>a.side==="B"||!a.is_tracked);return l.jsx("div",{className:"rounded-md border bg-white",children:l.jsxs(Ow,{children:[l.jsx(Pw,{children:l.jsxs(xi,{children:[l.jsx(Dt,{children:"Status"}),l.jsx(Dt,{children:"Date"}),l.jsx(Dt,{children:"Type"}),l.jsx(Dt,{children:"Player / Partner"}),l.jsx(Dt,{children:"Opponent(s)"}),l.jsx(Dt,{children:"Surface"}),l.jsx(Dt,{children:"Result"}),l.jsx(Dt,{children:"Score"}),l.jsx(Dt,{children:"Duration"}),l.jsx(Dt,{className:"text-right",children:"Actions"})]})}),l.jsx(Ew,{children:t?l.jsx(xi,{children:l.jsx(ht,{colSpan:10,className:"text-center h-24",children:"Loading..."})}):(e==null?void 0:e.length)===0?l.jsx(xi,{children:l.jsx(ht,{colSpan:10,className:"text-center h-24",children:"No matches found."})}):e==null?void 0:e.map(i=>{var c;const a=r(i.match_players),s=n(i.match_players),o=i.format==="doubles"||a.length>1;return l.jsxs(xi,{className:i.status==="in_progress"?"bg-green-50":"",children:[l.jsx(ht,{children:l.jsx(jde,{status:i.status||"scheduled"})}),l.jsx(ht,{children:i.match_date?new Date(i.match_date).toLocaleDateString():"-"}),l.jsx(ht,{children:l.jsxs("div",{className:"flex items-center gap-2",title:o?"Doubles":"Singles",children:[o?l.jsx(ln,{className:"h-4 w-4 text-blue-500"}):l.jsx(db,{className:"h-4 w-4 text-gray-500"}),l.jsx("span",{className:"capitalize text-xs text-muted-foreground",children:i.format||"singles"})]})}),l.jsx(ht,{className:"font-medium",children:a.length>0?a.map((u,d)=>{var f;return l.jsxs("div",{children:[((f=u.players)==null?void 0:f.full_name)||u.display_name,d<a.length-1&&l.jsx("span",{className:"text-xs text-muted-foreground",children:" + "})]},u.match_player_id)}):l.jsx("div",{children:"Unknown"})}),l.jsx(ht,{children:s.length>0?s.map((u,d)=>{var f;return l.jsxs("span",{children:[((f=u.players)==null?void 0:f.full_name)||u.display_name,d<s.length-1&&" + "]},u.match_player_id)}):"Unknown"}),l.jsx(ht,{className:"capitalize",children:i.surface||"-"}),l.jsx(ht,{children:l.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${i.final_result==="win"?"bg-green-100 text-green-800":i.final_result==="loss"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:((c=i.final_result)==null?void 0:c.toUpperCase())||"-"})}),l.jsx(ht,{children:i.score_line||"-"}),l.jsx(ht,{children:l.jsx(Sde,{startedAt:i.started_at,completedAt:i.completed_at,status:i.status||"scheduled"})}),l.jsx(ht,{className:"text-right",children:l.jsx(gt,{to:`/dashboard/matches/${i.match_id}`,children:l.jsx(we,{variant:"ghost",size:"sm",children:"View"})})})]},i.match_id)})})]})})}function Ode(){const{data:e,isLoading:t}=ode(),[r,n]=O.useState(""),[i,a]=O.useState("all"),[s,o]=O.useState("date"),[c,u]=O.useState("desc"),[d,f]=O.useState(1),[h,p]=O.useState(20),v=O.useMemo(()=>{if(!e)return[];let _=e.filter(w=>{var j;if(i!=="all"&&w.surface!==i)return!1;if(r){const S=r.toLowerCase(),N=((j=w.match_players)==null?void 0:j.map(k=>{var T;return((T=k.players)==null?void 0:T.full_name)||k.display_name}).filter(Boolean).join(" ").toLowerCase())||"",P=(w.location||"").toLowerCase(),A=(w.tournament_name||"").toLowerCase();if(!N.includes(S)&&!P.includes(S)&&!A.includes(S))return!1}return!0});return _.sort((w,j)=>{let S=0;switch(s){case"date":S=new Date(w.match_date).getTime()-new Date(j.match_date).getTime();break;case"result":const N={win:1,loss:2,retired:3};S=(N[w.final_result]||99)-(N[j.final_result]||99);break;case"surface":S=(w.surface||"").localeCompare(j.surface||"");break}return c==="asc"?S:-S}),_},[e,r,i,s,c]),y=Math.ceil(v.length/h),x=v.slice((d-1)*h,d*h),m=_=>{n(_),f(1)},g=_=>{a(_),f(1)},b=_=>{p(_),f(1)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Matches"}),l.jsx(gt,{to:"/dashboard/matches/new",children:l.jsxs(we,{children:[l.jsx(hu,{className:"mr-2 h-4 w-4"})," New Match"]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(XA,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(Z,{placeholder:"Search by player name, location, or tournament...",className:"pl-8",value:r,onChange:_=>m(_.target.value)})]}),l.jsxs("div",{className:"flex items-center space-x-2 min-w-[180px]",children:[l.jsx(GD,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:i,onChange:_=>g(_.target.value),children:[l.jsx("option",{value:"all",children:"All Surfaces"}),l.jsx("option",{value:"hard",children:"Hard"}),l.jsx("option",{value:"clay",children:"Clay"}),l.jsx("option",{value:"grass",children:"Grass"}),l.jsx("option",{value:"carpet",children:"Carpet"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 min-w-[150px]",children:[l.jsx(GA,{className:"h-4 w-4 text-muted-foreground"}),l.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",value:`${s}-${c}`,onChange:_=>{const[w,j]=_.target.value.split("-");o(w),u(j),f(1)},children:[l.jsx("option",{value:"date-desc",children:"Newest First"}),l.jsx("option",{value:"date-asc",children:"Oldest First"}),l.jsx("option",{value:"result-asc",children:"Wins First"}),l.jsx("option",{value:"result-desc",children:"Losses First"}),l.jsx("option",{value:"surface-asc",children:"Surface A-Z"}),l.jsx("option",{value:"surface-desc",children:"Surface Z-A"})]})]})]}),l.jsx(Nde,{matches:x,isLoading:t}),!t&&v.length>0&&l.jsx(gR,{currentPage:d,totalPages:y,totalItems:v.length,itemsPerPage:h,onPageChange:f,onItemsPerPageChange:b}),!t&&v.length===0&&e&&e.length>0&&l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No matches found matching your filters."})]})}function Pde({onSubmit:e,isSubmitting:t,initialData:r}){const{data:n}=bm(),{register:i,control:a,handleSubmit:s,watch:o}=$w({defaultValues:r||{players:[{player_id:"",role:"player"}],match_type:"singles",opponent1_id:"",opponent1_name:"",opponent2_id:"",opponent2_name:"",match_date:new Date().toISOString().split("T")[0],location:"",surface:"hard",final_result:"win",score_line:"",status:"completed",started_at:"",completed_at:"",sets:[{set_number:1,games_won:6,games_lost:0,set_result:"win"}]}}),{fields:c,append:u,remove:d}=aP({control:a,name:"sets"}),{fields:f,append:h,remove:p}=aP({control:a,name:"players"}),v=o("match_type"),y=o("status");O.useEffect(()=>{v==="doubles"&&f.length===1?h({player_id:"",role:"partner"}):v==="singles"&&f.length>1&&p(1)},[v,f.length,h,p]);const x=m=>{e(m)};return l.jsxs("form",{onSubmit:s(x),className:"space-y-8",children:[l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-6",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Match Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Match Type"}),l.jsxs("select",{...i("match_type"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"singles",children:"Singles"}),l.jsx("option",{value:"doubles",children:"Doubles"}),l.jsx("option",{value:"practice",children:"Practice"})]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-4",children:[l.jsx("label",{className:"text-sm font-medium",children:v==="doubles"?"Opponents (2 Players)":"Opponent"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:v==="doubles"?"Opponent 1":"Opponent"}),l.jsxs("select",{...i("opponent1_id"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select Player..."}),n==null?void 0:n.map(m=>l.jsx("option",{value:m.player_id,children:m.full_name},m.player_id))]}),l.jsx(Z,{...i("opponent1_name"),placeholder:"Or enter name manually",className:"text-sm"})]}),v==="doubles"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Opponent 2"}),l.jsxs("select",{...i("opponent2_id"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select Player..."}),n==null?void 0:n.map(m=>l.jsx("option",{value:m.player_id,children:m.full_name},m.player_id))]}),l.jsx(Z,{...i("opponent2_name"),placeholder:"Or enter name manually",className:"text-sm"})]})]})]}),l.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-4",children:[l.jsx("label",{className:"text-sm font-medium",children:"Your Team"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((m,g)=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:g===0?"You (Main Player)":"Partner"}),l.jsxs("select",{...i(`players.${g}.player_id`,{required:!0}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Select Player..."}),n==null?void 0:n.map(b=>l.jsx("option",{value:b.player_id,children:b.full_name},b.player_id))]})]},m.id))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Date"}),l.jsx(Z,{type:"date",...i("match_date")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Location"}),l.jsx(Z,{...i("location"),placeholder:"e.g. Melbourne Park"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Surface"}),l.jsxs("select",{...i("surface"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"hard",children:"Hard"}),l.jsx("option",{value:"clay",children:"Clay"}),l.jsx("option",{value:"grass",children:"Grass"}),l.jsx("option",{value:"carpet",children:"Carpet"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Result"}),l.jsxs("select",{...i("final_result"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"win",children:"Win"}),l.jsx("option",{value:"loss",children:"Loss"}),l.jsx("option",{value:"retired",children:"Retired"})]})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Score Line"}),l.jsx(Z,{...i("score_line"),placeholder:"e.g. 6-4 3-6 7-5"})]})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-6",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Match Status & Timing"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Match Status"}),l.jsxs("select",{...i("status"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"scheduled",children:"Scheduled (Not Started)"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:'Select "Completed" for recording past matches'})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Started At (Optional)"}),l.jsx(Z,{type:"datetime-local",...i("started_at"),disabled:y==="scheduled"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:y==="scheduled"?"Auto-set when match starts":"When the match began"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Completed At (Optional)"}),l.jsx(Z,{type:"datetime-local",...i("completed_at"),disabled:y!=="completed"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:y!=="completed"?"Only for completed matches":"When the match ended"})]})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Sets"}),l.jsxs(we,{type:"button",variant:"outline",size:"sm",onClick:()=>u({set_number:c.length+1,games_won:0,games_lost:0,set_result:"win"}),children:[l.jsx(hu,{className:"mr-2 h-4 w-4"})," Add Set"]})]}),l.jsx("div",{className:"space-y-4",children:c.map((m,g)=>l.jsxs("div",{className:"flex items-end gap-4 p-4 border rounded-md bg-gray-50",children:[l.jsxs("div",{className:"w-16",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Set"}),l.jsxs("div",{className:"flex h-10 items-center justify-center font-bold text-lg",children:[g+1,l.jsx("input",{type:"hidden",...i(`sets.${g}.set_number`),value:g+1})]})]}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Games Won"}),l.jsx(Z,{type:"number",...i(`sets.${g}.games_won`),min:"0"})]}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Games Lost"}),l.jsx(Z,{type:"number",...i(`sets.${g}.games_lost`),min:"0"})]}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Result"}),l.jsxs("select",{...i(`sets.${g}.set_result`),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"win",children:"Win"}),l.jsx("option",{value:"loss",children:"Loss"})]})]}),l.jsx(we,{type:"button",variant:"ghost",size:"icon",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>d(g),disabled:c.length===1,children:l.jsx(JA,{className:"h-4 w-4"})})]},m.id))})]}),l.jsx("div",{className:"flex justify-end space-x-4",children:l.jsx(we,{type:"submit",disabled:t,children:t?"Saving...":"Save Match"})})]})}function Ede(){const e=fn(),t=cde(),{data:r}=bm(),n=i=>{var c,u,d;const a={match_date:i.match_date,location:i.location,surface:i.surface,format:i.match_type==="practice"?"singles":i.match_type,final_result:i.final_result,score_line:i.score_line,notes:i.notes?i.notes.trim():null,status:i.status||"scheduled",started_at:i.started_at&&i.started_at.trim()!==""?i.started_at:null,completed_at:i.completed_at&&i.completed_at.trim()!==""?i.completed_at:null};if(!i.players||i.players.length===0||!((c=i.players[0])!=null&&c.player_id)){console.error("No player selected");return}const s=i.players.map(f=>{const h=r==null?void 0:r.find(p=>p.player_id===parseInt(f.player_id));return{player_id:parseInt(f.player_id),display_name:(h==null?void 0:h.full_name)||"Unknown Player",side:"A",role:f.role,is_tracked:!0}});if(i.opponent1_id||i.opponent1_name){const f=i.opponent1_id?r==null?void 0:r.find(h=>h.player_id===parseInt(i.opponent1_id)):null;s.push({player_id:i.opponent1_id?parseInt(i.opponent1_id):null,display_name:(f==null?void 0:f.full_name)||((u=i.opponent1_name)==null?void 0:u.trim())||"Opponent 1",side:"B",role:"opponent_1",is_tracked:!1})}if(i.match_type==="doubles"&&(i.opponent2_id||i.opponent2_name)){const f=i.opponent2_id?r==null?void 0:r.find(h=>h.player_id===parseInt(i.opponent2_id)):null;s.push({player_id:i.opponent2_id?parseInt(i.opponent2_id):null,display_name:(f==null?void 0:f.full_name)||((d=i.opponent2_name)==null?void 0:d.trim())||"Opponent 2",side:"B",role:"opponent_2",is_tracked:!1})}const o=i.sets.map(f=>({set:{set_number:f.set_number,games_side_a:parseInt(f.games_won)||0,games_side_b:parseInt(f.games_lost)||0,tiebreak_played:!1,tiebreak_score:null,notes:null},techStats:[],tacticalStats:[],pmStats:[]}));console.log("Submitting match data:",{match:a,players:s,sets:o}),t.mutate({match:a,players:s,sets:o},{onSuccess:()=>{console.log("Match created successfully"),e("/dashboard/matches")},onError:f=>{console.error("Failed to create match:",f),console.error("Error details:",f.message,f.details)}})};return l.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 pb-12",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:l.jsx(ld,{className:"h-4 w-4"})}),l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"New Match"})]}),l.jsx(Pde,{onSubmit:n,isSubmitting:t.isPending}),t.isError&&l.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-red-800",children:[l.jsx("p",{className:"font-semibold",children:"Error saving match"}),l.jsx("p",{className:"text-sm mt-1",children:"Please check the console for details."})]})]})}function kde(){const{id:e}=sd(),t=parseInt(e||"0"),r=fn(),{data:n,isLoading:i}=Rw(t),a=ude(),{register:s,handleSubmit:o,watch:c}=$w({values:n?{match_date:n.match_date,location:n.location||"",surface:n.surface,final_result:n.final_result||"win",score_line:n.score_line||"",tournament_name:n.tournament_name||"",weather:n.weather||"",notes:n.notes||"",status:n.status||"scheduled",started_at:n.started_at?new Date(n.started_at).toISOString().slice(0,16):"",completed_at:n.completed_at?new Date(n.completed_at).toISOString().slice(0,16):""}:void 0}),u=c("status"),d=f=>{const h={...f,started_at:f.started_at&&f.started_at.trim()!==""?f.started_at:null,completed_at:f.completed_at&&f.completed_at.trim()!==""?f.completed_at:null};a.mutate({matchId:t,updates:h},{onSuccess:()=>{r(`/dashboard/matches/${t}`)},onError:p=>{console.error("Failed to update match:",p)}})};return i?l.jsx("div",{className:"p-8",children:"Loading..."}):n?l.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 pb-12",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(we,{variant:"ghost",size:"icon",onClick:()=>r(`/dashboard/matches/${t}`),children:l.jsx(ld,{className:"h-4 w-4"})}),l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Edit Match"})]}),l.jsxs("form",{onSubmit:o(d),className:"space-y-8",children:[l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-6",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Match Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Date"}),l.jsx(Z,{type:"date",...s("match_date")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Location"}),l.jsx(Z,{...s("location"),placeholder:"e.g. Melbourne Park"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Surface"}),l.jsxs("select",{...s("surface"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"hard",children:"Hard"}),l.jsx("option",{value:"clay",children:"Clay"}),l.jsx("option",{value:"grass",children:"Grass"}),l.jsx("option",{value:"carpet",children:"Carpet"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Result"}),l.jsxs("select",{...s("final_result"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"win",children:"Win"}),l.jsx("option",{value:"loss",children:"Loss"}),l.jsx("option",{value:"retired",children:"Retired"})]})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Score Line"}),l.jsx(Z,{...s("score_line"),placeholder:"e.g. 6-4 3-6 7-5"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Tournament"}),l.jsx(Z,{...s("tournament_name"),placeholder:"Optional"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Weather"}),l.jsx(Z,{...s("weather"),placeholder:"Optional"})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Notes"}),l.jsx("textarea",{...s("notes"),className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm",placeholder:"Optional match notes"})]})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6 space-y-6",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Match Status & Timing"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Match Status"}),l.jsxs("select",{...s("status"),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[l.jsx("option",{value:"scheduled",children:"Scheduled (Not Started)"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Started At (Optional)"}),l.jsx(Z,{type:"datetime-local",...s("started_at"),disabled:u==="scheduled"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:u==="scheduled"?"Auto-set when match starts":"When the match began"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Completed At (Optional)"}),l.jsx(Z,{type:"datetime-local",...s("completed_at"),disabled:u!=="completed"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:u!=="completed"?"Only for completed matches":"When the match ended"})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx(we,{type:"button",variant:"outline",onClick:()=>r(`/dashboard/matches/${t}`),children:"Cancel"}),l.jsx(we,{type:"submit",disabled:a.isPending,children:a.isPending?"Saving...":"Save Changes"})]}),a.isError&&l.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 p-4 text-red-800",children:[l.jsx("p",{className:"font-semibold",children:"Error updating match"}),l.jsx("p",{className:"text-sm mt-1",children:"Please try again."})]})]})]}):l.jsx("div",{className:"p-8",children:"Match not found"})}function Ade(){const e=Xt();return Wt({mutationFn:async({setId:t,data:r})=>{const{error:n}=await Y.from("sets").update(r).eq("set_id",t);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function Tde(){const e=Xt();return Wt({mutationFn:async({setId:t,matchPlayerId:r,data:n})=>{if(!r)throw new Error("Match Player ID is required");const{data:i}=await Y.from("set_player_tech_stats").select("set_player_tech_id").eq("set_id",t).eq("match_player_id",r).maybeSingle();if(i){const{error:a}=await Y.from("set_player_tech_stats").update(n).eq("set_id",t).eq("match_player_id",r);if(a)throw a}else{const{error:a}=await Y.from("set_player_tech_stats").insert({...n,set_id:t,match_player_id:r});if(a)throw a}},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function Cde(){const e=Xt();return Wt({mutationFn:async({setId:t,matchPlayerId:r,data:n})=>{if(!r)throw new Error("Match Player ID is required");const{data:i}=await Y.from("set_player_tactical_stats").select("set_player_tactical_id").eq("set_id",t).eq("match_player_id",r).maybeSingle();if(i){const{error:a}=await Y.from("set_player_tactical_stats").update(n).eq("set_id",t).eq("match_player_id",r);if(a)throw a}else{const{error:a}=await Y.from("set_player_tactical_stats").insert({...n,set_id:t,match_player_id:r});if(a)throw a}},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function $de(){const e=Xt();return Wt({mutationFn:async({setId:t,matchPlayerId:r,data:n})=>{if(!r)throw new Error("Match Player ID is required");const{data:i}=await Y.from("set_player_physical_mental_stats").select("set_player_pm_id").eq("set_id",t).eq("match_player_id",r).maybeSingle();if(i){const{error:a}=await Y.from("set_player_physical_mental_stats").update(n).eq("set_id",t).eq("match_player_id",r);if(a)throw a}else{const{error:a}=await Y.from("set_player_physical_mental_stats").insert({...n,set_id:t,match_player_id:r});if(a)throw a}},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function Rde(){const e=Xt();return Wt({mutationFn:async({matchId:t,setNumber:r})=>{const{data:n,error:i}=await Y.from("sets").insert({match_id:t,set_number:r,games_side_a:0,games_side_b:0,tiebreak_played:!1}).select().single();if(i)throw i;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function Mde(){const e=Xt();return Wt({mutationFn:async t=>{const{error:r}=await Y.from("sets").delete().eq("set_id",t);if(r)throw r},onSuccess:()=>{e.invalidateQueries({queryKey:["matches"]})}})}function Ide({setId:e,matchPlayerId:t,initialData:r,onSuccess:n,onCancel:i}){const a=Tde(),[s,o]=O.useState({first_serve_in:(r==null?void 0:r.first_serve_in)??0,first_serve_total:(r==null?void 0:r.first_serve_total)??0,first_serve_points_won:(r==null?void 0:r.first_serve_points_won)??0,second_serve_in:(r==null?void 0:r.second_serve_in)??0,second_serve_total:(r==null?void 0:r.second_serve_total)??0,second_serve_points_won:(r==null?void 0:r.second_serve_points_won)??0,aces:(r==null?void 0:r.aces)??0,double_faults:(r==null?void 0:r.double_faults)??0,serve_plus1_points_won:(r==null?void 0:r.serve_plus1_points_won)??0,returns_in:(r==null?void 0:r.returns_in)??0,returns_total:(r==null?void 0:r.returns_total)??0,deep_returns:(r==null?void 0:r.deep_returns)??0,return_winners:(r==null?void 0:r.return_winners)??0,return_unforced_errors:(r==null?void 0:r.return_unforced_errors)??0,breaks_won:(r==null?void 0:r.breaks_won)??0,break_points_won:(r==null?void 0:r.break_points_won)??0,break_points_total:(r==null?void 0:r.break_points_total)??0,avg_rally_length:(r==null?void 0:r.avg_rally_length)??0,long_rallies_won:(r==null?void 0:r.long_rallies_won)??0,long_rallies_lost:(r==null?void 0:r.long_rallies_lost)??0,attacking_points_played:(r==null?void 0:r.attacking_points_played)??0,attacking_points_won:(r==null?void 0:r.attacking_points_won)??0,defensive_points_played:(r==null?void 0:r.defensive_points_played)??0,defensive_points_won:(r==null?void 0:r.defensive_points_won)??0,fh_winners:(r==null?void 0:r.fh_winners)??0,fh_unforced_errors:(r==null?void 0:r.fh_unforced_errors)??0,fh_forced_errors_drawn:(r==null?void 0:r.fh_forced_errors_drawn)??0,bh_winners:(r==null?void 0:r.bh_winners)??0,bh_unforced_errors:(r==null?void 0:r.bh_unforced_errors)??0,bh_forced_errors_drawn:(r==null?void 0:r.bh_forced_errors_drawn)??0,net_approaches:(r==null?void 0:r.net_approaches)??0,net_points_won:(r==null?void 0:r.net_points_won)??0,volley_winners:(r==null?void 0:r.volley_winners)??0,volley_errors:(r==null?void 0:r.volley_errors)??0,smash_winners:(r==null?void 0:r.smash_winners)??0,smash_errors:(r==null?void 0:r.smash_errors)??0}),c=(d,f)=>{const h=f===""?0:parseFloat(f);o(p=>({...p,[d]:h}))},u=async d=>{if(d.preventDefault(),!t){console.error("Match Player ID is required");return}try{await a.mutateAsync({setId:e,matchPlayerId:t,data:s}),n==null||n()}catch(f){console.error("Failed to update technical stats:",f)}};return l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Serve Performance"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Aces"}),l.jsx(Z,{type:"number",min:"0",value:s.aces,onChange:d=>c("aces",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Double Faults"}),l.jsx(Z,{type:"number",min:"0",value:s.double_faults,onChange:d=>c("double_faults",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"1st Serve In"}),l.jsx(Z,{type:"number",min:"0",value:s.first_serve_in,onChange:d=>c("first_serve_in",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"1st Serve Total"}),l.jsx(Z,{type:"number",min:"0",value:s.first_serve_total,onChange:d=>c("first_serve_total",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"1st Serve Points Won"}),l.jsx(Z,{type:"number",min:"0",value:s.first_serve_points_won,onChange:d=>c("first_serve_points_won",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"2nd Serve In"}),l.jsx(Z,{type:"number",min:"0",value:s.second_serve_in,onChange:d=>c("second_serve_in",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"2nd Serve Total"}),l.jsx(Z,{type:"number",min:"0",value:s.second_serve_total,onChange:d=>c("second_serve_total",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"2nd Serve Points Won"}),l.jsx(Z,{type:"number",min:"0",value:s.second_serve_points_won,onChange:d=>c("second_serve_points_won",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Serve +1 Points Won"}),l.jsx(Z,{type:"number",min:"0",value:s.serve_plus1_points_won,onChange:d=>c("serve_plus1_points_won",d.target.value)})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Return Performance"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Returns In"}),l.jsx(Z,{type:"number",min:"0",value:s.returns_in,onChange:d=>c("returns_in",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Returns Total"}),l.jsx(Z,{type:"number",min:"0",value:s.returns_total,onChange:d=>c("returns_total",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Deep Returns"}),l.jsx(Z,{type:"number",min:"0",value:s.deep_returns,onChange:d=>c("deep_returns",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Return Winners"}),l.jsx(Z,{type:"number",min:"0",value:s.return_winners,onChange:d=>c("return_winners",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Return UE"}),l.jsx(Z,{type:"number",min:"0",value:s.return_unforced_errors,onChange:d=>c("return_unforced_errors",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Breaks Won"}),l.jsx(Z,{type:"number",min:"0",value:s.breaks_won,onChange:d=>c("breaks_won",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Break Points Won"}),l.jsx(Z,{type:"number",min:"0",value:s.break_points_won,onChange:d=>c("break_points_won",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Break Points Total"}),l.jsx(Z,{type:"number",min:"0",value:s.break_points_total,onChange:d=>c("break_points_total",d.target.value)})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Groundstrokes"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"FH Winners"}),l.jsx(Z,{type:"number",min:"0",value:s.fh_winners,onChange:d=>c("fh_winners",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"FH UE"}),l.jsx(Z,{type:"number",min:"0",value:s.fh_unforced_errors,onChange:d=>c("fh_unforced_errors",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"FH Forced Errors Drawn"}),l.jsx(Z,{type:"number",min:"0",value:s.fh_forced_errors_drawn,onChange:d=>c("fh_forced_errors_drawn",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"BH Winners"}),l.jsx(Z,{type:"number",min:"0",value:s.bh_winners,onChange:d=>c("bh_winners",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"BH UE"}),l.jsx(Z,{type:"number",min:"0",value:s.bh_unforced_errors,onChange:d=>c("bh_unforced_errors",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"BH Forced Errors Drawn"}),l.jsx(Z,{type:"number",min:"0",value:s.bh_forced_errors_drawn,onChange:d=>c("bh_forced_errors_drawn",d.target.value)})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Rally Statistics"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Avg Rally Length"}),l.jsx(Z,{type:"number",min:"0",step:"0.1",value:s.avg_rally_length,onChange:d=>c("avg_rally_length",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Long Rallies Won"}),l.jsx(Z,{type:"number",min:"0",value:s.long_rallies_won,onChange:d=>c("long_rallies_won",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Long Rallies Lost"}),l.jsx(Z,{type:"number",min:"0",value:s.long_rallies_lost,onChange:d=>c("long_rallies_lost",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Attacking Points Played"}),l.jsx(Z,{type:"number",min:"0",value:s.attacking_points_played,onChange:d=>c("attacking_points_played",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Attacking Points Won"}),l.jsx(Z,{type:"number",min:"0",value:s.attacking_points_won,onChange:d=>c("attacking_points_won",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Defensive Points Played"}),l.jsx(Z,{type:"number",min:"0",value:s.defensive_points_played,onChange:d=>c("defensive_points_played",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Defensive Points Won"}),l.jsx(Z,{type:"number",min:"0",value:s.defensive_points_won,onChange:d=>c("defensive_points_won",d.target.value)})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Net Play"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Net Approaches"}),l.jsx(Z,{type:"number",min:"0",value:s.net_approaches,onChange:d=>c("net_approaches",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Net Points Won"}),l.jsx(Z,{type:"number",min:"0",value:s.net_points_won,onChange:d=>c("net_points_won",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Volley Winners"}),l.jsx(Z,{type:"number",min:"0",value:s.volley_winners,onChange:d=>c("volley_winners",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Volley Errors"}),l.jsx(Z,{type:"number",min:"0",value:s.volley_errors,onChange:d=>c("volley_errors",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Smash Winners"}),l.jsx(Z,{type:"number",min:"0",value:s.smash_winners,onChange:d=>c("smash_winners",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Smash Errors"}),l.jsx(Z,{type:"number",min:"0",value:s.smash_errors,onChange:d=>c("smash_errors",d.target.value)})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[i&&l.jsx(we,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),l.jsx(we,{type:"submit",disabled:a.isPending,children:a.isPending?"Saving...":"Save Changes"})]}),a.isError&&l.jsx("div",{className:"text-sm text-red-600",children:"Failed to update stats. Please try again."})]})}function Lde({setId:e,matchPlayerId:t,initialData:r,onSuccess:n,onCancel:i}){const a=Cde(),[s,o]=O.useState({game_deuce_played:(r==null?void 0:r.game_deuce_played)??0,game_deuce_won:(r==null?void 0:r.game_deuce_won)??0,bp_saved:(r==null?void 0:r.bp_saved)??0,bp_faced:(r==null?void 0:r.bp_faced)??0,game_from_40_0_lost:(r==null?void 0:r.game_from_40_0_lost)??0,deep_shots:(r==null?void 0:r.deep_shots)??0,mid_court_shots:(r==null?void 0:r.mid_court_shots)??0,short_balls_given:(r==null?void 0:r.short_balls_given)??0,shots_to_opponent_bh:(r==null?void 0:r.shots_to_opponent_bh)??0,shots_to_opponent_fh:(r==null?void 0:r.shots_to_opponent_fh)??0}),c=(d,f)=>{const h=f===""?0:parseInt(f);o(p=>({...p,[d]:h}))},u=async d=>{d.preventDefault();try{await a.mutateAsync({setId:e,matchPlayerId:t,data:s}),n==null||n()}catch(f){console.error("Failed to update tactical stats:",f)}};return l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Deuce Games"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Deuce Games Played"}),l.jsx(Z,{type:"number",min:"0",value:s.game_deuce_played,onChange:d=>c("game_deuce_played",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Deuce Games Won"}),l.jsx(Z,{type:"number",min:"0",value:s.game_deuce_won,onChange:d=>c("game_deuce_won",d.target.value)})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Break Points"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"BP Saved"}),l.jsx(Z,{type:"number",min:"0",value:s.bp_saved,onChange:d=>c("bp_saved",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"BP Faced"}),l.jsx(Z,{type:"number",min:"0",value:s.bp_faced,onChange:d=>c("bp_faced",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Games from 40-0 Lost"}),l.jsx(Z,{type:"number",min:"0",value:s.game_from_40_0_lost,onChange:d=>c("game_from_40_0_lost",d.target.value)})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Shot Placement"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Deep Shots"}),l.jsx(Z,{type:"number",min:"0",value:s.deep_shots,onChange:d=>c("deep_shots",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Mid Court Shots"}),l.jsx(Z,{type:"number",min:"0",value:s.mid_court_shots,onChange:d=>c("mid_court_shots",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Short Balls Given"}),l.jsx(Z,{type:"number",min:"0",value:s.short_balls_given,onChange:d=>c("short_balls_given",d.target.value)})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Target Direction"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Shots to Opponent BH"}),l.jsx(Z,{type:"number",min:"0",value:s.shots_to_opponent_bh,onChange:d=>c("shots_to_opponent_bh",d.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Shots to Opponent FH"}),l.jsx(Z,{type:"number",min:"0",value:s.shots_to_opponent_fh,onChange:d=>c("shots_to_opponent_fh",d.target.value)})]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[i&&l.jsx(we,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),l.jsx(we,{type:"submit",disabled:a.isPending,children:a.isPending?"Saving...":"Save Changes"})]}),a.isError&&l.jsx("div",{className:"text-sm text-red-600",children:"Failed to update tactical stats. Please try again."})]})}function Dde({setId:e,matchPlayerId:t,initialData:r,onSuccess:n,onCancel:i}){const a=$de(),[s,o]=O.useState({speed_rating:(r==null?void 0:r.speed_rating)??5,recovery_rating:(r==null?void 0:r.recovery_rating)??5,fatigue_errors:(r==null?void 0:r.fatigue_errors)??0,confidence_rating:(r==null?void 0:r.confidence_rating)??5,emotion_control:(r==null?void 0:r.emotion_control)??5,focus_rating:(r==null?void 0:r.focus_rating)??5,tactical_adjustment:(r==null?void 0:r.tactical_adjustment)??5,coach_notes:(r==null?void 0:r.coach_notes)??""}),c=(d,f)=>{o(h=>({...h,[d]:f}))},u=async d=>{d.preventDefault();try{await a.mutateAsync({setId:e,matchPlayerId:t,data:s}),n==null||n()}catch(f){console.error("Failed to update physical/mental stats:",f)}};return l.jsxs("form",{onSubmit:u,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Physical Performance"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Speed Rating (1-10)"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Z,{type:"range",min:"1",max:"10",value:s.speed_rating,onChange:d=>c("speed_rating",parseInt(d.target.value)),className:"flex-1"}),l.jsx("span",{className:"font-semibold text-indigo-600 w-8 text-center",children:s.speed_rating})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Recovery Rating (1-10)"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Z,{type:"range",min:"1",max:"10",value:s.recovery_rating,onChange:d=>c("recovery_rating",parseInt(d.target.value)),className:"flex-1"}),l.jsx("span",{className:"font-semibold text-indigo-600 w-8 text-center",children:s.recovery_rating})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Fatigue Errors"}),l.jsx(Z,{type:"number",min:"0",value:s.fatigue_errors,onChange:d=>c("fatigue_errors",parseInt(d.target.value))})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Mental Performance"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Confidence Rating (1-10)"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Z,{type:"range",min:"1",max:"10",value:s.confidence_rating,onChange:d=>c("confidence_rating",parseInt(d.target.value)),className:"flex-1"}),l.jsx("span",{className:"font-semibold text-indigo-600 w-8 text-center",children:s.confidence_rating})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Emotion Control (1-10)"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Z,{type:"range",min:"1",max:"10",value:s.emotion_control,onChange:d=>c("emotion_control",parseInt(d.target.value)),className:"flex-1"}),l.jsx("span",{className:"font-semibold text-indigo-600 w-8 text-center",children:s.emotion_control})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Focus Rating (1-10)"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Z,{type:"range",min:"1",max:"10",value:s.focus_rating,onChange:d=>c("focus_rating",parseInt(d.target.value)),className:"flex-1"}),l.jsx("span",{className:"font-semibold text-indigo-600 w-8 text-center",children:s.focus_rating})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Tactical Adjustment (1-10)"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Z,{type:"range",min:"1",max:"10",value:s.tactical_adjustment,onChange:d=>c("tactical_adjustment",parseInt(d.target.value)),className:"flex-1"}),l.jsx("span",{className:"font-semibold text-indigo-600 w-8 text-center",children:s.tactical_adjustment})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-indigo-600",children:"Coach Notes"}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Notes"}),l.jsx("textarea",{className:"w-full min-h-[100px] px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:s.coach_notes,onChange:d=>c("coach_notes",d.target.value),placeholder:"Add coach observations, mental state notes, or physical condition details..."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[i&&l.jsx(we,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),l.jsx(we,{type:"submit",disabled:a.isPending,children:a.isPending?"Saving...":"Save Changes"})]}),a.isError&&l.jsx("div",{className:"text-sm text-red-600",children:"Failed to update physical/mental stats. Please try again."})]})}function Fde({set:e,onSuccess:t,onCancel:r}){const n=Ade(),[i,a]=O.useState({games_side_a:e.games_side_a??0,games_side_b:e.games_side_b??0,tiebreak_played:e.tiebreak_played??!1,tiebreak_score:e.tiebreak_score??"",notes:e.notes??""}),s=(c,u)=>{a(d=>({...d,[c]:u}))},o=async c=>{c.preventDefault();try{await n.mutateAsync({setId:e.set_id,data:i}),t==null||t()}catch(u){console.error("Failed to update set info:",u)}};return l.jsxs("form",{onSubmit:o,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"font-semibold text-indigo-600",children:["Set ",e.set_number," - Basic Information"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Side A Games"}),l.jsx(Z,{type:"number",min:"0",value:i.games_side_a,onChange:c=>s("games_side_a",parseInt(c.target.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Side B Games"}),l.jsx(Z,{type:"number",min:"0",value:i.games_side_b,onChange:c=>s("games_side_b",parseInt(c.target.value))})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"tiebreak",checked:i.tiebreak_played,onChange:c=>s("tiebreak_played",c.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),l.jsx("label",{htmlFor:"tiebreak",className:"text-sm text-muted-foreground",children:"Tiebreak Played"})]}),i.tiebreak_played&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Tiebreak Score"}),l.jsx(Z,{type:"text",placeholder:"e.g., 7-5",value:i.tiebreak_score,onChange:c=>s("tiebreak_score",c.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Notes"}),l.jsx("textarea",{className:"w-full min-h-[80px] px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:i.notes,onChange:c=>s("notes",c.target.value),placeholder:"Add any notes about this set..."})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[r&&l.jsx(we,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),l.jsx(we,{type:"submit",disabled:n.isPending,children:n.isPending?"Saving...":"Save Changes"})]}),n.isError&&l.jsx("div",{className:"text-sm text-red-600",children:"Failed to update set information. Please try again."})]})}function Bde({set:e,matchPlayerId:t,playerInfo:r,isOpponent:n=!1,onClose:i}){var v,y,x,m;const[a,s]=O.useState(new Set(["basic"])),o=(v=e.set_player_tech_stats)==null?void 0:v.find(g=>g.match_player_id===t),c=(y=e.set_player_tactical_stats)==null?void 0:y.find(g=>g.match_player_id===t),u=(x=e.set_player_physical_mental_stats)==null?void 0:x.find(g=>g.match_player_id===t),d=n?{bgGradient:"from-orange-50 to-white",border:"border-orange-200",text:"text-orange-900",textLight:"text-orange-600",buttonHover:"hover:bg-orange-100 hover:text-orange-600",expandedBorder:"border-orange-400",iconColor:"text-orange-600"}:{bgGradient:"from-indigo-50 to-white",border:"border-indigo-200",text:"text-indigo-900",textLight:"text-indigo-600",buttonHover:"hover:bg-indigo-100 hover:text-indigo-600",expandedBorder:"border-indigo-400",iconColor:"text-indigo-600"},f=((m=r==null?void 0:r.players)==null?void 0:m.full_name)||(r==null?void 0:r.display_name)||"Player",h=g=>{s(b=>{const _=new Set(b);return _.has(g)?_.delete(g):_.add(g),_})},p=[{id:"basic",label:"Basic Info",icon:"",description:"Games, tiebreak, and set result"},{id:"technical",label:"Technical Stats",icon:"",description:"Serve, groundstrokes, net play"},{id:"tactical",label:"Tactical Stats",icon:"",description:"Deuce games, break points, shot placement"},{id:"physical",label:"Physical/Mental",icon:"",description:"Ratings and coach notes"}];return l.jsxs("div",{className:`bg-gradient-to-br ${d.bgGradient} rounded-2xl border-2 ${d.border} shadow-xl p-6 space-y-4`,children:[l.jsxs("div",{className:`flex items-center justify-between pb-4 border-b-2 ${d.border}`,children:[l.jsxs("div",{children:[l.jsxs("h3",{className:`text-2xl font-bold ${d.text}`,children:["Edit Set ",e.set_number," Statistics"]}),l.jsxs("p",{className:`text-sm ${d.textLight} mt-1`,children:[f," ",n&&l.jsx("span",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-0.5 rounded-full ml-2",children:"Opponent"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click on any section below to expand and edit"})]}),l.jsx("button",{onClick:i,className:`text-gray-400 transition-colors p-2 rounded-full ${d.buttonHover}`,"aria-label":"Close",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"space-y-3",children:p.map(g=>{const b=a.has(g.id);return l.jsxs("div",{className:`border-2 rounded-xl transition-all ${b?`${d.expandedBorder} bg-white shadow-lg`:`border-gray-200 bg-white hover:${d.border} hover:shadow-md`}`,children:[l.jsxs("button",{onClick:()=>h(g.id),className:"w-full px-6 py-4 flex items-center justify-between text-left transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-2xl",children:g.icon}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-lg text-gray-900",children:g.label}),l.jsx("p",{className:"text-sm text-gray-500",children:g.description})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:b?l.jsx(qD,{className:`h-5 w-5 ${d.iconColor}`}):l.jsx(UD,{className:"h-5 w-5 text-gray-400"})})]}),b&&l.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-gray-100",children:[g.id==="basic"&&l.jsx(Fde,{set:e,onSuccess:()=>{},onCancel:i}),g.id==="technical"&&l.jsx(Ide,{setId:e.set_id,matchPlayerId:t,initialData:o,onSuccess:()=>{},onCancel:i}),g.id==="tactical"&&l.jsx(Lde,{setId:e.set_id,matchPlayerId:t,initialData:c,onSuccess:()=>{},onCancel:i}),g.id==="physical"&&l.jsx(Dde,{setId:e.set_id,matchPlayerId:t,initialData:u,onSuccess:()=>{},onCancel:i})]})]},g.id)})}),l.jsx("div",{className:`pt-4 border-t-2 ${d.border} text-center`,children:l.jsx("p",{className:`text-sm ${d.textLight}`,children:" Tip: You can expand multiple sections at once to edit different stats simultaneously"})})]})}function Ude(){var k,T,M,I,D,F,q,R,B;const{id:e}=sd(),t=parseInt(e||"0"),{data:r,isLoading:n}=Rw(t),[i,a]=O.useState(0),[s,o]=O.useState(null),[c,u]=O.useState(null),[d,f]=O.useState("team"),h=Rde(),p=Mde();if(O.useEffect(()=>{if(r&&r.match_players&&r.match_players.length>0&&!c){const U=r.match_players.find(V=>V.side==="A")||r.match_players[0];u(U.match_player_id)}},[r,c]),n)return l.jsx("div",{className:"p-8",children:"Loading match details..."});if(!r)return l.jsx("div",{className:"p-8",children:"Match not found"});const v=r.sets||[],y=v[i],x=(k=y==null?void 0:y.set_player_tech_stats)==null?void 0:k.find(U=>U.match_player_id===c),m=(T=y==null?void 0:y.set_player_tactical_stats)==null?void 0:T.find(U=>U.match_player_id===c),g=(M=y==null?void 0:y.set_player_physical_mental_stats)==null?void 0:M.find(U=>U.match_player_id===c),b=r.format==="doubles",_=((I=r.match_players)==null?void 0:I.filter(U=>U.side==="A"))||[],w=((D=r.match_players)==null?void 0:D.filter(U=>U.side==="B"||!U.is_tracked))||[],j=w.map(U=>{var V;return((V=U.players)==null?void 0:V.full_name)||U.display_name}).join(" + "),S=d==="team"?_:w,N=(F=r.match_players)==null?void 0:F.find(U=>U.match_player_id===c),P=async()=>{try{await h.mutateAsync({matchId:r.match_id,setNumber:v.length+1})}catch(U){console.error("Failed to add set:",U)}},A=async U=>{if(confirm("Are you sure you want to delete this set? This action cannot be undone."))try{await p.mutateAsync(U),i>=v.length-1&&a(Math.max(0,v.length-2))}catch(V){console.error("Failed to delete set:",V)}};return l.jsxs("div",{className:"space-y-8 pb-12",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(gt,{to:"/dashboard/matches",children:l.jsx(we,{variant:"ghost",size:"icon",children:l.jsx(ld,{className:"h-4 w-4"})})}),l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Match Details"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(gt,{to:`/dashboard/matches/${t}/edit`,children:l.jsxs(we,{variant:"outline",className:"gap-2",children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Match"]})}),l.jsx(gt,{to:`/dashboard/matches/${t}/compare`,children:l.jsxs(we,{variant:"outline",className:"gap-2",children:[l.jsx(el,{className:"h-4 w-4"}),"Compare Performance"]})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:[l.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-center",children:[l.jsxs("div",{className:"text-center md:text-left",children:[l.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Team"}),b&&l.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Doubles"})]}),l.jsx("div",{className:"space-y-1",children:_.length>0?_.map(U=>{var V;return l.jsx("h3",{className:"text-xl font-bold text-indigo-600",children:((V=U.players)==null?void 0:V.full_name)||U.display_name},U.match_player_id)}):l.jsx("h3",{className:"text-2xl font-bold text-indigo-600",children:"Unknown"})})]}),l.jsxs("div",{className:"text-center flex flex-col items-center",children:[l.jsx("div",{className:"text-4xl font-black tracking-tight my-2",children:r.score_line}),l.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-sm font-medium ${r.final_result==="win"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(q=r.final_result)==null?void 0:q.toUpperCase()})]}),l.jsxs("div",{className:"text-center md:text-right",children:[l.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Opponent",b?"s":""]}),l.jsx("h3",{className:"text-2xl font-bold text-gray-700",children:j||"Unknown"})]})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(Ns,{className:"h-4 w-4"}),l.jsx("span",{children:r.match_date?new Date(r.match_date).toLocaleDateString():"-"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(YA,{className:"h-4 w-4"}),l.jsx("span",{children:r.location||"Unknown Location"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(Kn,{className:"h-4 w-4"}),l.jsx("span",{className:"capitalize",children:r.format||"-"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx("span",{className:"font-semibold",children:"Surface:"}),l.jsx("span",{className:"capitalize",children:r.surface||"-"})]})]}),r.notes&&!r.notes.startsWith("Partner:")&&l.jsxs("div",{className:"mt-4 pt-4 border-t text-sm text-muted-foreground",children:[l.jsx("span",{className:"font-semibold text-gray-700",children:"Notes:"})," ",r.notes.replace(/Partner: .*\n?/,"")]})]}),l.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-4 space-y-4",children:[l.jsxs("div",{className:"flex space-x-2 justify-center",children:[l.jsxs("button",{onClick:()=>{f("team"),_.length>0&&u(_[0].match_player_id)},className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-semibold transition-all ${d==="team"?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l.jsx(ln,{className:"w-4 h-4"}),"Your Team"]}),l.jsxs("button",{onClick:()=>{f("opponents"),w.length>0&&u(w[0].match_player_id)},className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-semibold transition-all ${d==="opponents"?"bg-orange-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[l.jsx(ln,{className:"w-4 h-4"}),"Opponents"]})]}),S.length>1&&l.jsx("div",{className:"flex space-x-2 justify-center flex-wrap gap-2",children:S.map(U=>{var V;return l.jsx("button",{onClick:()=>u(U.match_player_id),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all ${c===U.match_player_id?d==="team"?"bg-indigo-100 border-2 border-indigo-600 text-indigo-700":"bg-orange-100 border-2 border-orange-600 text-orange-700":"bg-gray-50 border-2 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:((V=U.players)==null?void 0:V.full_name)||U.display_name},U.match_player_id)})}),N&&l.jsx("div",{className:"text-center",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Viewing stats for"," ",l.jsx("span",{className:`font-semibold ${d==="team"?"text-indigo-600":"text-orange-600"}`,children:((R=N.players)==null?void 0:R.full_name)||N.display_name})," ","(",d==="team"?"Your Team":"Opponent",")"]})})]}),v.length>0&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 flex-1",children:v.map((U,V)=>l.jsxs("button",{onClick:()=>a(V),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${i===V?"bg-indigo-600 text-white":"bg-white border text-gray-600 hover:bg-gray-50"}`,children:["Set ",U.set_number," (",U.games_side_a,"-",U.games_side_b,")"]},U.set_id))}),l.jsxs(we,{onClick:P,size:"sm",className:"ml-4",disabled:h.isPending,children:[l.jsx(hu,{className:"h-4 w-4 mr-1"}),"Add Set"]})]}),s===(y==null?void 0:y.set_id)&&c!==null?l.jsx(Bde,{set:y,matchPlayerId:c,playerInfo:N,isOpponent:d==="opponents",onClose:()=>o(null)}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsxs(we,{onClick:()=>o(y==null?void 0:y.set_id),variant:"outline",size:"sm",className:d==="opponents"?"border-orange-300 hover:bg-orange-50":"",children:[l.jsx(ZD,{className:"h-4 w-4 mr-1"}),"Edit Stats for ",((B=N==null?void 0:N.players)==null?void 0:B.full_name)||(N==null?void 0:N.display_name)||"Player"]}),l.jsxs(we,{onClick:()=>A(y==null?void 0:y.set_id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:p.isPending||v.length===1,children:[l.jsx(JA,{className:"h-4 w-4 mr-1"}),"Delete Set"]})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsx("h4",{className:"font-semibold mb-4 text-indigo-600",children:"Serve Performance"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Aces"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.aces)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Double Faults"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.double_faults)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"1st Serve %"}),l.jsxs("span",{className:"font-medium",children:[x!=null&&x.first_serve_total?Math.round((x.first_serve_in||0)/x.first_serve_total*100):0,"%"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"1st Serve Points Won"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.first_serve_points_won)||0})]})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsx("h4",{className:"font-semibold mb-4 text-indigo-600",children:"Groundstrokes"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"FH Winners"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.fh_winners)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"FH Unforced Errors"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.fh_unforced_errors)||0})]}),l.jsx("div",{className:"border-t my-2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"BH Winners"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.bh_winners)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"BH Unforced Errors"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.bh_unforced_errors)||0})]})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsx("h4",{className:"font-semibold mb-4 text-indigo-600",children:"Net & Return"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Net Points Won"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.net_points_won)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Volley Winners"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.volley_winners)||0})]}),l.jsx("div",{className:"border-t my-2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Return Winners"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.return_winners)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Break Points Won"}),l.jsx("span",{className:"font-medium",children:(x==null?void 0:x.break_points_won)||0})]})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsx("h4",{className:"font-semibold mb-4 text-indigo-600",children:"Tactical Performance"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Deuce Games Won"}),l.jsxs("span",{className:"font-medium",children:[(m==null?void 0:m.game_deuce_won)||0,"/",(m==null?void 0:m.game_deuce_played)||0]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"BP Saved"}),l.jsxs("span",{className:"font-medium",children:[(m==null?void 0:m.bp_saved)||0,"/",(m==null?void 0:m.bp_faced)||0]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Deep Shots"}),l.jsx("span",{className:"font-medium",children:(m==null?void 0:m.deep_shots)||0})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Short Balls Given"}),l.jsx("span",{className:"font-medium",children:(m==null?void 0:m.short_balls_given)||0})]})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsx("h4",{className:"font-semibold mb-4 text-indigo-600",children:"Physical Performance"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Speed Rating"}),l.jsxs("span",{className:"font-medium",children:[(g==null?void 0:g.speed_rating)||0,"/10"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Recovery Rating"}),l.jsxs("span",{className:"font-medium",children:[(g==null?void 0:g.recovery_rating)||0,"/10"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Fatigue Errors"}),l.jsx("span",{className:"font-medium",children:(g==null?void 0:g.fatigue_errors)||0})]})]})]}),l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsx("h4",{className:"font-semibold mb-4 text-indigo-600",children:"Mental Performance"}),l.jsxs("div",{className:"space-y-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Confidence"}),l.jsxs("span",{className:"font-medium",children:[(g==null?void 0:g.confidence_rating)||0,"/10"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Emotion Control"}),l.jsxs("span",{className:"font-medium",children:[(g==null?void 0:g.emotion_control)||0,"/10"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Focus"}),l.jsxs("span",{className:"font-medium",children:[(g==null?void 0:g.focus_rating)||0,"/10"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Tactical Adjustment"}),l.jsxs("span",{className:"font-medium",children:[(g==null?void 0:g.tactical_adjustment)||0,"/10"]})]})]})]})]}),(g==null?void 0:g.coach_notes)&&l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsx("h4",{className:"font-semibold mb-3 text-indigo-600",children:"Coach Notes"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:g.coach_notes})]})]})]}),v.length===0&&l.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No sets recorded for this match yet."}),l.jsxs(we,{onClick:P,disabled:h.isPending,children:[l.jsx(hu,{className:"h-4 w-4 mr-1"}),"Add First Set"]})]})]})}function zde(e){const{data:t,isLoading:r}=Rw(e);return $n({queryKey:["match-comparison",e],queryFn:async()=>{if(!t)throw new Error("Match not found");const n=t.format==="doubles",i=s=>{if(!s)return;const o=t.sets||[];let c=!1,u=0,d=0,f=0,h=0,p=0,v=0,y=0,x=0,m=0,g=0,b=0,_=0,w=0,j=0,S=0,N=0,P=0,A=0,k=0,T=0,M=0,I=0,D=0,F=0;if(o.forEach(q=>{var U,V;const R=(U=q.set_player_tech_stats)==null?void 0:U.find(K=>K.match_player_id===s),B=(V=q.set_player_physical_mental_stats)==null?void 0:V.find(K=>K.match_player_id===s);R&&(c=!0,u+=R.aces||0,d+=R.double_faults||0,f+=R.first_serve_in||0,h+=R.first_serve_total||0,p+=R.first_serve_points_won||0,v+=R.second_serve_points_won||0,y+=R.fh_winners||0,x+=R.fh_unforced_errors||0,m+=R.bh_winners||0,g+=R.bh_unforced_errors||0,b+=R.net_points_won||0,_+=R.volley_winners||0,w+=R.return_winners||0,j+=R.break_points_won||0,S+=R.break_points_total||0,R.avg_rally_length&&(N+=R.avg_rally_length,P++),A+=R.long_rallies_won||0,k+=R.long_rallies_lost||0),B&&(c=!0,T+=B.speed_rating||0,M+=B.recovery_rating||0,I+=B.confidence_rating||0,D+=B.focus_rating||0,F++)}),!!c)return{aces:u,doubleFaults:d,firstServePercentage:h>0?Math.round(f/h*100):0,firstServePointsWon:p,secondServePointsWon:v,forehandWinners:y,forehandErrors:x,backhandWinners:m,backhandErrors:g,netPointsWon:b,volleyWinners:_,returnWinners:w,breakPointsWon:j,breakPointsTotal:S,avgRallyLength:P>0?Math.round(N/P):0,longRalliesWon:A,longRalliesLost:k,speedRating:F>0?Math.round(T/F):0,recoveryRating:F>0?Math.round(M/F):0,confidenceRating:F>0?Math.round(I/F):0,focusRating:F>0?Math.round(D/F):0}},a=[];return t.match_players&&t.match_players.length>0&&t.match_players.forEach(s=>{a.push({name:s.display_name,role:s.role,stats:i(s.match_player_id)})}),{matchId:t.match_id,matchType:n?"doubles":"singles",matchDate:t.match_date,location:t.location,surface:t.surface,finalResult:t.final_result,scoreLine:t.score_line,players:a}},enabled:!!t&&!r})}function Hg({player:e,isWinner:t}){const r=!!e.stats,n=()=>{switch(e.role){case"player":return"bg-indigo-100 text-indigo-800";case"partner":return"bg-blue-100 text-blue-800";case"opponent_1":case"opponent_2":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=()=>{switch(e.role){case"player":return"You";case"partner":return"Partner";case"opponent_1":return"Opponent 1";case"opponent_2":return"Opponent 2";default:return""}};return l.jsxs(Ae,{className:`${t?"ring-2 ring-green-500":""}`,children:[l.jsxs(Ke,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(db,{className:"h-5 w-5 text-muted-foreground"}),l.jsx(Ge,{className:"text-lg",children:e.name})]}),t&&l.jsx(FD,{className:"h-5 w-5 text-green-600"})]}),l.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${n()} w-fit`,children:i()})]}),l.jsx(Te,{children:!r||!e.stats?l.jsxs("div",{className:"text-center py-8 text-muted-foreground text-sm",children:[l.jsx("p",{children:"Detailed statistics not available"}),l.jsx("p",{className:"text-xs mt-1",children:"Only tracked for main player"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold mb-2 text-indigo-600",children:"Serve"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Aces"}),l.jsxs("span",{className:"font-medium flex items-center",children:[e.stats.aces,l.jsx(tl,{className:"h-3 w-3 ml-1 text-green-600"})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Double Faults"}),l.jsxs("span",{className:"font-medium flex items-center",children:[e.stats.doubleFaults,l.jsx(rF,{className:"h-3 w-3 ml-1 text-red-600"})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"1st Serve %"}),l.jsxs("span",{className:"font-medium",children:[e.stats.firstServePercentage,"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${e.stats.firstServePercentage}%`}})})]})]}),l.jsxs("div",{className:"pt-3 border-t",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2 text-indigo-600",children:"Groundstrokes"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Forehand"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-green-600 text-xs",children:["W: ",e.stats.forehandWinners]}),l.jsxs("span",{className:"text-red-600 text-xs",children:["E: ",e.stats.forehandErrors]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Backhand"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-green-600 text-xs",children:["W: ",e.stats.backhandWinners]}),l.jsxs("span",{className:"text-red-600 text-xs",children:["E: ",e.stats.backhandErrors]})]})]})]})]}),l.jsxs("div",{className:"pt-3 border-t",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2 text-indigo-600",children:"Net & Return"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Net Points Won"}),l.jsx("span",{className:"font-medium",children:e.stats.netPointsWon})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Return Winners"}),l.jsx("span",{className:"font-medium",children:e.stats.returnWinners})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Break Points"}),l.jsxs("span",{className:"font-medium",children:[e.stats.breakPointsWon,"/",e.stats.breakPointsTotal]})]})]})]}),l.jsxs("div",{className:"pt-3 border-t",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2 text-indigo-600",children:"Performance Ratings"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Speed"}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5 mr-2",children:l.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${e.stats.speedRating*10}%`}})}),l.jsxs("span",{className:"font-medium",children:[e.stats.speedRating,"/10"]})]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Recovery"}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5 mr-2",children:l.jsx("div",{className:"bg-green-600 h-1.5 rounded-full",style:{width:`${e.stats.recoveryRating*10}%`}})}),l.jsxs("span",{className:"font-medium",children:[e.stats.recoveryRating,"/10"]})]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Confidence"}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5 mr-2",children:l.jsx("div",{className:"bg-purple-600 h-1.5 rounded-full",style:{width:`${e.stats.confidenceRating*10}%`}})}),l.jsxs("span",{className:"font-medium",children:[e.stats.confidenceRating,"/10"]})]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Focus"}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1.5 mr-2",children:l.jsx("div",{className:"bg-orange-600 h-1.5 rounded-full",style:{width:`${e.stats.focusRating*10}%`}})}),l.jsxs("span",{className:"font-medium",children:[e.stats.focusRating,"/10"]})]})]})]})]})]})})]})}function Wde({playerStats:e,playerName:t}){if(!e)return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center space-x-2",children:[l.jsx(el,{className:"h-5 w-5"}),l.jsx("span",{children:"Performance Overview"})]})}),l.jsx(Te,{children:l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:l.jsx("p",{children:"Statistics not available for comparison"})})})]});const r=e.forehandWinners+e.backhandWinners+e.volleyWinners+e.returnWinners+e.aces,n=e.forehandErrors+e.backhandErrors+e.doubleFaults,i=n>0?(r/n).toFixed(2):r.toFixed(2),a=e.breakPointsTotal>0?Math.round(e.breakPointsWon/e.breakPointsTotal*100):0,s=[{label:"Serve",value:e.firstServePercentage,max:100,color:"bg-blue-500"},{label:"Groundstrokes",value:Math.min(100,r/Math.max(n,1)*20),max:100,color:"bg-green-500"},{label:"Net Play",value:Math.min(100,e.netPointsWon*5),max:100,color:"bg-purple-500"},{label:"Return",value:a,max:100,color:"bg-orange-500"},{label:"Physical",value:(e.speedRating+e.recoveryRating)*5,max:100,color:"bg-red-500"},{label:"Mental",value:(e.confidenceRating+e.focusRating)*5,max:100,color:"bg-indigo-500"}];return l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center space-x-2",children:[l.jsx(el,{className:"h-5 w-5"}),l.jsxs("span",{children:["Performance Overview - ",t]})]})}),l.jsxs(Te,{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Winners"})]}),l.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-red-600",children:n}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Errors"})]}),l.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:i}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Winner/Error Ratio"})]}),l.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[l.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[a,"%"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Break Point Conv."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Performance Categories"}),s.map(o=>l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-muted-foreground",children:o.label}),l.jsxs("span",{className:"font-medium",children:[Math.round(o.value),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:`${o.color} h-3 rounded-full transition-all duration-500`,style:{width:`${Math.min(100,o.value)}%`}})})]},o.label))]}),l.jsxs("div",{className:"pt-4 border-t",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Shot Distribution"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:"Aces"}),l.jsx("span",{className:"font-medium text-green-600",children:e.aces})]}),l.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:"Double Faults"}),l.jsx("span",{className:"font-medium text-red-600",children:e.doubleFaults})]}),l.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:"FH Winners"}),l.jsx("span",{className:"font-medium text-green-600",children:e.forehandWinners})]}),l.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:"FH Errors"}),l.jsx("span",{className:"font-medium text-red-600",children:e.forehandErrors})]}),l.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:"BH Winners"}),l.jsx("span",{className:"font-medium text-green-600",children:e.backhandWinners})]}),l.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:"BH Errors"}),l.jsx("span",{className:"font-medium text-red-600",children:e.backhandErrors})]}),l.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:"Volley Winners"}),l.jsx("span",{className:"font-medium text-green-600",children:e.volleyWinners})]}),l.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-muted-foreground",children:"Net Points Won"}),l.jsx("span",{className:"font-medium text-blue-600",children:e.netPointsWon})]})]})]}),l.jsxs("div",{className:"pt-4 border-t",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Rally Performance"}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[l.jsx("p",{className:"text-xl font-bold text-gray-700",children:e.avgRallyLength}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Rally Length"})]}),l.jsxs("div",{className:"p-3 bg-green-50 rounded",children:[l.jsx("p",{className:"text-xl font-bold text-green-600",children:e.longRalliesWon}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Long Rallies Won"})]}),l.jsxs("div",{className:"p-3 bg-red-50 rounded",children:[l.jsx("p",{className:"text-xl font-bold text-red-600",children:e.longRalliesLost}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Long Rallies Lost"})]})]})]})]})]})}function qde(){var u,d,f;const{id:e}=sd(),t=parseInt(e||"0"),{data:r,isLoading:n,error:i}=zde(t);if(n)return l.jsx("div",{className:"p-8",children:"Loading comparison data..."});if(i)return l.jsxs("div",{className:"p-8 text-red-600",children:["Error loading comparison: ",i.message]});if(!r)return l.jsx("div",{className:"p-8",children:"No comparison data available"});const a=r.matchType==="doubles",s=r.players.find(h=>h.stats),o=a?r.players.filter(h=>h.role==="player"||h.role==="partner"):[],c=a?r.players.filter(h=>h.role.startsWith("opponent")):[];return l.jsxs("div",{className:"space-y-8 pb-12",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(gt,{to:`/dashboard/matches/${t}`,children:l.jsx(we,{variant:"ghost",size:"icon",children:l.jsx(ld,{className:"h-4 w-4"})})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Performance Comparison"}),l.jsx("p",{className:"text-muted-foreground",children:a?"Doubles Match - 4 Players":"Singles Match - 2 Players"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6",children:[l.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-center",children:[l.jsx("div",{className:"text-center md:text-left",children:l.jsx("h3",{className:"text-xl font-bold",children:a?`${o.map(h=>h.name).join(" + ")}`:(u=r.players[0])==null?void 0:u.name})}),l.jsxs("div",{className:"text-center flex flex-col items-center",children:[l.jsx("div",{className:"text-3xl font-black tracking-tight my-2",children:r.scoreLine||"N/A"}),l.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-sm font-medium ${r.finalResult==="win"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(d=r.finalResult)==null?void 0:d.toUpperCase()})]}),l.jsx("div",{className:"text-center md:text-right",children:l.jsx("h3",{className:"text-xl font-bold",children:a?`${c.map(h=>h.name).join(" + ")}`:(f=r.players[1])==null?void 0:f.name})})]}),l.jsxs("div",{className:"mt-6 pt-6 border-t grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(Ns,{className:"h-4 w-4"}),l.jsx("span",{children:r.matchDate?new Date(r.matchDate).toLocaleDateString():"-"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(YA,{className:"h-4 w-4"}),l.jsx("span",{children:r.location||"Unknown Location"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(Kn,{className:"h-4 w-4"}),l.jsx("span",{className:"capitalize",children:r.matchType})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx("span",{className:"font-semibold",children:"Surface:"}),l.jsx("span",{className:"capitalize",children:r.surface||"-"})]})]})]}),s&&l.jsx(Wde,{playerStats:s.stats,playerName:s.name}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Player Statistics"}),a?l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium mb-3 text-indigo-600",children:"Your Team"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:o.map((h,p)=>l.jsx(Hg,{player:h,isWinner:r.finalResult==="win"},p))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium mb-3 text-gray-600",children:"Opponent Team"}),l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c.map((h,p)=>l.jsx(Hg,{player:h,isWinner:r.finalResult==="loss"},p))})]})]}):l.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:r.players.map((h,p)=>l.jsx(Hg,{player:h,isWinner:h.role==="player"&&r.finalResult==="win"||h.role.startsWith("opponent")&&r.finalResult==="loss"},p))})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("span",{className:"font-semibold",children:"Note:"})," Detailed statistics are only available for the main player. Opponent and partner statistics are not tracked in the current system."]})})]})}function Vde(e,t){const r=Xn();return $n({queryKey:["playerComparison",e,t,r],queryFn:async()=>{if(!e||!t)throw new Error("Both player IDs are required");if(!r)throw new Error("No team membership found");const{data:n,error:i}=await Y.from("players").select("team_id").eq("player_id",e).single(),{data:a,error:s}=await Y.from("players").select("team_id").eq("player_id",t).single();if(i||s||!n||!a)throw new Error("Failed to verify player ownership");if(n.team_id!==r||a.team_id!==r)throw new Error("One or both players do not belong to your team");const o=await sP(e,r),c=await sP(t,r),u=await Hde(e,t,r);return{player1:o,player2:c,headToHead:u}},enabled:!!e&&!!t&&e!==t&&!!r})}async function sP(e,t){const{data:r}=await Y.from("players").select("full_name").eq("player_id",e).eq("team_id",t).single(),n=r,{data:i}=await Y.from("matches").select(`
            *,
            match_players!inner(
                player_id,
                side
            )
        `).eq("match_players.player_id",e).eq("team_id",t),a=i,s=(a==null?void 0:a.length)||0,o=(a==null?void 0:a.filter(m=>m.final_result==="win").length)||0,c=(a==null?void 0:a.filter(m=>m.final_result==="loss").length)||0,u=s>0?o/s*100:0,d={};a==null||a.forEach(m=>{const g=m.surface;d[g]||(d[g]={wins:0,losses:0,total:0,winRate:0}),d[g].total++,m.final_result==="win"?d[g].wins++:m.final_result==="loss"&&d[g].losses++}),Object.keys(d).forEach(m=>{const g=d[m];g.winRate=g.total>0?g.wins/g.total*100:0});const f=(a==null?void 0:a.filter(m=>m.format==="singles"))||[],h=(a==null?void 0:a.filter(m=>m.format==="doubles"))||[],p=f.filter(m=>m.final_result==="win").length,v=h.filter(m=>m.final_result==="win").length,y={singles:{wins:p,losses:f.length-p,total:f.length,winRate:f.length>0?p/f.length*100:0},doubles:{wins:v,losses:h.length-v,total:h.length,winRate:h.length>0?v/h.length*100:0}},x={avgFirstServePercentage:0,avgAcesPerMatch:0,avgDoubleFaultsPerMatch:0,avgWinnersPerMatch:0,avgUnforcedErrorsPerMatch:0,avgNetSuccessRate:0};return{playerName:(n==null?void 0:n.full_name)||"Unknown",totalMatches:s,wins:o,losses:c,winRate:u,bySurface:d,byType:y,technicalStats:x}}async function Hde(e,t,r){const{data:n}=await Y.from("match_players").select("match_id").eq("player_id",e),{data:i}=await Y.from("match_players").select("match_id").eq("player_id",t),a=n,s=i,o=new Set((a==null?void 0:a.map(y=>y.match_id))||[]),c=new Set((s==null?void 0:s.map(y=>y.match_id))||[]),u=Array.from(o).filter(y=>c.has(y));if(u.length===0)return{totalMatches:0,player1Wins:0,player2Wins:0,matches:[]};const{data:d}=await Y.from("matches").select(`
            match_id,
            match_date,
            surface,
            score_line,
            final_result,
            match_players(player_id, side)
        `).in("match_id",u).eq("team_id",r).order("match_date",{ascending:!1}),f=d;let h=0,p=0;const v=(f==null?void 0:f.map(y=>{var b,_;const x=(b=y.match_players)==null?void 0:b.find(w=>w.player_id===e),m=(_=y.match_players)==null?void 0:_.find(w=>w.player_id===t);let g=e;return y.final_result==="win"&&(x==null?void 0:x.side)==="A"?(g=e,h++):y.final_result==="win"&&(m==null?void 0:m.side)==="A"||y.final_result==="loss"&&(x==null?void 0:x.side)==="A"?(g=t,p++):(g=e,h++),{matchId:y.match_id,date:y.match_date,winner:g,score:y.score_line,surface:y.surface}}))||[];return{totalMatches:u.length,player1Wins:h,player2Wins:p,matches:v}}function oP({selectedPlayerId:e,onSelect:t,label:r,excludePlayerId:n}){const{data:i,isLoading:a}=bm(),[s,o]=O.useState(!1),c=i==null?void 0:i.find(d=>d.player_id===e),u=(i==null?void 0:i.filter(d=>d.player_id!==n))||[];return a?l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:r}),l.jsx("div",{className:"h-12 bg-gray-100 rounded-lg animate-pulse"})]}):l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:r}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>o(!s),className:"w-full flex items-center justify-between gap-2 rounded-lg border bg-white px-4 py-3 text-left text-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary",children:[c?l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx(Pl,{url:c.avatar_url,alt:c.full_name,size:"sm"}),l.jsx("span",{className:"font-medium truncate",children:c.full_name})]}):l.jsx("span",{className:"text-muted-foreground",children:"Select a player..."}),l.jsx(KD,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]}),s&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),l.jsx("div",{className:"absolute z-20 mt-2 w-full max-h-80 overflow-auto rounded-lg border bg-white shadow-lg",children:u.length===0?l.jsx("div",{className:"px-4 py-3 text-sm text-muted-foreground",children:"No players available"}):l.jsxs(l.Fragment,{children:[e&&l.jsx("button",{type:"button",onClick:()=>{t(void 0),o(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 text-muted-foreground border-b",children:"Clear selection"}),u.map(d=>l.jsxs("button",{type:"button",onClick:()=>{t(d.player_id),o(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-100 transition-colors",children:[l.jsx(Pl,{url:d.avatar_url,alt:d.full_name,size:"sm"}),l.jsx("span",{className:"flex-1 font-medium truncate",children:d.full_name}),e===d.player_id&&l.jsx(BD,{className:"h-4 w-4 text-primary flex-shrink-0"})]},d.player_id))]})})]})]})]})}function rr({label:e,value1:t,value2:r,format:n="number",higherIsBetter:i=!0}){const a=i?t>r:t<r,s=i?r>t:r<t,o=c=>n==="percentage"?`${c.toFixed(1)}%`:n==="decimal"?c.toFixed(1):c.toString();return l.jsxs("div",{className:"grid grid-cols-7 gap-4 py-3 border-b last:border-0",children:[l.jsx("div",{className:`col-span-2 text-right font-medium ${a?"text-green-600":""}`,children:o(t)}),l.jsx("div",{className:"col-span-3 text-center text-sm text-muted-foreground",children:e}),l.jsx("div",{className:`col-span-2 text-left font-medium ${s?"text-green-600":""}`,children:o(r)})]})}function Kde({player1Stats:e,player2Stats:t,player1Name:r,player2Name:n}){if(!e||!t)return l.jsx(Ae,{children:l.jsx(Te,{className:"p-8 text-center text-muted-foreground",children:"Select both players to see comparison"})});const i=Array.from(new Set([...Object.keys(e.bySurface),...Object.keys(t.bySurface)]));return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(Kn,{className:"h-5 w-5 text-yellow-500"}),"Overall Record"]})}),l.jsxs(Te,{children:[l.jsxs("div",{className:"grid grid-cols-7 gap-4 pb-3 border-b-2 mb-3",children:[l.jsx("div",{className:"col-span-2 text-right font-bold text-blue-600",children:r}),l.jsx("div",{className:"col-span-3 text-center font-bold"}),l.jsx("div",{className:"col-span-2 text-left font-bold text-purple-600",children:n})]}),l.jsx(rr,{label:"Total Matches",value1:e.totalMatches,value2:t.totalMatches}),l.jsx(rr,{label:"Wins",value1:e.wins,value2:t.wins}),l.jsx(rr,{label:"Losses",value1:e.losses,value2:t.losses,higherIsBetter:!1}),l.jsx(rr,{label:"Win Rate",value1:e.winRate,value2:t.winRate,format:"percentage"})]})]}),l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(th,{className:"h-5 w-5 text-orange-500"}),"Surface Performance"]})}),l.jsx(Te,{children:i.map(a=>{const s=e.bySurface[a]||{winRate:0,wins:0},o=t.bySurface[a]||{winRate:0,wins:0};return l.jsxs("div",{className:"mb-4 last:mb-0",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2 capitalize",children:a}),l.jsx(rr,{label:"Win Rate",value1:s.winRate,value2:o.winRate,format:"percentage"}),l.jsx(rr,{label:"Wins / Total",value1:s.wins,value2:o.wins})]},a)})})]}),l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(tl,{className:"h-5 w-5 text-blue-500"}),"By Match Type"]})}),l.jsxs(Te,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Singles"}),l.jsx(rr,{label:"Win Rate",value1:e.byType.singles.winRate,value2:t.byType.singles.winRate,format:"percentage"}),l.jsx(rr,{label:"Matches Played",value1:e.byType.singles.total,value2:t.byType.singles.total})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Doubles"}),l.jsx(rr,{label:"Win Rate",value1:e.byType.doubles.winRate,value2:t.byType.doubles.winRate,format:"percentage"}),l.jsx(rr,{label:"Matches Played",value1:e.byType.doubles.total,value2:t.byType.doubles.total})]})]})]}),l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(aF,{className:"h-5 w-5 text-green-500"}),"Technical Averages"]})}),l.jsxs(Te,{children:[l.jsx(rr,{label:"1st Serve %",value1:e.technicalStats.avgFirstServePercentage,value2:t.technicalStats.avgFirstServePercentage,format:"percentage"}),l.jsx(rr,{label:"Aces / Match",value1:e.technicalStats.avgAcesPerMatch,value2:t.technicalStats.avgAcesPerMatch,format:"decimal"}),l.jsx(rr,{label:"Double Faults / Match",value1:e.technicalStats.avgDoubleFaultsPerMatch,value2:t.technicalStats.avgDoubleFaultsPerMatch,format:"decimal",higherIsBetter:!1}),l.jsx(rr,{label:"Winners / Match",value1:e.technicalStats.avgWinnersPerMatch,value2:t.technicalStats.avgWinnersPerMatch,format:"decimal"}),l.jsx(rr,{label:"Unforced Errors / Match",value1:e.technicalStats.avgUnforcedErrorsPerMatch,value2:t.technicalStats.avgUnforcedErrorsPerMatch,format:"decimal",higherIsBetter:!1}),l.jsx(rr,{label:"Net Success %",value1:e.technicalStats.avgNetSuccessRate,value2:t.technicalStats.avgNetSuccessRate,format:"percentage"})]})]})]})}function Gde({headToHead:e,player1Id:t,player1Name:r,player2Name:n}){return e.totalMatches===0?l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(kj,{className:"h-5 w-5 text-red-500"}),"Head-to-Head"]})}),l.jsx(Te,{children:l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"These players have not faced each other yet"})})]}):l.jsxs(Ae,{children:[l.jsx(Ke,{children:l.jsxs(Ge,{className:"flex items-center gap-2",children:[l.jsx(kj,{className:"h-5 w-5 text-red-500"}),"Head-to-Head Record"]})}),l.jsxs(Te,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-8 mb-6 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e.player1Wins}),l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:r})]}),l.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"-"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-bold text-purple-600",children:e.player2Wins}),l.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:n})]})]}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-semibold mb-3",children:["Match History (",e.totalMatches," matches)"]}),l.jsx("div",{className:"space-y-2",children:e.matches.map(i=>{const a=i.winner===t;return l.jsx(gt,{to:`/dashboard/matches/${i.matchId}`,className:"block group",children:l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-accent transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ns,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("span",{className:"text-sm",children:i.date?new Date(i.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown date"}),l.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded capitalize",children:i.surface})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[i.score&&l.jsx("span",{className:"text-sm text-muted-foreground",children:i.score}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Kn,{className:`h-4 w-4 ${a?"text-blue-600":"text-purple-600"}`}),l.jsx("span",{className:`text-sm font-medium ${a?"text-blue-600":"text-purple-600"}`,children:a?r:n})]})]})]})},i.matchId)})})]})]})]})}function Qde(){const[e,t]=e4(),[r,n]=O.useState(e.get("player1")?Number(e.get("player1")):void 0),[i,a]=O.useState(e.get("player2")?Number(e.get("player2")):void 0),{data:s,isLoading:o}=Vde(r,i);O.useEffect(()=>{const h=new URLSearchParams;r&&h.set("player1",r.toString()),i&&h.set("player2",i.toString()),t(h,{replace:!0})},[r,i,t]);const c=h=>{n(h)},u=h=>{a(h)},d=r&&i&&(s==null?void 0:s.player1)&&(s==null?void 0:s.player2),f=r===i&&r!==void 0;return l.jsxs("div",{className:"space-y-8 pb-12",children:[l.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-[#132d24] via-[#1a4030] to-[#a3cf08] p-8 text-white shadow-2xl",children:[l.jsx("div",{className:"absolute inset-0 bg-grid-white/10 [mask-image:linear-gradient(0deg,transparent,rgba(255,255,255,0.5))]"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:l.jsx(ln,{className:"h-8 w-8"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Player Comparison"}),l.jsx("p",{className:"text-[#a3cf08] mt-1 font-medium",children:"Compare performance between any 2 players"})]})]}),l.jsx("p",{className:"text-white/90 max-w-2xl",children:"Select two players to analyze their overall statistics, head-to-head record, and performance across different surfaces and match types."})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx(oP,{selectedPlayerId:r,onSelect:c,label:"Player 1",excludePlayerId:i}),l.jsx(oP,{selectedPlayerId:i,onSelect:u,label:"Player 2",excludePlayerId:r})]}),f&&l.jsx(Ae,{className:"border-red-200 bg-red-50",children:l.jsxs(Te,{className:"p-6 flex items-center gap-3 text-red-800",children:[l.jsx(iF,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("p",{className:"text-sm font-medium",children:"Please select two different players to compare"})]})}),o&&r&&i&&!f&&l.jsx(Ae,{children:l.jsxs(Te,{className:"p-12 text-center",children:[l.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading comparison data..."})]})}),!r&&!i&&!o&&l.jsx(Ae,{children:l.jsxs(Te,{className:"p-12 text-center",children:[l.jsx(ln,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground/50"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Players Selected"}),l.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Select two players from the dropdowns above to start comparing their performance statistics"})]})}),(r&&!i||!r&&i)&&l.jsx(Ae,{children:l.jsxs(Te,{className:"p-12 text-center",children:[l.jsx(ln,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground/50"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select Both Players"}),l.jsx("p",{className:"text-muted-foreground",children:"Please select a second player to see the comparison"})]})}),d&&!f&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(Gde,{headToHead:s.headToHead,player1Id:r,player2Id:i,player1Name:s.player1.playerName,player2Name:s.player2.playerName}),l.jsx(Kde,{player1Stats:s.player1,player2Stats:s.player2,player1Name:s.player1.playerName,player2Name:s.player2.playerName}),l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-green-800",children:[l.jsx("span",{className:"font-semibold",children:"Note:"})," Statistics are calculated based on all recorded matches for each player. Technical stats are averaged across all sets where data is available."]})})]})]})}function Yde(){const e=Xn();return $n({queryKey:["liveMatches",e],queryFn:async()=>{if(!e)throw new Error("No team membership found");const{data:t,error:r}=await Y.from("matches").select(`
          *,
          match_players (
            *,
            players:player_id (
              full_name,
              avatar_url
            )
          )
        `).eq("team_id",e).in("status",["in_progress","scheduled"]).order("match_date",{ascending:!1});if(r)throw r;return t},enabled:!!e})}function Xde(e,t){return{...t,fh_winners:e.fhWinners,bh_winners:e.bhWinners,fh_unforced_errors:e.fhUnforcedErrors,bh_unforced_errors:e.bhUnforcedErrors,aces:e.aces,double_faults:e.doubleFaults,long_rallies_won:e.longRalliesWon,long_rallies_lost:e.longRalliesLost,volley_winners:e.volleyWinners,volley_errors:e.volleyErrors}}function Jde(e){return e.completed_at?"finished":e.started_at?"in_progress":"planned"}function vR(e){const t=e.filter(s=>s.side==="A"),r=e.filter(s=>s.side==="B"),n=s=>s.map(o=>o.display_name).join(" / "),i=n(t),a=n(r);return`${i} vs ${a}`}function Kg(){return{serveQuality:null,returnQuality:null,unforcedErrorsLevel:null,winnersLevel:null,focusLevel:null,energyLevel:null}}function lP(){return{fhWinners:0,bhWinners:0,fhUnforcedErrors:0,bhUnforcedErrors:0,aces:0,doubleFaults:0,netErrors:0,longRalliesWon:0,longRalliesLost:0,volleyWinners:0,volleyErrors:0}}function cP(){return{first_serve_in:0,first_serve_total:0,first_serve_points_won:0,second_serve_in:0,second_serve_total:0,second_serve_points_won:0,aces:0,double_faults:0,serve_plus1_points_won:0,returns_in:0,returns_total:0,deep_returns:0,return_winners:0,return_unforced_errors:0,breaks_won:0,break_points_won:0,break_points_total:0,avg_rally_length:0,long_rallies_won:0,long_rallies_lost:0,attacking_points_played:0,attacking_points_won:0,defensive_points_played:0,defensive_points_won:0,fh_winners:0,fh_unforced_errors:0,fh_forced_errors_drawn:0,bh_winners:0,bh_unforced_errors:0,bh_forced_errors_drawn:0,net_approaches:0,net_points_won:0,volley_winners:0,volley_errors:0,smash_winners:0,smash_errors:0,game_deuce_played:0,game_deuce_won:0,bp_saved:0,bp_faced:0,game_from_40_0_lost:0,deep_shots:0,mid_court_shots:0,short_balls_given:0,shots_to_opponent_bh:0,shots_to_opponent_fh:0,speed_rating:5,recovery_rating:5,fatigue_errors:0,confidence_rating:5,emotion_control:5,focus_rating:5,tactical_adjustment:5,coach_notes:""}}function Zde(){const e=fn(),{data:t,isLoading:r,error:n}=Yde(),i=dde(),a=async u=>{try{await i.mutateAsync(u),e(`/dashboard/live/${u}`)}catch(d){console.error("Error starting match:",d),alert("Failed to start match")}},s=u=>{e(`/dashboard/live/${u}`)},o=u=>{const d={scheduled:"bg-blue-100 text-blue-800",in_progress:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800"},f={scheduled:"Scheduled",in_progress:"Live",completed:"Completed"};return l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d[u]||d.scheduled}`,children:f[u]||u})},c=u=>{const d=vR(u.match_players),f=u.status==="scheduled",h=u.status==="in_progress";return l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:d}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Format:"})," ",u.format==="singles"?"Singles":"Doubles"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Surface:"})," ",u.surface]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(u.match_date).toLocaleDateString()]}),u.location&&l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Location:"})," ",u.location]})]})]}),l.jsx("div",{children:o(u.status)})]}),l.jsxs("div",{className:"flex gap-3",children:[f&&l.jsx("button",{onClick:()=>a(u.match_id),disabled:i.isPending,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors",children:i.isPending?"Starting...":"Start Live Tracking"}),h&&l.jsx("button",{onClick:()=>s(u.match_id),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-medium transition-colors",children:"Continue Live Tracking"})]})]},u.match_id)};return r?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading live matches..."})]})})}):n?l.jsx("div",{className:"max-w-6xl mx-auto p-6",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-red-800",children:["Error loading matches: ",n.message]})})}):l.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Live Match Tracking"}),l.jsx("p",{className:"text-gray-600",children:"Select a match to start or continue live tracking"})]}),t&&t.length>0?l.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:t.map(c)}):l.jsx("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Live Matches"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"There are no scheduled or in-progress matches. Create a new match to get started."}),l.jsx("button",{onClick:()=>e("/dashboard/matches/new"),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 font-medium transition-colors",children:"Create New Match"})]})})]})}function efe(e){const t=Xn();return $n({queryKey:["liveMatch",e,t],queryFn:async()=>{if(!t)throw new Error("No team membership found");const{data:r,error:n}=await Y.from("matches").select(`
          *,
          match_players (
            *,
            players:player_id (
              full_name,
              avatar_url
            )
          ),
          sets (*)
        `).eq("match_id",e).eq("team_id",t).single();if(n)throw n;const i=r,a=(i.sets||[]).map(s=>({...s,status:Jde(s)}));return{...i,sets:a}},enabled:!!e&&!!t})}function tfe({tabs:e,activeTab:t,onTabChange:r}){return l.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm",children:l.jsx("div",{className:"flex",children:e.map(n=>{const i=t===n.id;return l.jsxs("button",{onClick:()=>r(n.id),className:`flex-1 flex flex-col items-center justify-center py-3 px-2 min-h-[60px] transition-all touch-manipulation ${i?"bg-green-50 border-b-4 border-green-600 text-green-700":"bg-white text-gray-600 hover:bg-gray-50 active:bg-gray-100"}`,"aria-label":n.label,"aria-current":i?"page":void 0,children:[l.jsx("div",{className:`text-2xl mb-1 ${i?"scale-110":""}`,children:n.icon}),l.jsx("span",{className:`text-xs font-medium ${i?"font-bold":""}`,children:n.label})]},n.id)})})})}function rfe({match:e}){const t=Xt(),[r,n]=O.useState(e.status),[i,a]=O.useState(e.notes||""),[s,o]=O.useState(!1),c=e.match_players.filter(x=>x.side==="A"),u=e.match_players.filter(x=>x.side==="B"),d=x=>x.map(m=>m.display_name).join(" / "),f=()=>!e.sets||e.sets.length===0?"No sets played":e.sets.map(x=>{const m=x.games_side_a||0,g=x.games_side_b||0;return`${m}-${g}`}).join(", "),h=Wt({mutationFn:async x=>{const m={status:x};x==="in_progress"&&!e.started_at?m.started_at=new Date().toISOString():x==="completed"&&!e.completed_at&&(m.completed_at=new Date().toISOString());const g=Y.from("matches").update(m).eq("match_id",e.match_id),{error:b}=await g;if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["liveMatch",e.match_id]})}}),p=Wt({mutationFn:async x=>{const m=Y.from("matches").update({notes:x}).eq("match_id",e.match_id),{error:g}=await m;if(g)throw g},onSuccess:()=>{t.invalidateQueries({queryKey:["liveMatch",e.match_id]}),o(!1)}}),v=x=>{n(x),h.mutate(x)},y=()=>{p.mutate(i)};return l.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Match Information"}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Side A:"}),l.jsx("span",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:d(c)})]}),l.jsx("div",{className:"flex items-center justify-center text-xl sm:text-2xl font-bold text-gray-400",children:"vs"}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Side B:"}),l.jsx("span",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:d(u)})]})]}),l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Format"}),l.jsx("div",{className:"font-medium capitalize text-sm sm:text-base",children:e.format})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Surface"}),l.jsx("div",{className:"font-medium text-sm sm:text-base",children:e.surface})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Date"}),l.jsx("div",{className:"font-medium text-sm sm:text-base",children:new Date(e.match_date).toLocaleDateString()})]}),l.jsxs("div",{className:"col-span-2 lg:col-span-1",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Status"}),l.jsxs("select",{value:r,onChange:x=>v(x.target.value),disabled:h.isPending,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm sm:text-base touch-manipulation disabled:opacity-50",children:[l.jsx("option",{value:"scheduled",children:"Scheduled"}),l.jsx("option",{value:"in_progress",children:"In Progress"}),l.jsx("option",{value:"completed",children:"Completed"})]})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Current Score"}),l.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:f()})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Match Notes"}),!s&&l.jsx("button",{onClick:()=>o(!0),className:"text-green-600 hover:text-green-700 font-medium text-sm touch-manipulation px-3 py-1",children:"Edit"})]}),s?l.jsxs("div",{className:"space-y-3",children:[l.jsx("textarea",{value:i,onChange:x=>a(x.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm sm:text-base",placeholder:"Add match notes..."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:y,disabled:p.isPending,className:"flex-1 sm:flex-none bg-green-600 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 font-medium text-sm sm:text-base touch-manipulation",children:p.isPending?"Saving...":"Save"}),l.jsx("button",{onClick:()=>{a(e.notes||""),o(!1)},className:"flex-1 sm:flex-none bg-gray-200 text-gray-700 px-4 sm:px-6 py-2 rounded-lg hover:bg-gray-300 font-medium text-sm sm:text-base touch-manipulation",children:"Cancel"})]})]}):l.jsx("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:l.jsx("p",{className:"text-sm sm:text-base text-gray-600 whitespace-pre-wrap",children:e.notes||"No notes available. Click Edit to add notes."})})]}),(e.location||e.tournament_name)&&l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3",children:"Location & Tournament"}),l.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.location&&l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[l.jsxs("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),l.jsx("span",{className:"text-gray-700 text-sm sm:text-base",children:e.location})]}),e.tournament_name&&l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[l.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),l.jsx("span",{className:"text-gray-700 text-sm sm:text-base",children:e.tournament_name})]})]})]}),e.pre_match_strategy&&l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3",children:"Pre-Match Strategy"}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4",children:l.jsx("p",{className:"text-sm sm:text-base text-gray-700 whitespace-pre-wrap",children:e.pre_match_strategy})})]})]})}function nfe(){const e=Xt();return Wt({mutationFn:async({matchId:t,gamesA:r=0,gamesB:n=0})=>{const{data:i,error:a}=await Y.from("sets").select("set_number").eq("match_id",t).order("set_number",{ascending:!1}).limit(1);if(a)throw a;const s=i&&i.length>0?i[0].set_number+1:1,o={match_id:t,set_number:s,games_side_a:r,games_side_b:n,started_at:new Date().toISOString(),tiebreak_played:!1},{data:c,error:u}=await Y.from("sets").insert(o).select().single();if(u)throw u;return c},onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["liveMatch",r.matchId]}),e.invalidateQueries({queryKey:["matches"]})}})}function ife({matchId:e,sets:t,selectedSetId:r,onSelectSet:n}){const i=nfe(),a=async()=>{try{const o=await i.mutateAsync({matchId:e});n(o.set_id)}catch(o){console.error("Error creating set:",o),alert("Failed to create set")}},s=o=>{const c={planned:"bg-gray-100 text-gray-700",in_progress:"bg-blue-100 text-blue-800",finished:"bg-green-100 text-green-800"};return l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c[o]||c.planned}`,children:o.replace("_"," ")})};return l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Sets"}),l.jsxs("button",{onClick:a,disabled:i.isPending,className:"w-full sm:w-auto bg-green-600 text-white px-4 py-3 sm:py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors flex items-center justify-center gap-2 touch-manipulation",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),i.isPending?"Creating...":"Create New Set"]})]}),t.length===0?l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{className:"text-sm sm:text-base",children:"No sets yet. Create the first set to begin tracking."})}):l.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.map(o=>l.jsxs("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all touch-manipulation ${r===o.set_id?"border-green-600 bg-green-50":"border-gray-200 hover:border-gray-300 bg-white active:bg-gray-50"}`,onClick:()=>n(o.set_id),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"font-bold text-lg",children:["Set ",o.set_number]}),s(o.status)]}),l.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[o.games_side_a??0," - ",o.games_side_b??0]}),o.tiebreak_played&&o.tiebreak_score&&l.jsxs("div",{className:"text-sm text-gray-600",children:["Tiebreak: ",o.tiebreak_score]}),r===o.set_id&&l.jsx("div",{className:"mt-3 pt-3 border-t border-green-200",children:l.jsx("span",{className:"text-sm font-medium text-green-700",children:" Selected"})})]},o.set_id))})]})}function afe({match:e,selectedSetId:t,onSelectSet:r}){const n=Xt(),i=e.sets||[],a=i.find(S=>S.set_id===t),[s,o]=O.useState((a==null?void 0:a.games_side_a)||0),[c,u]=O.useState((a==null?void 0:a.games_side_b)||0),[d,f]=O.useState((a==null?void 0:a.tiebreak_played)||!1),[h,p]=O.useState((a==null?void 0:a.tiebreak_score)||""),v=Wt({mutationFn:async({sideAGames:S,sideBGames:N})=>{if(!t)return;const P=Y.from("sets").update({games_side_a:S,games_side_b:N}).eq("set_id",t),{error:A}=await P;if(A)throw A},onSuccess:()=>{n.invalidateQueries({queryKey:["liveMatch",e.match_id]})}}),y=Wt({mutationFn:async()=>{if(!t)return;const S=Y.from("sets").update({completed_at:new Date().toISOString(),games_side_a:s,games_side_b:c,tiebreak_played:d,tiebreak_score:d?h:null}).eq("set_id",t),{error:N}=await S;if(N)throw N},onSuccess:()=>{n.invalidateQueries({queryKey:["liveMatch",e.match_id]})}}),x=Wt({mutationFn:async()=>{if(!t)return;const S=Y.from("sets").update({started_at:new Date().toISOString()}).eq("set_id",t),{error:N}=await S;if(N)throw N},onSuccess:()=>{n.invalidateQueries({queryKey:["liveMatch",e.match_id]})}}),m=(S,N)=>{if(S==="A"){const P=Math.max(0,s+N);o(P),v.mutate({sideAGames:P,sideBGames:c})}else{const P=Math.max(0,c+N);u(P),v.mutate({sideAGames:s,sideBGames:P})}},g=()=>{y.mutate()},b=()=>{x.mutate()};O.useState(()=>{a&&(o(a.games_side_a||0),u(a.games_side_b||0),f(a.tiebreak_played||!1),p(a.tiebreak_score||""))});const _=(a==null?void 0:a.completed_at)!==null,w=(a==null?void 0:a.started_at)!==null&&!_,j=!(a!=null&&a.started_at);return l.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"Set Management"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Create and manage sets for this match"})]}),l.jsx(ife,{matchId:e.match_id,sets:i,selectedSetId:t,onSelectSet:r}),i.length===0&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6 text-center",children:l.jsx("p",{className:"text-blue-800 font-medium text-sm sm:text-base",children:'Click "Create New Set" above to start tracking'})}),t&&a&&l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Quick Update"}),l.jsx("span",{className:`px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${_?"bg-blue-100 text-blue-700":w?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:_?"Completed":w?"In Progress":"Not Started"})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[l.jsx("div",{className:"text-sm sm:text-base text-gray-600 mb-4",children:"Games Score"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mb-2",children:"Side A"}),l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsx("button",{onClick:()=>m("A",-1),disabled:_||s===0,className:"w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center bg-red-100 text-red-600 rounded-lg hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold text-xl sm:text-2xl touch-manipulation transition-colors",children:""}),l.jsx("div",{className:"flex-1 text-center",children:l.jsx("div",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900",children:s})}),l.jsx("button",{onClick:()=>m("A",1),disabled:_,className:"w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center bg-green-100 text-green-600 rounded-lg hover:bg-green-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold text-xl sm:text-2xl touch-manipulation transition-colors",children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mb-2",children:"Side B"}),l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsx("button",{onClick:()=>m("B",-1),disabled:_||c===0,className:"w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center bg-red-100 text-red-600 rounded-lg hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold text-xl sm:text-2xl touch-manipulation transition-colors",children:""}),l.jsx("div",{className:"flex-1 text-center",children:l.jsx("div",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900",children:c})}),l.jsx("button",{onClick:()=>m("B",1),disabled:_,className:"w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center bg-green-100 text-green-600 rounded-lg hover:bg-green-200 disabled:opacity-50 disabled:cursor-not-allowed font-bold text-xl sm:text-2xl touch-manipulation transition-colors",children:"+"})]})]})]})]}),!_&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer touch-manipulation",children:[l.jsx("input",{type:"checkbox",checked:d,onChange:S=>f(S.target.checked),className:"w-5 h-5 sm:w-6 sm:h-6 rounded border-gray-300 text-green-600 focus:ring-green-500"}),l.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:"Tiebreak Played"})]}),d&&l.jsx("input",{type:"text",value:h,onChange:S=>p(S.target.value),placeholder:"e.g., 7-5",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm sm:text-base"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[j&&l.jsx("button",{onClick:b,disabled:x.isPending,className:"flex-1 bg-green-600 text-white px-4 sm:px-6 py-3 rounded-lg hover:bg-green-700 disabled:opacity-50 font-medium text-sm sm:text-base touch-manipulation transition-colors",children:x.isPending?"Starting...":"Start Set"}),w&&l.jsx("button",{onClick:g,disabled:y.isPending,className:"flex-1 bg-blue-600 text-white px-4 sm:px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 font-medium text-sm sm:text-base touch-manipulation transition-colors",children:y.isPending?"Completing...":"Complete Set"})]}),(a.started_at||a.completed_at)&&l.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2 text-sm sm:text-base",children:[a.started_at&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Started:"}),l.jsx("span",{className:"text-gray-900 font-medium",children:new Date(a.started_at).toLocaleTimeString()})]}),a.completed_at&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Completed:"}),l.jsx("span",{className:"text-gray-900 font-medium",children:new Date(a.completed_at).toLocaleTimeString()})]})]})]})]})}function sfe({players:e,selectedPlayerId:t,onSelectPlayer:r}){const n=e.filter(s=>s.side==="A"),i=e.filter(s=>s.side==="B"),a=s=>{var u;const o=t===s.match_player_id,c=(u=s.players)==null?void 0:u.avatar_url;return l.jsxs("button",{onClick:()=>r(s.match_player_id),className:`flex items-center gap-3 p-4 sm:p-5 rounded-lg border-2 transition-all touch-manipulation ${o?"border-green-600 bg-green-50":"border-gray-200 hover:border-gray-300 bg-white active:bg-gray-50"}`,children:[l.jsx("div",{className:"flex-shrink-0",children:c?l.jsx("img",{src:c,alt:s.display_name,className:"w-14 h-14 sm:w-12 sm:h-12 rounded-full object-cover"}):l.jsx("div",{className:"w-14 h-14 sm:w-12 sm:h-12 rounded-full bg-green-600 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-xl sm:text-lg",children:s.display_name.charAt(0).toUpperCase()})})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"font-bold text-gray-900 text-base sm:text-sm",children:s.display_name}),l.jsx("div",{className:"text-sm text-gray-600 capitalize",children:s.role.replace("_"," ")})]}),o&&l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"w-7 h-7 sm:w-6 sm:h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},s.match_player_id)};return l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Select Player to Track"}),l.jsxs("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Side A"}),l.jsx("div",{className:"space-y-3",children:n.map(a)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:"Side B"}),l.jsx("div",{className:"space-y-3",children:i.map(a)})]})]})]})}function ofe(e,t){const r=Xt(),[n,i]=O.useState({quickKPIs:Kg(),eventCounters:lP(),detailedStats:cP(),isLoading:!1,isSaving:!1,lastSaved:null}),a=O.useCallback(async(h,p)=>{i(v=>({...v,isLoading:!0}));try{const[v,y,x]=await Promise.all([Y.from("set_player_tech_stats").select("*").eq("set_id",h).eq("match_player_id",p).maybeSingle(),Y.from("set_player_tactical_stats").select("*").eq("set_id",h).eq("match_player_id",p).maybeSingle(),Y.from("set_player_physical_mental_stats").select("*").eq("set_id",h).eq("match_player_id",p).maybeSingle()]);if(v.error)throw v.error;if(y.error)throw y.error;if(x.error)throw x.error;const m=v.data,g=y.data,b=x.data,_={first_serve_in:(m==null?void 0:m.first_serve_in)??0,first_serve_total:(m==null?void 0:m.first_serve_total)??0,first_serve_points_won:(m==null?void 0:m.first_serve_points_won)??0,second_serve_in:(m==null?void 0:m.second_serve_in)??0,second_serve_total:(m==null?void 0:m.second_serve_total)??0,second_serve_points_won:(m==null?void 0:m.second_serve_points_won)??0,aces:(m==null?void 0:m.aces)??0,double_faults:(m==null?void 0:m.double_faults)??0,serve_plus1_points_won:(m==null?void 0:m.serve_plus1_points_won)??0,returns_in:(m==null?void 0:m.returns_in)??0,returns_total:(m==null?void 0:m.returns_total)??0,deep_returns:(m==null?void 0:m.deep_returns)??0,return_winners:(m==null?void 0:m.return_winners)??0,return_unforced_errors:(m==null?void 0:m.return_unforced_errors)??0,breaks_won:(m==null?void 0:m.breaks_won)??0,break_points_won:(m==null?void 0:m.break_points_won)??0,break_points_total:(m==null?void 0:m.break_points_total)??0,avg_rally_length:(m==null?void 0:m.avg_rally_length)??0,long_rallies_won:(m==null?void 0:m.long_rallies_won)??0,long_rallies_lost:(m==null?void 0:m.long_rallies_lost)??0,attacking_points_played:(m==null?void 0:m.attacking_points_played)??0,attacking_points_won:(m==null?void 0:m.attacking_points_won)??0,defensive_points_played:(m==null?void 0:m.defensive_points_played)??0,defensive_points_won:(m==null?void 0:m.defensive_points_won)??0,fh_winners:(m==null?void 0:m.fh_winners)??0,fh_unforced_errors:(m==null?void 0:m.fh_unforced_errors)??0,fh_forced_errors_drawn:(m==null?void 0:m.fh_forced_errors_drawn)??0,bh_winners:(m==null?void 0:m.bh_winners)??0,bh_unforced_errors:(m==null?void 0:m.bh_unforced_errors)??0,bh_forced_errors_drawn:(m==null?void 0:m.bh_forced_errors_drawn)??0,net_approaches:(m==null?void 0:m.net_approaches)??0,net_points_won:(m==null?void 0:m.net_points_won)??0,volley_winners:(m==null?void 0:m.volley_winners)??0,volley_errors:(m==null?void 0:m.volley_errors)??0,smash_winners:(m==null?void 0:m.smash_winners)??0,smash_errors:(m==null?void 0:m.smash_errors)??0,game_deuce_played:(g==null?void 0:g.game_deuce_played)??0,game_deuce_won:(g==null?void 0:g.game_deuce_won)??0,bp_saved:(g==null?void 0:g.bp_saved)??0,bp_faced:(g==null?void 0:g.bp_faced)??0,game_from_40_0_lost:(g==null?void 0:g.game_from_40_0_lost)??0,deep_shots:(g==null?void 0:g.deep_shots)??0,mid_court_shots:(g==null?void 0:g.mid_court_shots)??0,short_balls_given:(g==null?void 0:g.short_balls_given)??0,shots_to_opponent_bh:(g==null?void 0:g.shots_to_opponent_bh)??0,shots_to_opponent_fh:(g==null?void 0:g.shots_to_opponent_fh)??0,speed_rating:(b==null?void 0:b.speed_rating)??5,recovery_rating:(b==null?void 0:b.recovery_rating)??5,fatigue_errors:(b==null?void 0:b.fatigue_errors)??0,confidence_rating:(b==null?void 0:b.confidence_rating)??5,emotion_control:(b==null?void 0:b.emotion_control)??5,focus_rating:(b==null?void 0:b.focus_rating)??5,tactical_adjustment:(b==null?void 0:b.tactical_adjustment)??5,coach_notes:(b==null?void 0:b.coach_notes)??""},w={fhWinners:_.fh_winners,bhWinners:_.bh_winners,fhUnforcedErrors:_.fh_unforced_errors,bhUnforcedErrors:_.bh_unforced_errors,aces:_.aces,doubleFaults:_.double_faults,netErrors:0,longRalliesWon:_.long_rallies_won,longRalliesLost:_.long_rallies_lost,volleyWinners:_.volley_winners,volleyErrors:_.volley_errors};let j=Kg();if(b!=null&&b.coach_notes)try{const N=b.coach_notes.split(`
`).find(P=>P.startsWith("QUICK_KPIs:"));if(N){const P=N.replace("QUICK_KPIs:","").trim();j=JSON.parse(P)}}catch{console.log("Could not parse Quick KPIs from notes")}i({quickKPIs:j,eventCounters:w,detailedStats:_,isLoading:!1,isSaving:!1,lastSaved:null})}catch(v){console.error("Error loading stats:",v),i(y=>({...y,isLoading:!1}))}},[]);O.useEffect(()=>{e&&t?a(e,t):i({quickKPIs:Kg(),eventCounters:lP(),detailedStats:cP(),isLoading:!1,isSaving:!1,lastSaved:null})},[e,t,a]);const s=O.useRef({setId:null,matchPlayerId:null});O.useEffect(()=>{const h=s.current.setId,p=s.current.matchPlayerId;if(h&&p&&(h!==e||p!==t)){const v=n.eventCounters.fhWinners>0||n.eventCounters.bhWinners>0||n.eventCounters.aces>0||n.eventCounters.doubleFaults>0||n.eventCounters.fhUnforcedErrors>0||n.eventCounters.bhUnforcedErrors>0||n.eventCounters.longRalliesWon>0||n.eventCounters.longRalliesLost>0||n.eventCounters.volleyWinners>0||n.eventCounters.volleyErrors>0,y=n.detailedStats.first_serve_total>0||n.detailedStats.returns_total>0;if((v||y)&&!n.isSaving){console.log("Auto-saving before player switch:",{prevSetId:h,prevMatchPlayerId:p,eventCounters:n.eventCounters});const m={...n.detailedStats,fh_winners:n.eventCounters.fhWinners,bh_winners:n.eventCounters.bhWinners,fh_unforced_errors:n.eventCounters.fhUnforcedErrors,bh_unforced_errors:n.eventCounters.bhUnforcedErrors,aces:n.eventCounters.aces,double_faults:n.eventCounters.doubleFaults,long_rallies_won:n.eventCounters.longRalliesWon,long_rallies_lost:n.eventCounters.longRalliesLost,volley_winners:n.eventCounters.volleyWinners,volley_errors:n.eventCounters.volleyErrors},g={set_id:h,match_player_id:p,first_serve_in:m.first_serve_in,first_serve_total:m.first_serve_total,first_serve_points_won:m.first_serve_points_won,second_serve_in:m.second_serve_in,second_serve_total:m.second_serve_total,second_serve_points_won:m.second_serve_points_won,aces:m.aces,double_faults:m.double_faults,serve_plus1_points_won:m.serve_plus1_points_won,returns_in:m.returns_in,returns_total:m.returns_total,deep_returns:m.deep_returns,return_winners:m.return_winners,return_unforced_errors:m.return_unforced_errors,breaks_won:m.breaks_won,break_points_won:m.break_points_won,break_points_total:m.break_points_total,avg_rally_length:m.avg_rally_length,long_rallies_won:m.long_rallies_won,long_rallies_lost:m.long_rallies_lost,attacking_points_played:m.attacking_points_played,attacking_points_won:m.attacking_points_won,defensive_points_played:m.defensive_points_played,defensive_points_won:m.defensive_points_won,fh_winners:m.fh_winners,fh_unforced_errors:m.fh_unforced_errors,fh_forced_errors_drawn:m.fh_forced_errors_drawn,bh_winners:m.bh_winners,bh_unforced_errors:m.bh_unforced_errors,bh_forced_errors_drawn:m.bh_forced_errors_drawn,net_approaches:m.net_approaches,net_points_won:m.net_points_won,volley_winners:m.volley_winners,volley_errors:m.volley_errors,smash_winners:m.smash_winners,smash_errors:m.smash_errors},b={set_id:h,match_player_id:p,game_deuce_played:m.game_deuce_played,game_deuce_won:m.game_deuce_won,bp_saved:m.bp_saved,bp_faced:m.bp_faced,game_from_40_0_lost:m.game_from_40_0_lost,deep_shots:m.deep_shots,mid_court_shots:m.mid_court_shots,short_balls_given:m.short_balls_given,shots_to_opponent_bh:m.shots_to_opponent_bh,shots_to_opponent_fh:m.shots_to_opponent_fh},_={set_id:h,match_player_id:p,speed_rating:m.speed_rating,recovery_rating:m.recovery_rating,fatigue_errors:m.fatigue_errors,confidence_rating:m.confidence_rating,emotion_control:m.emotion_control,focus_rating:m.focus_rating,tactical_adjustment:m.tactical_adjustment,coach_notes:m.coach_notes};Promise.all([Y.from("set_player_tech_stats").upsert(g,{onConflict:"set_id,match_player_id"}),Y.from("set_player_tactical_stats").upsert(b,{onConflict:"set_id,match_player_id"}),Y.from("set_player_physical_mental_stats").upsert(_,{onConflict:"set_id,match_player_id"})]).then(()=>{console.log("Auto-save successful")}).catch(w=>{console.error("Auto-save error:",w)})}}s.current={setId:e,matchPlayerId:t}},[e,t,n]);const o=O.useCallback(h=>{i(p=>({...p,eventCounters:{...p.eventCounters,[h]:p.eventCounters[h]+1}}))},[]),c=O.useCallback(h=>{i(p=>({...p,eventCounters:{...p.eventCounters,[h]:Math.max(0,p.eventCounters[h]-1)}}))},[]),u=O.useCallback(h=>{i(p=>({...p,detailedStats:{...p.detailedStats,...h}}))},[]),d=O.useCallback(()=>{i(h=>{const p=Xde(h.eventCounters,h.detailedStats);return{...h,detailedStats:{...h.detailedStats,...p}}})},[]),f=Wt({mutationFn:async()=>{if(!e||!t)throw new Error("Set and player must be selected");const h=n.detailedStats,p=n.eventCounters,v={...h,fh_winners:p.fhWinners,bh_winners:p.bhWinners,fh_unforced_errors:p.fhUnforcedErrors,bh_unforced_errors:p.bhUnforcedErrors,aces:p.aces,double_faults:p.doubleFaults,long_rallies_won:p.longRalliesWon,long_rallies_lost:p.longRalliesLost,volley_winners:p.volleyWinners,volley_errors:p.volleyErrors};i(P=>({...P,isSaving:!0}));const y={set_id:e,match_player_id:t,first_serve_in:v.first_serve_in,first_serve_total:v.first_serve_total,first_serve_points_won:v.first_serve_points_won,second_serve_in:v.second_serve_in,second_serve_total:v.second_serve_total,second_serve_points_won:v.second_serve_points_won,aces:v.aces,double_faults:v.double_faults,serve_plus1_points_won:v.serve_plus1_points_won,returns_in:v.returns_in,returns_total:v.returns_total,deep_returns:v.deep_returns,return_winners:v.return_winners,return_unforced_errors:v.return_unforced_errors,breaks_won:v.breaks_won,break_points_won:v.break_points_won,break_points_total:v.break_points_total,avg_rally_length:v.avg_rally_length,long_rallies_won:v.long_rallies_won,long_rallies_lost:v.long_rallies_lost,attacking_points_played:v.attacking_points_played,attacking_points_won:v.attacking_points_won,defensive_points_played:v.defensive_points_played,defensive_points_won:v.defensive_points_won,fh_winners:v.fh_winners,fh_unforced_errors:v.fh_unforced_errors,fh_forced_errors_drawn:v.fh_forced_errors_drawn,bh_winners:v.bh_winners,bh_unforced_errors:v.bh_unforced_errors,bh_forced_errors_drawn:v.bh_forced_errors_drawn,net_approaches:v.net_approaches,net_points_won:v.net_points_won,volley_winners:v.volley_winners,volley_errors:v.volley_errors,smash_winners:v.smash_winners,smash_errors:v.smash_errors},x={set_id:e,match_player_id:t,game_deuce_played:v.game_deuce_played,game_deuce_won:v.game_deuce_won,bp_saved:v.bp_saved,bp_faced:v.bp_faced,game_from_40_0_lost:v.game_from_40_0_lost,deep_shots:v.deep_shots,mid_court_shots:v.mid_court_shots,short_balls_given:v.short_balls_given,shots_to_opponent_bh:v.shots_to_opponent_bh,shots_to_opponent_fh:v.shots_to_opponent_fh},m=JSON.stringify(n.quickKPIs),b=(v.coach_notes||"").split(`
`).filter(P=>!P.startsWith("QUICK_KPIs:")).join(`
`),_=`QUICK_KPIs:${m}
${b}`.trim(),w={set_id:e,match_player_id:t,speed_rating:v.speed_rating,recovery_rating:v.recovery_rating,fatigue_errors:v.fatigue_errors,confidence_rating:v.confidence_rating,emotion_control:v.emotion_control,focus_rating:v.focus_rating,tactical_adjustment:v.tactical_adjustment,coach_notes:_},[j,S,N]=await Promise.all([Y.from("set_player_tech_stats").upsert(y,{onConflict:"set_id,match_player_id"}),Y.from("set_player_tactical_stats").upsert(x,{onConflict:"set_id,match_player_id"}),Y.from("set_player_physical_mental_stats").upsert(w,{onConflict:"set_id,match_player_id"})]);if(j.error)throw j.error;if(S.error)throw S.error;if(N.error)throw N.error;return{success:!0}},onSuccess:()=>{i(h=>({...h,isSaving:!1,lastSaved:new Date})),r.invalidateQueries({queryKey:["matches"]}),r.invalidateQueries({queryKey:["liveMatch"]})},onError:h=>{console.error("Error saving stats:",h),i(p=>({...p,isSaving:!1}))}});return{state:n,incrementEvent:o,decrementEvent:c,updateDetailedStats:u,deriveDetailedStats:d,saveDetailedStats:f.mutate,isLoadingStats:n.isLoading,isSavingStats:n.isSaving||f.isPending}}function lfe({counters:e,onIncrement:t,onDecrement:r,playerName:n,playerAvatar:i,setNumber:a}){const s=[{key:"fhWinners",label:"FH Winner",color:"green"},{key:"bhWinners",label:"BH Winner",color:"green"},{key:"fhUnforcedErrors",label:"FH Unforced Error",color:"red"},{key:"bhUnforcedErrors",label:"BH Unforced Error",color:"red"},{key:"aces",label:"Ace",color:"green"},{key:"doubleFaults",label:"Double Fault",color:"red"},{key:"netErrors",label:"Net Error",color:"red"},{key:"longRalliesWon",label:"Long Rally Won",color:"blue"},{key:"longRalliesLost",label:"Long Rally Lost",color:"orange"},{key:"volleyWinners",label:"Volley Winner",color:"green"},{key:"volleyErrors",label:"Volley Error",color:"red"}],o=d=>{const f={green:"text-green-700",red:"text-red-700",blue:"text-blue-700",orange:"text-orange-700"};return f[d]||f.blue},c=e.fhWinners+e.bhWinners+e.aces+e.volleyWinners,u=e.fhUnforcedErrors+e.bhUnforcedErrors+e.doubleFaults+e.netErrors+e.volleyErrors;return l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:i?l.jsx("img",{src:i,alt:n||"Player",className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full object-cover border-2 border-green-500"}):l.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-500 flex items-center justify-center border-2 border-green-600",children:l.jsx("span",{className:"text-white font-bold text-lg sm:text-2xl",children:n?n.charAt(0).toUpperCase():"?"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:n||"Unknown Player"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a&&l.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:["Set ",a]}),l.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Live Tracking"})]})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs sm:text-sm font-medium text-green-600",children:"LIVE"})]})})]}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-3",children:"Tap +/ to record events (auto-saves when switching players)"})]}),l.jsx("div",{className:"space-y-2 mb-4 max-h-[60vh] overflow-y-auto",children:s.map(d=>{const f=e[d.key],h=f>0;return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsx("div",{className:`flex-1 font-medium ${o(d.color)}`,children:d.label}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>r(d.key),disabled:!h,className:"w-12 h-12 flex items-center justify-center rounded-lg bg-gray-200 text-gray-700 font-bold text-xl disabled:opacity-30 disabled:cursor-not-allowed hover:bg-gray-300 active:bg-gray-400 transition-colors touch-manipulation","aria-label":`Decrease ${d.label}`,children:""}),l.jsx("div",{className:"w-16 text-center",children:l.jsx("span",{className:"text-2xl font-bold text-gray-900",children:f})}),l.jsx("button",{onClick:()=>t(d.key),className:"w-12 h-12 flex items-center justify-center rounded-lg bg-green-600 text-white font-bold text-xl hover:bg-green-700 active:bg-green-800 transition-colors touch-manipulation","aria-label":`Increase ${d.label}`,children:"+"})]})]},d.key)})}),l.jsxs("div",{className:"sticky bottom-0 bg-white border-t-2 border-gray-200 pt-4 -mx-4 -mb-4 px-4 pb-4 sm:-mx-6 sm:-mb-6 sm:px-6 sm:pb-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm sm:text-base",children:[l.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[l.jsx("div",{className:"text-green-600 text-xs font-medium mb-1",children:"Total Winners"}),l.jsx("div",{className:"text-2xl font-bold text-green-700",children:c})]}),l.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[l.jsx("div",{className:"text-red-600 text-xs font-medium mb-1",children:"Total Errors"}),l.jsx("div",{className:"text-2xl font-bold text-red-700",children:u})]})]}),l.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:"Auto-saves when switching players"})]})]})}function cfe({stats:e,onUpdate:t,onSave:r,onDerive:n,isSaving:i}){const[a,s]=O.useState([]),[o,c]=O.useState(!0),u=p=>{s(v=>v.includes(p)?v.filter(y=>y!==p):[...v,p])},d=(p,v)=>l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:p}),l.jsx("input",{type:"number",min:"0",value:e[v]||0,onChange:y=>t({[v]:parseInt(y.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),f=(p,v,y)=>{const x=e[v]||0,m=e[y]||0,g=m>0?Math.round(x/m*100):0;return l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:p}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"number",min:"0",value:x,onChange:b=>t({[v]:parseInt(b.target.value)||0}),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Made"}),l.jsx("span",{className:"text-gray-500",children:"/"}),l.jsx("input",{type:"number",min:"0",value:m,onChange:b=>t({[y]:parseInt(b.target.value)||0}),className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Total"}),l.jsxs("span",{className:"text-sm font-medium text-green-600 ml-2",children:[g,"%"]})]})]})},h=(p,v,y)=>{const x=a.includes(v);return l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>u(v),className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:p}),l.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${x?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),x&&l.jsx("div",{className:"p-4 bg-white",children:y})]})};return l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[l.jsxs("button",{onClick:()=>c(!o),className:"w-full flex items-center justify-between mb-4 hover:bg-gray-50 p-3 rounded-lg transition-colors touch-manipulation",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Detailed Stats (Optional)"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:o?"Click to expand for detailed statistics":"Complete statistical breakdown"})]}),l.jsx("svg",{className:`w-6 h-6 text-gray-500 transition-transform ${o?"":"rotate-180"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),!o&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 pb-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:n,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 font-medium transition-colors text-sm sm:text-base touch-manipulation",children:"Auto-Fill from Events"}),l.jsx("button",{onClick:r,disabled:i,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors text-sm sm:text-base touch-manipulation",children:i?"Saving...":"Save All Stats"})]})}),h("Serve Stats","serve",l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-4",children:[f("1st Serve %","first_serve_in","first_serve_total"),f("1st Serve Points Won","first_serve_points_won","first_serve_in"),f("2nd Serve %","second_serve_in","second_serve_total"),f("2nd Serve Points Won","second_serve_points_won","second_serve_in")]}),l.jsxs("div",{className:"space-y-4",children:[d("Aces","aces"),d("Double Faults","double_faults"),d("Serve +1 Points Won","serve_plus1_points_won")]})]})),h("Return Stats","return",l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-4",children:[f("Returns In","returns_in","returns_total"),d("Deep Returns","deep_returns"),d("Return Winners","return_winners")]}),l.jsxs("div",{className:"space-y-4",children:[d("Return Unforced Errors","return_unforced_errors"),f("Break Points Won","break_points_won","break_points_total"),d("Breaks Won","breaks_won")]})]})),h("Rally Stats","rally",l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-4",children:[d("Average Rally Length","avg_rally_length"),d("Long Rallies Won","long_rallies_won"),d("Long Rallies Lost","long_rallies_lost")]}),l.jsxs("div",{className:"space-y-4",children:[f("Attacking Points Won","attacking_points_won","attacking_points_played"),f("Defensive Points Won","defensive_points_won","defensive_points_played")]})]})),h("Groundstroke Stats","groundstrokes",l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h5",{className:"font-medium text-gray-700",children:"Forehand"}),d("FH Winners","fh_winners"),d("FH Unforced Errors","fh_unforced_errors"),d("FH Forced Errors Drawn","fh_forced_errors_drawn")]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h5",{className:"font-medium text-gray-700",children:"Backhand"}),d("BH Winners","bh_winners"),d("BH Unforced Errors","bh_unforced_errors"),d("BH Forced Errors Drawn","bh_forced_errors_drawn")]})]})),h("Net Play Stats","net",l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-4",children:[f("Net Points Won","net_points_won","net_approaches"),d("Volley Winners","volley_winners")]}),l.jsxs("div",{className:"space-y-4",children:[d("Volley Errors","volley_errors"),d("Smash Winners","smash_winners"),d("Smash Errors","smash_errors")]})]})),h("Tactical Stats","tactical",l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-4",children:[d("Deuce Games Played","game_deuce_played"),d("Deuce Games Won","game_deuce_won"),d("Break Points Saved","bp_saved"),d("Break Points Faced","bp_faced"),d("Games from 40-0 Lost","game_from_40_0_lost")]}),l.jsxs("div",{className:"space-y-4",children:[d("Deep Shots","deep_shots"),d("Mid Court Shots","mid_court_shots"),d("Short Balls Given","short_balls_given"),d("Shots to Opponent BH","shots_to_opponent_bh"),d("Shots to Opponent FH","shots_to_opponent_fh")]})]})),h("Physical & Mental Stats","physical",l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Speed Rating (1-10)"}),l.jsx("input",{type:"range",min:"1",max:"10",value:e.speed_rating,onChange:p=>t({speed_rating:parseInt(p.target.value)}),className:"w-full"}),l.jsx("div",{className:"text-center font-bold text-lg text-green-600",children:e.speed_rating})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recovery Rating (1-10)"}),l.jsx("input",{type:"range",min:"1",max:"10",value:e.recovery_rating,onChange:p=>t({recovery_rating:parseInt(p.target.value)}),className:"w-full"}),l.jsx("div",{className:"text-center font-bold text-lg text-green-600",children:e.recovery_rating})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confidence Rating (1-10)"}),l.jsx("input",{type:"range",min:"1",max:"10",value:e.confidence_rating,onChange:p=>t({confidence_rating:parseInt(p.target.value)}),className:"w-full"}),l.jsx("div",{className:"text-center font-bold text-lg text-green-600",children:e.confidence_rating})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emotion Control (1-10)"}),l.jsx("input",{type:"range",min:"1",max:"10",value:e.emotion_control,onChange:p=>t({emotion_control:parseInt(p.target.value)}),className:"w-full"}),l.jsx("div",{className:"text-center font-bold text-lg text-green-600",children:e.emotion_control})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Focus Rating (1-10)"}),l.jsx("input",{type:"range",min:"1",max:"10",value:e.focus_rating,onChange:p=>t({focus_rating:parseInt(p.target.value)}),className:"w-full"}),l.jsx("div",{className:"text-center font-bold text-lg text-green-600",children:e.focus_rating})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tactical Adjustment (1-10)"}),l.jsx("input",{type:"range",min:"1",max:"10",value:e.tactical_adjustment,onChange:p=>t({tactical_adjustment:parseInt(p.target.value)}),className:"w-full"}),l.jsx("div",{className:"text-center font-bold text-lg text-green-600",children:e.tactical_adjustment})]}),d("Fatigue Errors","fatigue_errors"),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Coach Notes"}),l.jsx("textarea",{value:e.coach_notes,onChange:p=>t({coach_notes:p.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Add observations, tactical notes, or other comments..."})]})]})]}))]})]})}function ufe({setId:e,matchPlayerId:t,playerName:r,playerAvatar:n,setNumber:i}){const{state:a,incrementEvent:s,decrementEvent:o,updateDetailedStats:c,deriveDetailedStats:u,saveDetailedStats:d,isLoadingStats:f,isSavingStats:h}=ofe(e,t);return f?l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-600",children:"Loading stats..."})]})})}):l.jsxs("div",{className:"space-y-6",children:[l.jsx(lfe,{counters:a.eventCounters,onIncrement:s,onDecrement:o,playerName:r,playerAvatar:n,setNumber:i}),l.jsx(cfe,{stats:a.detailedStats,onUpdate:c,onSave:d,onDerive:u,isSaving:h})]})}function dfe({match:e,selectedSetId:t,selectedPlayerId:r,onSelectPlayer:n}){var o,c,u;const i=e.match_players.find(d=>d.match_player_id===r),a=(o=e.sets)==null?void 0:o.find(d=>d.set_id===t),s=a?((c=e.sets)==null?void 0:c.indexOf(a))+1:void 0;return l.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[!t&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6 text-center",children:l.jsx("p",{className:"text-blue-800 font-medium text-sm sm:text-base",children:'Please select or create a set in the "Sets" tab first'})}),t&&l.jsxs(l.Fragment,{children:[l.jsx(sfe,{players:e.match_players,selectedPlayerId:r,onSelectPlayer:n}),!r&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6 text-center",children:l.jsx("p",{className:"text-blue-800 font-medium text-sm sm:text-base",children:"Select a player above to track their stats"})}),r&&l.jsx(ufe,{matchId:e.match_id,setId:t,matchPlayerId:r,playerName:i==null?void 0:i.display_name,playerAvatar:((u=i==null?void 0:i.players)==null?void 0:u.avatar_url)??void 0,setNumber:s})]})]})}function ffe(){const{matchId:e}=sd(),t=fn(),r=e?parseInt(e,10):0,{data:n,isLoading:i,error:a}=efe(r),[s,o]=O.useState("match"),[c,u]=O.useState(null),[d,f]=O.useState(null),h=[{id:"match",label:"Match",icon:""},{id:"sets",label:"Sets",icon:""},{id:"stats",label:"Stats",icon:""}];if(i)return l.jsx("div",{className:"max-w-7xl mx-auto p-6",children:l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading match..."})]})})});if(a||!n)return l.jsx("div",{className:"max-w-7xl mx-auto p-6",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsxs("p",{className:"text-red-800",children:["Error loading match: ",(a==null?void 0:a.message)||"Match not found"]}),l.jsx("button",{onClick:()=>t("/dashboard/live"),className:"mt-4 text-red-600 hover:text-red-800 font-medium",children:" Back to Live Matches"})]})});const p=vR(n.match_players);return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200 px-3 sm:px-6 py-3 sm:py-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("button",{onClick:()=>t("/dashboard/live"),className:"text-gray-600 hover:text-gray-900 mb-2 sm:mb-3 flex items-center gap-2 touch-manipulation py-1",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),l.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-1",children:p}),l.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 text-xs sm:text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:n.format==="singles"?"Singles":"Doubles"}),l.jsx("span",{className:"hidden sm:inline",children:""}),l.jsx("span",{children:n.surface}),l.jsx("span",{className:"hidden sm:inline",children:""}),l.jsx("span",{children:new Date(n.match_date).toLocaleDateString()})]})]}),l.jsx("div",{children:l.jsx("span",{className:"inline-block px-3 py-1 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-medium bg-green-100 text-green-800",children:"Live"})})]})]})}),l.jsx(tfe,{tabs:h,activeTab:s,onTabChange:v=>o(v)}),l.jsxs("div",{className:"max-w-7xl mx-auto",children:[s==="match"&&l.jsx(rfe,{match:n}),s==="sets"&&l.jsx(afe,{match:n,selectedSetId:c,onSelectSet:u}),s==="stats"&&l.jsx(dfe,{match:n,selectedSetId:c,selectedPlayerId:d,onSelectPlayer:f})]})]})}function hfe(){return l.jsx(MD,{children:l.jsx(YL,{children:l.jsxs(zL,{children:[l.jsx(_t,{path:"/",element:l.jsx(FF,{})}),l.jsx(_t,{path:"/signup",element:l.jsx(BF,{})}),l.jsx(_t,{path:"/login",element:l.jsx(UF,{})}),l.jsx(_t,{path:"/choose-team",element:l.jsx(zF,{})}),l.jsx(_t,{path:"/waiting-for-approval",element:l.jsx(WF,{})}),l.jsxs(_t,{path:"/dashboard",element:l.jsx(ID,{children:l.jsx(DF,{})}),children:[l.jsx(_t,{index:!0,element:l.jsx(mue,{})}),l.jsx(_t,{path:"players",element:l.jsx(ade,{})}),l.jsx(_t,{path:"players/:id",element:l.jsx(bde,{})}),l.jsx(_t,{path:"compare",element:l.jsx(Qde,{})}),l.jsx(_t,{path:"matches",element:l.jsx(Ode,{})}),l.jsx(_t,{path:"matches/new",element:l.jsx(Ede,{})}),l.jsx(_t,{path:"matches/:id/edit",element:l.jsx(kde,{})}),l.jsx(_t,{path:"matches/:id",element:l.jsx(Ude,{})}),l.jsx(_t,{path:"matches/:id/compare",element:l.jsx(qde,{})}),l.jsx(_t,{path:"live",element:l.jsx(Zde,{})}),l.jsx(_t,{path:"live/:matchId",element:l.jsx(ffe,{})}),l.jsx(_t,{path:"team/admin",element:l.jsx(qF,{})})]}),l.jsx(_t,{path:"*",element:l.jsx(zv,{to:"/",replace:!0})})]})})})}const pfe=new h6;Gg.createRoot(document.getElementById("root")).render(l.jsx(E.StrictMode,{children:l.jsx(p6,{client:pfe,children:l.jsx(hfe,{})})}));
